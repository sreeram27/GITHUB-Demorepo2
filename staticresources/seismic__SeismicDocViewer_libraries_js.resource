sforce.Transport = function(url) {
    this.url = url;
    this.connection = null;

    this.newConnection = function() {
        try {
            this.connection = new ActiveXObject('Msxml2.XMLHTTP');
        } catch(e) {
            try {
                this.connection = new ActiveXObject('Microsoft.XMLHTTP');
            } catch(e) {
                this.connection = new XMLHttpRequest();
            }
        }

        return this.connection;
    };

    this.send = function (envelope, callback, async, timeout) {
        this.newConnection();
        if (async) {
            this.connection.onreadystatechange = this.httpConnectionCallback;
        }
        var holder = new sforce.internal.ConnectionHolder(this.connection, callback);
        sforce.internal._connections.push(holder);
        this.connection.open("POST", this.url, async);
        this.connection.setRequestHeader("Content-Type", "text/xml; charset=UTF-8");
        this.connection.setRequestHeader("SOAPAction", "\"\"");
        this.connection.setRequestHeader("Accept", "text/xml");
        //try{this.connection.setRequestHeader("User-Agent", "SFAJAX 1.0");}catch(e){}
        
        this.connection.send(envelope);
        if (async && typeof(timeout) !== "undefined") {
            this.setTimeoutOn(holder, timeout);
        }
        if (!async) {
            this.httpConnectionCallback();
        }
    };

    this.setTimeoutOn = function (holder, timeout) {
        function abortConnection() {
            if (holder.connection.readyState !== 4) {
                holder.timedout = true;
                holder.connection.abort();
            }
        }
        setTimeout(abortConnection, timeout);
    };

    this.httpConnectionCallback = function () {

        for (var i = 0; i < sforce.internal._connections.length; i++) {
            var holder = sforce.internal._connections[i];
            if (holder !== null) {
                if (holder.timedout) {
                    sforce.internal._connections[i] = null;
                    sforce.internal._connections.slice(i,1);
                    holder.callback.httpCallback("Remote invocation timed out", false);
                } else  if (holder.connection.readyState == 4) {
                    sforce.internal._connections[i] = null;
                    sforce.internal._connections.slice(i,1);
                    var success = holder.connection.status == 200;
                    if (sforce.debug.trace) {
                        sforce.debug.log("Response : status - " + holder.connection.status);
                        sforce.debug.logXml(holder.connection.responseText);
                    }
                    if (sforce.debug.apexTrace) {
                        sforce.debug.logApex(holder.connection.responseText);
                    }
                    if (holder.connection.responseXML && holder.connection.responseXML.documentElement) {
                        holder.callback.httpCallback(holder.connection.responseXML.documentElement, success);
                    } else {
                        holder.callback.httpCallback("Remote invocation failed, due to: " + holder.connection.responseText +
                                                     " status code: ", holder.connection.status);
                    }
                }
            }
        }
    };
};


///#source 1 1 /h5/libraries/2.5.3-crypto-sha1-hmac.js
/*
 * Crypto-JS v2.5.3
 * http://code.google.com/p/crypto-js/
 * (c) 2009-2012 by Jeff Mott. All rights reserved.
 * http://code.google.com/p/crypto-js/wiki/License
 */
(typeof Crypto=="undefined"||!Crypto.util)&&function(){var e=window.Crypto={},k=e.util={rotl:function(b,c){return b<<c|b>>>32-c},rotr:function(b,c){return b<<32-c|b>>>c},endian:function(b){if(b.constructor==Number)return k.rotl(b,8)&16711935|k.rotl(b,24)&4278255360;for(var c=0;c<b.length;c++)b[c]=k.endian(b[c]);return b},randomBytes:function(b){for(var c=[];b>0;b--)c.push(Math.floor(Math.random()*256));return c},bytesToWords:function(b){for(var c=[],a=0,i=0;a<b.length;a++,i+=8)c[i>>>5]|=(b[a]&255)<<
24-i%32;return c},wordsToBytes:function(b){for(var c=[],a=0;a<b.length*32;a+=8)c.push(b[a>>>5]>>>24-a%32&255);return c},bytesToHex:function(b){for(var c=[],a=0;a<b.length;a++)c.push((b[a]>>>4).toString(16)),c.push((b[a]&15).toString(16));return c.join("")},hexToBytes:function(b){for(var c=[],a=0;a<b.length;a+=2)c.push(parseInt(b.substr(a,2),16));return c},bytesToBase64:function(b){if(typeof btoa=="function")return btoa(d.bytesToString(b));for(var c=[],a=0;a<b.length;a+=3)for(var i=b[a]<<16|b[a+1]<<
8|b[a+2],l=0;l<4;l++)a*8+l*6<=b.length*8?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-l)&63)):c.push("=");return c.join("")},base64ToBytes:function(b){if(typeof atob=="function")return d.stringToBytes(atob(b));for(var b=b.replace(/[^A-Z0-9+\/]/ig,""),c=[],a=0,i=0;a<b.length;i=++a%4)i!=0&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(a-1))&Math.pow(2,-2*i+8)-1)<<i*2|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(a))>>>
6-i*2);return c}},e=e.charenc={};e.UTF8={stringToBytes:function(b){return d.stringToBytes(unescape(encodeURIComponent(b)))},bytesToString:function(b){return decodeURIComponent(escape(d.bytesToString(b)))}};var d=e.Binary={stringToBytes:function(b){for(var c=[],a=0;a<b.length;a++)c.push(b.charCodeAt(a)&255);return c},bytesToString:function(b){for(var c=[],a=0;a<b.length;a++)c.push(String.fromCharCode(b[a]));return c.join("")}}}();
(function(){var e=Crypto,k=e.util,d=e.charenc,b=d.UTF8,c=d.Binary,a=e.SHA1=function(b,l){var f=k.wordsToBytes(a._sha1(b));return l&&l.asBytes?f:l&&l.asString?c.bytesToString(f):k.bytesToHex(f)};a._sha1=function(a){a.constructor==String&&(a=b.stringToBytes(a));var c=k.bytesToWords(a),f=a.length*8,a=[],e=1732584193,g=-271733879,d=-1732584194,j=271733878,m=-1009589776;c[f>>5]|=128<<24-f%32;c[(f+64>>>9<<4)+15]=f;for(f=0;f<c.length;f+=16){for(var p=e,q=g,r=d,s=j,t=m,h=0;h<80;h++){if(h<16)a[h]=c[f+h];else{var n=
a[h-3]^a[h-8]^a[h-14]^a[h-16];a[h]=n<<1|n>>>31}n=(e<<5|e>>>27)+m+(a[h]>>>0)+(h<20?(g&d|~g&j)+1518500249:h<40?(g^d^j)+1859775393:h<60?(g&d|g&j|d&j)-1894007588:(g^d^j)-899497514);m=j;j=d;d=g<<30|g>>>2;g=e;e=n}e+=p;g+=q;d+=r;j+=s;m+=t}return[e,g,d,j,m]};a._blocksize=16;a._digestsize=20})();
(function(){var e=Crypto,k=e.util,d=e.charenc,b=d.UTF8,c=d.Binary;e.HMAC=function(a,e,d,f){e.constructor==String&&(e=b.stringToBytes(e));d.constructor==String&&(d=b.stringToBytes(d));d.length>a._blocksize*4&&(d=a(d,{asBytes:!0}));for(var o=d.slice(0),d=d.slice(0),g=0;g<a._blocksize*4;g++)o[g]^=92,d[g]^=54;a=a(o.concat(a(d.concat(e),{asBytes:!0})),{asBytes:!0});return f&&f.asBytes?a:f&&f.asString?c.bytesToString(a):k.bytesToHex(a)}})();

///#source 1 1 /h5/libraries/jquery/dist/jquery.min.js
/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
(function(n,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)})(typeof window!="undefined"?window:this,function(n,t){function ri(n){var t="length"in n&&n.length,r=i.type(n);return r==="function"||i.isWindow(n)?!1:n.nodeType===1&&t?!0:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n}function ui(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if(typeof t=="string"){if(ef.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return ft.call(t,n)>=0!==r})}function ur(n,t){while((n=n[t])&&n.nodeType!==1);return n}function of(n){var t=fi[n]={};return i.each(n.match(c)||[],function(n,i){t[i]=!0}),t}function ht(){u.removeEventListener("DOMContentLoaded",ht,!1);n.removeEventListener("load",ht,!1);i.ready()}function v(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+v.uid++}function fr(n,t,r){var u;if(r===undefined&&n.nodeType===1)if(u="data-"+t.replace(hf,"-$1").toLowerCase(),r=n.getAttribute(u),typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:sf.test(r)?i.parseJSON(r):r}catch(f){}e.set(n,t,r)}else r=undefined;return r}function lt(){return!0}function k(){return!1}function hr(){try{return u.activeElement}catch(n){}}function vr(n,t){return i.nodeName(n,"table")&&i.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function bf(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function kf(n){var t=pf.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function ei(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function yr(n,t){var f,c,o,s,h,l,a,u;if(t.nodeType===1){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),u=s.events,u)){delete h.handle;h.events={};for(o in u)for(f=0,c=u[o].length;f<c;f++)i.event.add(t,o,u[o][f])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function o(n,t){var r=n.getElementsByTagName?n.getElementsByTagName(t||"*"):n.querySelectorAll?n.querySelectorAll(t||"*"):[];return t===undefined||t&&i.nodeName(n,t)?i.merge([n],r):r}function df(n,t){var i=t.nodeName.toLowerCase();i==="input"&&er.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function pr(t,r){var f,u=i(r.createElement(t)).appendTo(r.body),e=n.getDefaultComputedStyle&&(f=n.getDefaultComputedStyle(u[0]))?f.display:i.css(u[0],"display");return u.detach(),e}function si(n){var r=u,t=oi[n];return t||(t=pr(n,r),t!=="none"&&t||(at=(at||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=at[0].contentDocument,r.write(),r.close(),t=pr(n,r),at.detach()),oi[n]=t),t}function it(n,t,r){var e,o,s,u,f=n.style;return r=r||vt(n),r&&(u=r.getPropertyValue(t)||r[t]),r&&(u!==""||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),hi.test(u)&&wr.test(t)&&(e=f.width,o=f.minWidth,s=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=e,f.minWidth=o,f.maxWidth=s)),u!==undefined?u+"":u}function br(n,t){return{get:function(){if(n()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function gr(n,t){if(t in n)return t;for(var r=t[0].toUpperCase()+t.slice(1),u=t,i=dr.length;i--;)if(t=dr[i]+r,t in n)return t;return u}function nu(n,t,i){var r=ne.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function tu(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+p[e],!0,f)),u?(r==="content"&&(o-=i.css(n,"padding"+p[e],!0,f)),r!=="margin"&&(o-=i.css(n,"border"+p[e]+"Width",!0,f))):(o+=i.css(n,"padding"+p[e],!0,f),r!=="padding"&&(o+=i.css(n,"border"+p[e]+"Width",!0,f)));return o}function iu(n,t,r){var o=!0,u=t==="width"?n.offsetWidth:n.offsetHeight,e=vt(n),s=i.css(n,"boxSizing",!1,e)==="border-box";if(u<=0||u==null){if(u=it(n,t,e),(u<0||u==null)&&(u=n.style[t]),hi.test(u))return u;o=s&&(f.boxSizingReliable()||u===n.style[t]);u=parseFloat(u)||0}return u+tu(n,t,r||(s?"border":"content"),o,e)+"px"}function ru(n,t){for(var e,u,s,o=[],f=0,h=n.length;f<h;f++)(u=n[f],u.style)&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||e!=="none"||(u.style.display=""),u.style.display===""&&tt(u)&&(o[f]=r.access(u,"olddisplay",si(u.nodeName)))):(s=tt(u),e==="none"&&s||r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;f<h;f++)(u=n[f],u.style)&&(t&&u.style.display!=="none"&&u.style.display!==""||(u.style.display=t?o[f]||"":"none"));return n}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function fu(){return setTimeout(function(){d=undefined}),d=i.now()}function wt(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=p[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function eu(n,t,i){for(var u,f=(rt[t]||[]).concat(rt["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function fe(n,t,u){var f,a,p,v,o,w,h,b,l=this,y={},s=n.style,c=n.nodeType&&tt(n),e=r.get(n,"fxshow");u.queue||(o=i._queueHooks(n,"fx"),o.unqueued==null&&(o.unqueued=0,w=o.empty.fire,o.empty.fire=function(){o.unqueued||w()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--;i.queue(n,"fx").length||o.empty.fire()})}));n.nodeType===1&&("height"in t||"width"in t)&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],h=i.css(n,"display"),b=h==="none"?r.get(n,"olddisplay")||si(n.nodeName):h,b==="inline"&&i.css(n,"float")==="none"&&(s.display="inline-block"));u.overflow&&(s.overflow="hidden",l.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],re.exec(a)){if(delete t[f],p=p||a==="toggle",a===(c?"hide":"show"))if(a==="show"&&e&&e[f]!==undefined)c=!0;else continue;y[f]=e&&e[f]||i.style(n,f)}else h=undefined;if(i.isEmptyObject(y))(h==="none"?si(n.nodeName):h)==="inline"&&(s.display=h);else{e?"hidden"in e&&(c=e.hidden):e=r.access(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=eu(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start=f==="width"||f==="height"?1:0))}}function ee(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ou(n,t,r){var e,o,s=0,l=pt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=d||fu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:d||fu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),h=u.props;for(ee(h,u.opts.specialEasing);s<l;s++)if(e=pt[s].call(u,n,h,u.opts),e)return e;return i.map(h,eu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function pu(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(c)||[];if(i.isFunction(r))while(u=e[f++])u[0]==="+"?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function wu(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===ci;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ai(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ae(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ve(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function vi(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||pe.test(n)?u(n,i):vi(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)vi(n+"["+f+"]",t[f],r,u)}function ku(n){return i.isWindow(n)?n:n.nodeType===9&&n.defaultView}var w=[],a=w.slice,bi=w.concat,ti=w.push,ft=w.indexOf,et={},nf=et.toString,ii=et.hasOwnProperty,f={},u=n.document,ki="2.1.4",i=function(n,t){return new i.fn.init(n,t)},tf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rf=/^-ms-/,uf=/-([\da-z])/gi,ff=function(n,t){return t.toUpperCase()},y,ot,nr,tr,ir,rr,c,fi,st,l,b,at,oi,oe,su,g,hu,bt,cu,kt,dt,yi,ni,pi,wi,du,gu;i.fn=i.prototype={jquery:ki,constructor:i,selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return n!=null?n<0?this[n+this.length]:this[n]:a.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ti,sort:w.sort,splice:w.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[u]||{},u++),typeof n=="object"||i.isFunction(n)||(n={}),u===c&&(n=this,u--);u<c;u++)if((e=arguments[u])!=null)for(f in e)(r=n[f],t=e[f],n!==t)&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):t!==undefined&&(n[f]=t));return n};i.extend({expando:"jQuery"+(ki+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray,isWindow:function(n){return n!=null&&n===n.window},isNumeric:function(n){return!i.isArray(n)&&n-parseFloat(n)+1>=0},isPlainObject:function(n){return i.type(n)!=="object"||n.nodeType||i.isWindow(n)?!1:n.constructor&&!ii.call(n.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(n){for(var t in n)return!1;return!0},type:function(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?et[nf.call(n)]||"object":typeof n},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(n.indexOf("use strict")===1?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(rf,"ms-").replace(uf,ff)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=ri(n);if(i){if(e){for(;r<f;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;r<f;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return n==null?"":(n+"").replace(tf,"")},makeArray:function(n,t){var r=t||[];return n!=null&&(ri(Object(n))?i.merge(r,typeof n=="string"?[n]:n):ti.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:ft.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=ri(n),f=[];if(o)for(;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return bi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return(typeof t=="string"&&(u=n[t],t=n,n=u),!i.isFunction(n))?undefined:(f=a.call(arguments,2),r=function(){return n.apply(t||this,f.concat(a.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},now:Date.now,support:f});i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){et["[object "+t+"]"]=t.toLowerCase()});y=function(n){function r(n,t,i,r){var p,s,a,c,w,y,d,v,nt,g;if((t?t.ownerDocument||t:h)!==o&&k(t),t=t||o,i=i||[],c=t.nodeType,typeof n!="string"||!n||c!==1&&c!==9&&c!==11)return i;if(!r&&l){if(c!==11&&(p=hr.exec(n)))if(a=p[1]){if(c===9)if(s=t.getElementById(a),s&&s.parentNode){if(s.id===a)return i.push(s),i}else return i;else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&et(t,s)&&s.id===a)return i.push(s),i}else{if(p[2])return b.apply(i,t.getElementsByTagName(n)),i;if((a=p[3])&&u.getElementsByClassName)return b.apply(i,t.getElementsByClassName(a)),i}if(u.qsa&&(!e||!e.test(n))){if(v=d=f,nt=t,g=c!==1&&n,c===1&&t.nodeName.toLowerCase()!=="object"){for(y=ft(n),(d=t.getAttribute("id"))?v=d.replace(cr,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",w=y.length;w--;)y[w]=v+vt(y[w]);nt=dt.test(n)&&ti(t.parentNode)||t;g=y.join(",")}if(g)try{return b.apply(i,nt.querySelectorAll(g)),i}catch(tt){}finally{d||t.removeAttribute("id")}}}return oi(n.replace(lt,"$1"),t,i,r)}function gt(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function c(n){return n[f]=!0,n}function v(n){var t=o.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ni(n,i){for(var u=n.split("|"),r=n.length;r--;)t.attrHandle[u[r]]=i}function wi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function tt(n){return c(function(t){return t=+t,c(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ti(n){return n&&typeof n.getElementsByTagName!="undefined"&&n}function bi(){}function vt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function ii(n,t,i){var r=t.dir,u=i&&r==="parentNode",e=ki++;return t.first?function(t,i,f){while(t=t[r])if(t.nodeType===1||u)return n(t,i,f)}:function(t,i,o){var s,h,c=[a,e];if(o){while(t=t[r])if((t.nodeType===1||u)&&n(t,i,o))return!0}else while(t=t[r])if(t.nodeType===1||u){if(h=t[f]||(t[f]={}),(s=h[r])&&s[0]===a&&s[1]===e)return c[2]=s[2];if(h[r]=c,c[2]=n(t,i,o))return!0}}}function ri(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function vr(n,t,i){for(var u=0,f=t.length;u<f;u++)r(n,t[u],i);return i}function yt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function ui(n,t,i,r,u,e){return r&&!r[f]&&(r=ui(r)),u&&!u[f]&&(u=ui(u,e)),c(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||vr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?yt(k,p,n,o,s):k,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=yt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=yt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function fi(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ii(function(n){return n===o},c,!0),a=ii(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[ii(ri(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return ui(i>1&&ri(e),i>1&&vt(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(lt,"$1"),u,i<r&&fi(n.slice(i,r)),r<s&&fi(n=n.slice(r)),r<s&&vt(n))}e.push(u)}return ri(e)}function yr(n,i){var u=i.length>0,f=n.length>0,e=function(e,s,h,c,l){var y,d,w,k=0,v="0",g=e&&[],p=[],nt=ht,tt=e||f&&t.find.TAG("*",l),it=a+=nt==null?1:Math.random()||.1,rt=tt.length;for(l&&(ht=s!==o&&s);v!==rt&&(y=tt[v])!=null;v++){if(f&&y){for(d=0;w=n[d++];)if(w(y,s,h)){c.push(y);break}l&&(a=it)}u&&((y=!w&&y)&&k--,e&&g.push(y))}if(k+=v,u&&v!==k){for(d=0;w=i[d++];)w(g,p,s,h);if(e){if(k>0)while(v--)g[v]||p[v]||(p[v]=gi.call(c));p=yt(p)}b.apply(c,p);l&&!e&&p.length>0&&k+i.length>1&&r.uniqueSort(c)}return l&&(a=it,ht=nt),g};return u?c(e):e}var it,u,t,st,ei,ft,pt,oi,ht,w,rt,k,o,s,l,e,d,ct,et,f="sizzle"+1*new Date,h=n.document,a=0,ki=0,si=gt(),hi=gt(),ci=gt(),wt=function(n,t){return n===t&&(rt=!0),0},li=-2147483648,di={}.hasOwnProperty,g=[],gi=g.pop,nr=g.push,b=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},bt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",i="[\\x20\\t\\r\\n\\f]",ut="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vi=ut.replace("w","w#"),yi="\\["+i+"*("+ut+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vi+"))|)"+i+"*\\]",kt=":("+ut+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+yi+")*)|.*)\\)|)",tr=new RegExp(i+"+","g"),lt=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),ir=new RegExp("^"+i+"*,"+i+"*"),rr=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),ur=new RegExp("="+i+"*([^\\]'\"]*?)"+i+"*\\]","g"),fr=new RegExp(kt),er=new RegExp("^"+vi+"$"),at={ID:new RegExp("^#("+ut+")"),CLASS:new RegExp("^\\.("+ut+")"),TAG:new RegExp("^("+ut.replace("w","w*")+")"),ATTR:new RegExp("^"+yi),PSEUDO:new RegExp("^"+kt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+bt+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},or=/^(?:input|select|textarea|button)$/i,sr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,hr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,dt=/[+~]/,cr=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+i+"?|("+i+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},pi=function(){k()};try{b.apply(g=ai.call(h.childNodes),h.childNodes);g[h.childNodes.length].nodeType}catch(pr){b={apply:g.length?function(n,t){nr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}u=r.support={};ei=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};k=r.setDocument=function(n){var a,c,r=n?n.ownerDocument||n:h;return r===o||r.nodeType!==9||!r.documentElement?o:(o=r,s=r.documentElement,c=r.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",pi,!1):c.attachEvent&&c.attachEvent("onunload",pi)),l=!ei(r),u.attributes=v(function(n){return n.className="i",!n.getAttribute("className")}),u.getElementsByTagName=v(function(n){return n.appendChild(r.createComment("")),!n.getElementsByTagName("*").length}),u.getElementsByClassName=ot.test(r.getElementsByClassName),u.getById=v(function(n){return s.appendChild(n).id=f,!r.getElementsByName||!r.getElementsByName(f).length}),u.getById?(t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&l){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=u.getElementsByTagName?function(n,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(n):u.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=u.getElementsByClassName&&function(n,t){if(l)return t.getElementsByClassName(n)},d=[],e=[],(u.qsa=ot.test(r.querySelectorAll))&&(v(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\f]' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&e.push("[*^$]="+i+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||e.push("\\["+i+"*(?:value|"+bt+")");n.querySelectorAll("[id~="+f+"-]").length||e.push("~=");n.querySelectorAll(":checked").length||e.push(":checked");n.querySelectorAll("a#"+f+"+*").length||e.push(".#.+[+~]")}),v(function(n){var t=r.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&e.push("name"+i+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||e.push(":enabled",":disabled");n.querySelectorAll("*,:x");e.push(",.*:")})),(u.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&v(function(n){u.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");d.push("!=",kt)}),e=e.length&&new RegExp(e.join("|")),d=d.length&&new RegExp(d.join("|")),a=ot.test(s.compareDocumentPosition),et=a||ot.test(s.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},wt=a?function(n,t){if(n===t)return rt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,i&1||!u.sortDetached&&t.compareDocumentPosition(n)===i)?n===r||n.ownerDocument===h&&et(h,n)?-1:t===r||t.ownerDocument===h&&et(h,t)?1:w?nt(w,n)-nt(w,t):0:i&4?-1:1}:function(n,t){if(n===t)return rt=!0,0;var i,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(o&&s){if(o===s)return wi(n,t)}else return n===r?-1:t===r?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;for(i=n;i=i.parentNode;)f.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===h?-1:e[u]===h?1:0},r)};r.matches=function(n,t){return r(n,null,null,t)};r.matchesSelector=function(n,t){if((n.ownerDocument||n)!==o&&k(n),t=t.replace(ur,"='$1']"),u.matchesSelector&&l&&(!d||!d.test(t))&&(!e||!e.test(t)))try{var i=ct.call(n,t);if(i||u.disconnectedMatch||n.document&&n.document.nodeType!==11)return i}catch(f){}return r(t,o,null,[n]).length>0};r.contains=function(n,t){return(n.ownerDocument||n)!==o&&k(n),et(n,t)};r.attr=function(n,i){(n.ownerDocument||n)!==o&&k(n);var f=t.attrHandle[i.toLowerCase()],r=f&&di.call(t.attrHandle,i.toLowerCase())?f(n,i,!l):undefined;return r!==undefined?r:u.attributes||!l?n.getAttribute(i):(r=n.getAttributeNode(i))&&r.specified?r.value:null};r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};r.uniqueSort=function(n){var r,f=[],t=0,i=0;if(rt=!u.detectDuplicates,w=!u.sortStable&&n.slice(0),n.sort(wt),rt){while(r=n[i++])r===n[i]&&(t=f.push(i));while(t--)n.splice(f[t],1)}return w=null,n};st=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=r.selectors={cacheLength:50,createPseudo:c,match:at,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||r.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&r.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return at.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&fr.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=si[n+" "];return t||(t=new RegExp("(^|"+i+")"+n+"("+i+"|$)"))&&si(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!="undefined"&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f.replace(tr," ")+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",e=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var v,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;w=b=n==="only"&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),v=k[n]||[],y=v[0]===a&&v[1],l=v[0]===a&&v[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(c.nodeType===1&&++l&&c===t){k[n]=[a,y,l];break}}else if(d&&(v=(t[f]||(t[f]={}))[n])&&v[0]===a)l=v[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[a,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return u[f]?u(i):u.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?c(function(n,t){for(var r,f=u(n,i),e=f.length;e--;)r=nt(n,f[e]),n[r]=!(t[r]=f[e])}):function(n){return u(n,0,e)}):u}},pseudos:{not:c(function(n){var t=[],r=[],i=pt(n.replace(lt,"$1"));return i[f]?c(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:c(function(n){return function(t){return r(n,t).length>0}}),contains:c(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:c(function(n){return er.test(n||"")||r.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===o.activeElement&&(!o.hasFocus||o.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return sr.test(n.nodeName)},input:function(n){return or.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:tt(function(){return[0]}),last:tt(function(n,t){return[t-1]}),eq:tt(function(n,t,i){return[i<0?i+t:i]}),even:tt(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:tt(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:tt(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:tt(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(it in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[it]=lr(it);for(it in{submit:!0,reset:!0})t.pseudos[it]=ar(it);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,ft=r.tokenize=function(n,i){var e,f,s,o,u,h,c,l=hi[n+" "];if(l)return i?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){(!e||(f=ir.exec(u)))&&(f&&(u=u.slice(f[0].length)||u),h.push(s=[]));e=!1;(f=rr.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(lt," ")}),u=u.slice(e.length));for(o in t.filter)(f=at[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return i?u.length:u?r.error(n):hi(n,h).slice(0)},pt=r.compile=function(n,t){var r,u=[],e=[],i=ci[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=fi(t[r]),i[f]?u.push(i):e.push(i);i=ci(n,yr(e,u));i.selector=n}return i},oi=r.select=function(n,i,r,f){var s,e,o,a,v,c=typeof n=="function"&&n,h=!f&&ft(n=c.selector||n);if(r=r||[],h.length===1){if(e=h[0]=h[0].slice(0),e.length>2&&(o=e[0]).type==="ID"&&u.getById&&i.nodeType===9&&l&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(e.shift().value.length)}for(s=at.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[a=o.type])break;if((v=t.find[a])&&(f=v(o.matches[0].replace(y,p),dt.test(e[0].type)&&ti(i.parentNode)||i))){if(e.splice(s,1),n=f.length&&vt(e),!n)return b.apply(r,f),r;break}}}return(c||pt(n,h))(f,i,!l,r,dt.test(n)&&ti(i.parentNode)||i),r},u.sortStable=f.split("").sort(wt).join("")===f,u.detectDuplicates=!!rt,k(),u.sortDetached=v(function(n){return n.compareDocumentPosition(o.createElement("div"))&1}),v(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ni("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)}),u.attributes&&v(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ni("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue}),v(function(n){return n.getAttribute("disabled")==null})||ni(bt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),r}(n);i.find=y;i.expr=y.selectors;i.expr[":"]=i.expr.pseudos;i.unique=y.uniqueSort;i.text=y.getText;i.isXMLDoc=y.isXML;i.contains=y.contains;var di=i.expr.match.needsContext,gi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ef=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))};i.fn.extend({find:function(n){var t,u=this.length,r=[],f=this;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(t=0;t<u;t++)i.find(n,f[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(ui(this,n||[],!1))},not:function(n){return this.pushStack(ui(this,n||[],!0))},is:function(n){return!!ui(this,typeof n=="string"&&di.test(n)?i(n):n||[],!1).length}});nr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;tr=i.fn.init=function(n,t){var r,f;if(!n)return this;if(typeof n=="string"){if(r=n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?[null,n,null]:nr.exec(n),r&&(r[1]||!t)){if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),gi.test(r[1])&&i.isPlainObject(t))for(r in t)i.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return f=u.getElementById(r[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=u,this.selector=n,this}return!t||t.jquery?(t||ot).find(n):this.constructor(t).find(n)}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?typeof ot.ready!="undefined"?ot.ready(n):n(i):(n.selector!==undefined&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};tr.prototype=i.fn;ot=i(u);ir=/^(?:parents|prev(?:Until|All))/;rr={children:!0,contents:!0,next:!0,prev:!0};i.extend({dir:function(n,t,r){for(var u=[],f=r!==undefined;(n=n[t])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&i(n).is(r))break;u.push(n)}return u},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=di.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?typeof n=="string"?ft.call(i(n),this[0]):ft.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.unique(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return ur(n,"nextSibling")},prev:function(n){return ur(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(rr[n]||i.unique(f),ir.test(n)&&f.reverse()),this.pushStack(f)}});c=/\S+/g;fi={};i.Callbacks=function(n){n=typeof n=="string"?fi[n]||of(n):i.extend({},n);var u,h,o,c,f,e,t=[],r=!n.once&&[],l=function(i){for(u=n.memory&&i,h=!0,e=c||0,c=0,f=t.length,o=!0;t&&e<f;e++)if(t[e].apply(i[0],i[1])===!1&&n.stopOnFalse){u=!1;break}o=!1;t&&(r?r.length&&l(r.shift()):u?t=[]:s.disable())},s={add:function(){if(t){var r=t.length;(function e(r){i.each(r,function(r,u){var f=i.type(u);f==="function"?n.unique&&s.has(u)||t.push(u):u&&u.length&&f!=="string"&&e(u)})})(arguments);o?f=t.length:u&&(c=r,l(u))}return this},remove:function(){return t&&i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),o&&(u<=f&&f--,u<=e&&e--)}),this},has:function(n){return n?i.inArray(n,t)>-1:!!(t&&t.length)},empty:function(){return t=[],f=0,this},disable:function(){return t=r=u=undefined,this},disabled:function(){return!t},lock:function(){return r=undefined,u||s.disable(),this},locked:function(){return!r},fireWith:function(n,i){return t&&(!h||r)&&(i=i||[],i=[n,i.slice?i.slice():i],o?r.push(i):l(i)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||(st.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready")))}});i.ready.promise=function(t){return st||(st=i.Deferred(),u.readyState==="complete"?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",ht,!1),n.addEventListener("load",ht,!1))),st.promise(t)};i.ready.promise();l=i.access=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=r==null;if(i.type(r)==="object"){f=!0;for(s in r)i.access(n,t,s,r[s],!0,e,o)}else if(u!==undefined&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;s<c;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};i.acceptData=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};v.uid=1;v.accepts=i.acceptData;v.prototype={key:function(n){if(!v.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=v.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if(typeof t=="string")u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,t){var i=this.cache[this.key(n)];return t===undefined?i:i[t]},access:function(n,t,r){var u;return t===undefined||t&&typeof t=="string"&&r===undefined?(u=this.get(n,t),u!==undefined?u:this.get(n,i.camelCase(t))):(this.set(n,t,r),r!==undefined?r:t)},remove:function(n,t){var u,r,f,o=this.key(n),e=this.cache[o];if(t===undefined)this.cache[o]={};else for(i.isArray(t)?r=t.concat(t.map(i.camelCase)):(f=i.camelCase(t),t in e?r=[t,f]:(r=f,r=r in e?[r]:r.match(c)||[])),u=r.length;u--;)delete e[r[u]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};var r=new v,e=new v,sf=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,hf=/([A-Z])/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(n===undefined){if(this.length&&(s=e.get(u),u.nodeType===1&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,f.indexOf("data-")===0&&(f=i.camelCase(f.slice(5)),fr(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return typeof n=="object"?this.each(function(){e.set(this,n)}):l(this,function(t){var r,f=i.camelCase(n);if(u&&t===undefined)return(r=e.get(u,n),r!==undefined)?r:(r=e.get(u,f),r!==undefined)?r:(r=fr(u,f,undefined),r!==undefined)?r:void 0;this.each(function(){var i=e.get(this,f);e.set(this,f,t);n.indexOf("-")!==-1&&i!==undefined&&e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,p=["Top","Right","Bottom","Left"],tt=function(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)},er=/^(?:checkbox|radio)$/i;(function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue})();b=typeof undefined;f.focusinBubbles="onfocusin"in n;var cf=/^key/,lf=/^(?:mouse|pointer|contextmenu)|click/,or=/^(?:focusinfocus|focusoutblur)$/,sr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,k,h,s,l,o,d,g,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){return typeof i!==b&&i.event.triggered!==t.type?i.event.dispatch.apply(n,arguments):undefined}),t=(t||"").match(c)||[""],k=t.length;k--;)(w=sr.exec(t[k])||[],o=g=w[1],d=(w[2]||"").split(".").sort(),o)&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:d.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,d,y)!==!1||n.addEventListener&&n.addEventListener(o,y,!1)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,h):l.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var p,k,h,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(c)||[""],w=t.length;w--;){if(h=sr.exec(t[w])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[w],u,f,!0);continue}for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!h||h.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=ii.call(t,"type")?t.type:t,y=ii.call(t,"namespace")?t.namespace.split("."):[];if((s=c=e=e||u,e.nodeType!==3&&e.nodeType!==8)&&!or.test(h+i.event.triggered)&&(h.indexOf(".")>=0&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,typeof t=="object"&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=e),f=f==null?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,or.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&i.acceptData(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||(!l._default||l._default.apply(p.pop(),f)===!1)&&i.acceptData(e)&&a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=undefined,c&&(e[a]=c)),t.result}},dispatch:function(n){n=i.event.fix(n);var o,s,e,u,t,h=[],c=a.call(arguments),l=(r.get(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,l),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(t=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(t.namespace))&&(n.handleObj=t,n.data=t.data,e=((i.event.special[t.origType]||{}).handle||t.handler).apply(u.elem,c),e!==undefined&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&(!n.button||n.type!=="click"))for(;r!==this;r=r.parentNode||this)if(r.disabled!==!0||n.type!=="click"){for(u=[],e=0;e<s;e++)o=t[e],f=o.selector+" ",u[f]===undefined&&(u[f]=o.needsContext?i(f,this).index(r)>=0:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var e,i,r,f=t.button;return n.pageX==null&&t.clientX!=null&&(e=n.target.ownerDocument||u,i=e.documentElement,r=e.body,n.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),n.which||f===undefined||(n.which=f&1?1:f&2?3:f&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=lf.test(r)?this.mouseHooks:cf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),n.target.nodeType===3&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==hr()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===hr()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&i.nodeName(this,"input"))return this.click(),!1},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?lt:k):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=lt;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=lt;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=lt;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});f.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});i.fn.extend({on:function(n,t,r,u,f){var e,o;if(typeof n=="object"){typeof t!="string"&&(r=r||t,t=undefined);for(o in n)this.on(o,t,r,n[o],f);return this}if(r==null&&u==null?(u=t,r=t=undefined):u==null&&(typeof t=="string"?(u=r,r=undefined):(u=r,r=t,t=undefined)),u===!1)u=k;else if(!u)return this;return f===1&&(e=u,u=function(n){return i().off(n),e.apply(this,arguments)},u.guid=e.guid||(e.guid=i.guid++)),this.each(function(){i.event.add(this,n,u,r,t)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=k),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var cr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lr=/<([\w:]+)/,af=/<|&#?\w+;/,vf=/<(?:script|style|link)/i,yf=/checked\s*(?:[^=]|=\s*.checked.)/i,ar=/^$|\/(?:java|ecma)script/i,pf=/^true\/(.*)/,wf=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,h={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.optgroup=h.option;h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;i.extend({clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!f.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(e=o(h),s=o(n),u=0,c=s.length;u<c;u++)df(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;u<c;u++)yr(s[u],e[u]);else yr(n,h);return e=o(h,"script"),e.length>0&&ei(e,!l&&o(n,"script")),h},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,s=t.createDocumentFragment(),v=[],c=0,w=n.length;c<w;c++)if(f=n[c],f||f===0)if(i.type(f)==="object")i.merge(v,f.nodeType?[f]:f);else if(af.test(f)){for(e=e||s.appendChild(t.createElement("div")),y=(lr.exec(f)||["",""])[1].toLowerCase(),l=h[y]||h._default,e.innerHTML=l[1]+f.replace(cr,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=s.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(s.textContent="",c=0;f=v[c++];)if((!u||i.inArray(f,u)===-1)&&(p=i.contains(f.ownerDocument,f),e=o(s.appendChild(f),"script"),p&&ei(e),r))for(a=0;f=e[a++];)ar.test(f.type||"")&&r.push(f);return s},cleanData:function(n){for(var f,t,o,u,h=i.event.special,s=0;(t=n[s])!==undefined;s++){if(i.acceptData(t)&&(u=t[r.expando],u&&(f=r.cache[u]))){if(f.events)for(o in f.events)h[o]?i.event.remove(t,o):i.removeEvent(t,o,f.handle);r.cache[u]&&delete r.cache[u]}delete e.cache[t[e.expando]]}}});i.fn.extend({text:function(n){return l(this,function(n){return n===undefined?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vr(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vr(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;(r=f[u])!=null;u++)t||r.nodeType!==1||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&ei(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return l(this,function(n){var t=this[0]||{},r=0,u=this.length;if(n===undefined&&t.nodeType===1)return t.innerHTML;if(typeof n=="string"&&!vf.test(n)&&!h[(lr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(cr,"<$1><\/$2>");try{for(;r<u;r++)t=this[r]||{},t.nodeType===1&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=arguments[0];return this.domManip(arguments,function(t){n=this.parentNode;i.cleanData(o(this));n&&n.replaceChild(t,this)}),n&&(n.length||n.nodeType)?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t){n=bi.apply([],n);var h,v,s,c,u,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||l>1&&typeof a=="string"&&!f.checkClone&&yf.test(a))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),v=h.firstChild,h.childNodes.length===1&&(h=v),v)){for(s=i.map(o(h,"script"),bf),c=s.length;e<l;e++)u=h,e!==b&&(u=i.clone(u,!0,!0),c&&i.merge(s,o(u,"script"))),t.call(this[e],u,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,kf),e=0;e<c;e++)u=s[e],ar.test(u.type||"")&&!r.access(u,"globalEval")&&i.contains(y,u)&&(u.src?i._evalUrl&&i._evalUrl(u.src):i.globalEval(u.textContent.replace(wf,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ti.apply(f,u.get());return this.pushStack(f)}});oi={};var wr=/^margin/,hi=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),vt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)};(function(){function h(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";t.innerHTML="";e.appendChild(r);var i=n.getComputedStyle(t,null);s=i.top!=="1%";o=i.width==="4px";e.removeChild(r)}var s,o,e=u.documentElement,r=u.createElement("div"),t=u.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle=t.style.backgroundClip==="content-box",r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(t),n.getComputedStyle&&i.extend(f,{pixelPosition:function(){return h(),s},boxSizingReliable:function(){return o==null&&h(),o},reliableMarginRight:function(){var f,i=t.appendChild(u.createElement("div"));return i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",e.appendChild(r),f=!parseFloat(n.getComputedStyle(i,null).marginRight),e.removeChild(r),t.removeChild(i),f}}))})();i.swap=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};var gf=/^(none|table(?!-c[ea]).+)/,ne=new RegExp("^("+ct+")(.*)$","i"),te=new RegExp("^([+-])=("+ct+")","i"),ie={position:"absolute",visibility:"hidden",display:"block"},kr={letterSpacing:"0",fontWeight:"400"},dr=["Webkit","O","Moz","ms"];i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=it(n,"opacity");return i===""?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,h,e,s=i.camelCase(t),c=n.style;if(t=i.cssProps[s]||(i.cssProps[s]=gr(c,s)),e=i.cssHooks[t]||i.cssHooks[s],r!==undefined){if(h=typeof r,h==="string"&&(o=te.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(i.css(n,t)),h="number"),r==null||r!==r)return;h!=="number"||i.cssNumber[s]||(r+="px");f.clearCloneStyle||r!==""||t.indexOf("background")!==0||(c[t]="inherit");e&&"set"in e&&(r=e.set(n,r,u))===undefined||(c[t]=r)}else return e&&"get"in e&&(o=e.get(n,!1,u))!==undefined?o:c[t]}},css:function(n,t,r,u){var f,s,e,o=i.camelCase(t);return(t=i.cssProps[o]||(i.cssProps[o]=gr(n.style,o)),e=i.cssHooks[t]||i.cssHooks[o],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=it(n,t,u)),f==="normal"&&t in kr&&(f=kr[t]),r===""||r)?(s=parseFloat(f),r===!0||i.isNumeric(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return gf.test(i.css(n,"display"))&&n.offsetWidth===0?i.swap(n,ie,function(){return iu(n,t,u)}):iu(n,t,u)},set:function(n,r,u){var f=u&&vt(n);return nu(n,r,u?tu(n,t,u,i.css(n,"boxSizing",!1,f)==="border-box",f):0)}}});i.cssHooks.marginRight=br(f.reliableMarginRight,function(n,t){if(t)return i.swap(n,{display:"inline-block"},it,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+p[r]+t]=u[r]||u[r-2]||u[0];return f}};wr.test(n)||(i.cssHooks[n+t].set=nu)});i.fn.extend({css:function(n,t){return l(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=vt(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return ru(this,!0)},hide:function(){return ru(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){tt(this)?i(this).show():i(this).hide()})}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var t,r=s.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]!=null&&(!n.elem.style||n.elem.style[n.prop]==null)?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.fx=s.prototype.init;i.fx.step={};var d,yt,re=/^(?:toggle|show|hide)$/,uu=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ue=/queueHooks$/,pt=[fe],rt={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),u=uu.exec(t),e=u&&u[3]||(i.cssNumber[n]?"":"px"),r=(i.cssNumber[n]||e!=="px"&&+s)&&uu.exec(i.css(f.elem,n)),o=1,h=20;if(r&&r[3]!==e){e=e||r[3];u=u||[];r=+s||1;do o=o||".5",r=r/o,i.style(f.elem,n,r+e);while(o!==(o=f.cur()/s)&&o!==1&&--h)}return u&&(r=f.start=+r||+s||0,f.unit=e,f.end=u[1]?r+(u[1]+1)*u[2]:+u[2]),f}]};i.Animation=i.extend(ou,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],rt[r]=rt[r]||[],rt[r].unshift(t)},prefilter:function(n,t){t?pt.unshift(n):pt.push(n)}});i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(tt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=ou(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=t,t=n,n=undefined),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ue.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(wt(t,!0),n,i,u)}});i.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(d=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();d=undefined};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){yt||(yt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(yt);yt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=n.value!=="";f.optSelected=i.selected;t.disabled=!0;f.optDisabled=!i.disabled;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue=n.value==="t"}();g=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return l(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2){if(typeof n.getAttribute===b)return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(t=t.toLowerCase(),u=i.attrHooks[t]||(i.expr.match.bool.test(t)?su:oe)),r!==undefined)if(r===null)i.removeAttr(n,t);else return u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:(n.setAttribute(t,r+""),r);else return u&&"get"in u&&(f=u.get(n,t))!==null?f:(f=i.find.attr(n,t),f==null?undefined:f)}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(c);if(f&&n.nodeType===1)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}}});su={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=g[t]||i.find.attr;g[t]=function(n,t,i){var u,f;return i||(f=g[t],g[t]=u,u=r(n,t,i)!=null?t.toLowerCase():null,g[t]=f),u}});hu=/^(?:input|select|textarea|button)$/i;i.fn.extend({prop:function(n,t){return l(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(n,t,r){var f,u,o,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2)return o=e!==1||!i.isXMLDoc(n),o&&(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||hu.test(n.nodeName)||n.href?n.tabIndex:-1}}}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});bt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,s,f,h=typeof n=="string"&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];e<l;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(bt," "):" "),r){for(s=0;u=o[s++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=i.trim(r);t.className!==f&&(t.className=f)}return this},removeClass:function(n){var o,t,r,u,s,f,h=arguments.length===0||typeof n=="string"&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];e<l;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(bt," "):""),r){for(s=0;u=o[s++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");f=n?i.trim(r):"";t.className!==f&&(t.className=f)}return this},toggleClass:function(n,t){var u=typeof n;return typeof t=="boolean"&&u==="string"?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(u==="string")for(var t,e=0,f=i(this),o=n.match(c)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(u===b||u==="boolean")&&(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(bt," ").indexOf(i)>=0)return!0;return!1}});cu=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;this.nodeType===1&&(u=f?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":i.isArray(u)&&(u=i.map(u,function(n){return n==null?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(u,"value"))!==undefined)?r:(r=u.value,typeof r=="string"?r.replace(cu,""):r==null?"":r):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:i.trim(i.text(n))}},select:{get:function(n){for(var o,t,s=n.options,r=n.selectedIndex,u=n.type==="select-one"||r<0,h=u?null:[],c=u?r+1:s.length,e=r<0?c:u?r:0;e<c;e++)if(t=s[e],(t.selected||e===r)&&(f.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),u)return o;h.push(o)}return h},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(r.value,e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};f.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)}});kt=i.now();dt=/\?/;i.parseJSON=function(n){return JSON.parse(n+"")};i.parseXML=function(n){var t,r;if(!n||typeof n!="string")return null;try{r=new DOMParser;t=r.parseFromString(n,"text/xml")}catch(u){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),t};var se=/#.*$/,lu=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/mg,ce=/^(?:GET|HEAD)$/,le=/^\/\//,au=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vu={},ci={},yu="*/".concat("*"),li=n.location.href,nt=au.exec(li.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:li,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ai(ai(n,i.ajaxSettings),t):ai(i.ajaxSettings,n)},ajaxPrefilter:pu(vu),ajaxTransport:pu(ci),ajax:function(n,t){function p(n,t,h,c){var v,it,tt,p,nt,l=t;e!==2&&(e=2,b&&clearTimeout(b),s=undefined,w=c||"",u.readyState=n>0?4:0,v=n>=200&&n<300||n===304,h&&(p=ae(r,u,h)),p=ve(r,p,u,v),v?(r.ifModified&&(nt=u.getResponseHeader("Last-Modified"),nt&&(i.lastModified[f]=nt),nt=u.getResponseHeader("etag"),nt&&(i.etag[f]=nt)),n===204||r.type==="HEAD"?l="nocontent":n===304?l="notmodified":(l=p.state,it=p.data,tt=p.error,v=!tt)):(tt=l,(n||!l)&&(l="error",n<0&&(n=0))),u.status=n,u.statusText=(t||l)+"",v?d.resolveWith(o,[it,l,u]):d.rejectWith(o,[u,l,tt]),u.statusCode(y),y=undefined,a&&k.trigger(v?"ajaxSuccess":"ajaxError",[u,r,v?it:tt]),g.fireWith(o,[u,l]),a&&(k.trigger("ajaxComplete",[u,r]),--i.active||i.event.trigger("ajaxStop")))}typeof n=="object"&&(t=n,n=undefined);t=t||{};var s,f,w,v,b,h,a,l,r=i.ajaxSetup({},t),o=r.context||r,k=r.context&&(o.nodeType||o.jquery)?i(o):i.event,d=i.Deferred(),g=i.Callbacks("once memory"),y=r.statusCode||{},tt={},it={},e=0,rt="canceled",u={readyState:0,getResponseHeader:function(n){var t;if(e===2){if(!v)for(v={};t=he.exec(w);)v[t[1].toLowerCase()]=t[2];t=v[n.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return e===2?w:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return e||(n=it[i]=it[i]||n,tt[n]=t),this},overrideMimeType:function(n){return e||(r.mimeType=n),this},statusCode:function(n){var t;if(n)if(e<2)for(t in n)y[t]=[y[t],n[t]];else u.always(n[u.status]);return this},abort:function(n){var t=n||rt;return s&&s.abort(t),p(0,t),this}};if(d.promise(u).complete=g.add,u.success=u.done,u.error=u.fail,r.url=((n||r.url||li)+"").replace(se,"").replace(le,nt[1]+"//"),r.type=t.method||t.type||r.method||r.type,r.dataTypes=i.trim(r.dataType||"*").toLowerCase().match(c)||[""],r.crossDomain==null&&(h=au.exec(r.url.toLowerCase()),r.crossDomain=!!(h&&(h[1]!==nt[1]||h[2]!==nt[2]||(h[3]||(h[1]==="http:"?"80":"443"))!==(nt[3]||(nt[1]==="http:"?"80":"443"))))),r.data&&r.processData&&typeof r.data!="string"&&(r.data=i.param(r.data,r.traditional)),wu(vu,r,t,u),e===2)return u;a=i.event&&r.global;a&&i.active++==0&&i.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!ce.test(r.type);f=r.url;r.hasContent||(r.data&&(f=r.url+=(dt.test(f)?"&":"?")+r.data,delete r.data),r.cache===!1&&(r.url=lu.test(f)?f.replace(lu,"$1_="+kt++):f+(dt.test(f)?"&":"?")+"_="+kt++));r.ifModified&&(i.lastModified[f]&&u.setRequestHeader("If-Modified-Since",i.lastModified[f]),i.etag[f]&&u.setRequestHeader("If-None-Match",i.etag[f]));(r.data&&r.hasContent&&r.contentType!==!1||t.contentType)&&u.setRequestHeader("Content-Type",r.contentType);u.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", "+yu+"; q=0.01":""):r.accepts["*"]);for(l in r.headers)u.setRequestHeader(l,r.headers[l]);if(r.beforeSend&&(r.beforeSend.call(o,u,r)===!1||e===2))return u.abort();rt="abort";for(l in{success:1,error:1,complete:1})u[l](r[l]);if(s=wu(ci,r,t,u),s){u.readyState=1;a&&k.trigger("ajaxSend",[u,r]);r.async&&r.timeout>0&&(b=setTimeout(function(){u.abort("timeout")},r.timeout));try{e=1;s.send(tt,p)}catch(ut){if(e<2)p(-1,ut);else throw ut;}}else p(-1,"No Transport");return u},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=undefined),i.ajax({url:n,type:t,dataType:f,data:r,success:u})}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var ye=/%20/g,pe=/\[\]$/,bu=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():t==null?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(t===undefined&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)vi(r,n[r],t,f);return u.join("&").replace(ye,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&be.test(this.nodeName)&&!we.test(n)&&(this.checked||!er.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(bu,"\r\n")}}):{name:t.name,value:r.replace(bu,"\r\n")}}).get()}});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var ke=0,gt={},de={0:200,1223:204},ut=i.ajaxSettings.xhr();return n.attachEvent&&n.attachEvent("onunload",function(){for(var n in gt)gt[n]()}),f.cors=!!ut&&"withCredentials"in ut,f.ajax=ut=!!ut,i.ajaxTransport(function(n){var t;if(f.cors||ut&&!n.crossDomain)return{send:function(i,r){var f,u=n.xhr(),e=++ke;if(u.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(f in i)u.setRequestHeader(f,i[f]);t=function(n){return function(){t&&(delete gt[e],t=u.onload=u.onerror=null,n==="abort"?u.abort():n==="error"?r(u.status,u.statusText):r(de[u.status]||u.status,u.statusText,typeof u.responseText=="string"?{text:u.responseText}:undefined,u.getAllResponseHeaders()))}};u.onload=t();u.onerror=t("error");t=gt[e]=t("abort");try{u.send(n.hasContent&&n.data||null)}catch(o){if(t)throw o;}},abort:function(){t&&t()}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),yi=[],ni=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=yi.pop()||i.expando+"_"+kt++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,e,s=t.jsonp!==!1&&(ni.test(t.url)?"url":typeof t.data=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp")return f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+f):t.jsonp!==!1&&(t.url+=(dt.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return e||i.error(f+" was not called"),e[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){e=arguments},u.always(function(){n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,yi.push(f));e&&i.isFunction(o)&&o(e[0]);e=o=undefined}),"script"}),i.parseHTML=function(n,t,r){if(!n||typeof n!="string")return null;typeof t=="boolean"&&(r=t,t=!1);t=t||u;var f=gi.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},pi=i.fn.load,i.fn.load=function(n,t,r){if(typeof n!="string"&&pi)return pi.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>=0&&(u=i.trim(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=undefined):t&&typeof t=="object"&&(o="POST"),f.length>0&&i.ajax({url:n,type:o,dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).complete(r&&function(n,t){f.each(r,s||[n.responseText,t,n])}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},wi=n.document.documentElement,i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};l==="static"&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=(l==="absolute"||l==="fixed")&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));t.top!=null&&(f.top=t.top-u.top+h);t.left!=null&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,f,t=this[0],u={top:0,left:0},e=t&&t.ownerDocument;if(e)return(r=e.documentElement,!i.contains(r,t))?u:(typeof t.getBoundingClientRect!==b&&(u=t.getBoundingClientRect()),f=ku(e),{top:u.top+f.pageYOffset-r.clientTop,left:u.left+f.pageXOffset-r.clientLeft})},position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return i.css(u,"position")==="fixed"?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||wi;n&&!i.nodeName(n,"html")&&i.css(n,"position")==="static";)n=n.offsetParent;return n||wi})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var u="pageYOffset"===r;i.fn[t]=function(i){return l(this,function(t,i,f){var e=ku(t);if(f===undefined)return e?e[r]:t[i];e?e.scrollTo(u?n.pageXOffset:f,u?f:n.pageYOffset):t[i]=f},t,i,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=br(f.pixelPosition,function(n,r){if(r)return r=it(n,t),hi.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||typeof u!="boolean"),o=r||(u===!0||f===!0?"margin":"border");return l(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:t.nodeType===9?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):u===undefined?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:undefined,e,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return i}),du=n.jQuery,gu=n.$,i.noConflict=function(t){return n.$===i&&(n.$=gu),t&&n.jQuery===i&&(n.jQuery=du),i},typeof t===b&&(n.jQuery=n.$=i),i});
//# sourceMappingURL=jquery.min.js.map

///#source 1 1 /h5/libraries/jquery-rateyo/jquery.rateyo.min.js
(function(n){"use strict";function u(n,t,i){return n===t?n=t:n===i&&(n=i),n}function o(n,t,i){var r=n>=t&&n<=i;if(!r)throw Error("Invalid Rating, expected value between "+t+" and "+i);return n}function f(t,i){var r;return n.each(i,function(){if(t===this.node)return r=this,!1}),r}function s(t,i){return n.each(i,function(n){if(t===this.node){var r=i.slice(0,n),u=i.slice(n+1,i.length);return i=r.concat(u),!1}}),i}function t(n){return typeof n!="undefined"}function i(f,e){function l(n){t(n)||(n=e.rating);var i=n/h,r=i*v;i>1&&(r+=(Math.ceil(i)-1)*g);a.css("width",r+"%")}function it(){y=d*e.numStars;y+=w*(e.numStars-1);v=d/y*100;g=w/y*100;f.width(y);l()}function rt(n){return t(n)?(e.starWidth=e.starHeight=n,d=parseFloat(e.starWidth.replace("px","")),c.find("svg").attr({width:e.starWidth,height:e.starHeight}),a.find("svg").attr({width:e.starWidth,height:e.starHeight}),it(),f):e.starWidth}function ut(n){return t(n)?(e.spacing=n,w=parseFloat(e.spacing.replace("px","")),c.find("svg:not(:first-child)").css({"margin-left":n}),a.find("svg:not(:first-child)").css({"margin-left":n}),it(),f):e.spacing}function ft(n){return t(n)?(e.normalFill=n,c.find("svg").attr({fill:e.normalFill}),f):e.normalFill}function et(n){return t(n)?(e.ratedFill=n,a.find("svg").attr({fill:e.ratedFill}),f):e.ratedFill}function ot(i){if(!t(i))return e.numStars;e.numStars=i;h=e.maxValue/e.numStars;c.empty();a.empty();for(var u=0;u<e.numStars;u++)c.append(n(r)),a.append(n(r));return rt(e.starWidth),et(e.ratedFill),ft(e.normalFill),ut(e.spacing),l(),f}function st(n){return t(n)?(e.maxValue=n,h=e.maxValue/e.numStars,e.rating>n&&nt(n),l(),f):e.maxValue}function wt(n){return t(n)?(e.precision=n,l(),f):e.precision}function bt(n){return t(n)?(e.halfStar=n,f):e.halfStar}function kt(n){return t(n)?(e.fullStar=n,f):e.fullStar}function dt(n){var t=n%h,i=h/2,r=e.halfStar,u=e.fullStar;return!u&&!r?n:(u||r&&t>i?n+=h-t:(n=n-t,t>0&&(n+=i)),n)}function ht(n){var s=c.offset(),r=s.left,o=r+c.width(),l=e.maxValue,f=n.pageX,t=0,u,i;if(f<r)t=b;else if(f>o)t=l;else{if(u=(f-r)/(o-r),w>0)for(u*=100,i=u;i>0;)i>v?(t+=h,i-=v+g):(t+=i/v*h,i=0);else t=u*e.maxValue;t=dt(t)}return t}function k(n){var t=ht(n).toFixed(e.precision),i=e.maxValue;t=u(parseFloat(t),b,i);l(t);f.trigger("rateyo.change",{rating:t})}function ct(){l();f.trigger("rateyo.change",{rating:e.rating})}function lt(n){var t=ht(n).toFixed(e.precision);t=parseFloat(t);p.rating(t)}function at(n,t){e.onChange&&typeof e.onChange=="function"&&e.onChange.apply(this,[t.rating,p])}function vt(n,t){e.onSet&&typeof e.onSet=="function"&&e.onSet.apply(this,[t.rating,p])}function gt(){f.on("mousemove",k).on("mouseenter",k).on("mouseleave",ct).on("click",lt).on("rateyo.change",at).on("rateyo.set",vt)}function yt(){f.off("mousemove",k).off("mouseenter",k).off("mouseleave",ct).off("click",lt).off("rateyo.change",at).off("rateyo.set",vt)}function pt(n){return t(n)?(e.readOnly=n,f.attr("readonly",!0),yt(),n||(f.removeAttr("readonly"),gt()),f):e.readOnly}function nt(n){if(!t(n))return e.rating;var i=n,r=e.maxValue;return typeof i=="string"&&(i[i.length-1]==="%"&&(i=i.substr(0,i.length-1),r=100,st(r)),i=parseFloat(i)),o(i,b,r),i=parseFloat(i.toFixed(e.precision)),u(parseFloat(i),b,r),e.rating=i,l(),f.trigger("rateyo.set",{rating:i}),f}function ni(n){return t(n)?(e.onSet=n,f):e.onSet}function ti(n){return t(n)?(e.onChange=n,f):e.onChange}var p;this.$node=f;this.node=f.get(0);p=this;f.addClass("jq-ry-container");var tt=n("<div/>").addClass("jq-ry-group-wrapper").appendTo(f),c=n("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(tt),a=n("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(tt),h,d,v,w,g,y,b=0;this.rating=function(n){return t(n)?(nt(n),f):e.rating};this.destroy=function(){return e.readOnly||yt(),i.prototype.collection=s(f.get(0),this.collection),f.removeClass("jq-ry-container").children().remove(),f};this.method=function(n){if(!n)throw Error("Method name not specified!");if(!t(this[n]))throw Error("Method "+n+" doesn't exist!");var i=Array.prototype.slice.apply(arguments,[]),r=i.slice(1),u=this[n];return u.apply(this,r)};this.option=function(n,i){if(!t(n))return e;var r;switch(n){case"starWidth":r=rt;break;case"numStars":r=ot;break;case"normalFill":r=ft;break;case"ratedFill":r=et;break;case"maxValue":r=st;break;case"precision":r=wt;break;case"rating":r=nt;break;case"halfStar":r=bt;break;case"fullStar":r=kt;break;case"readOnly":r=pt;break;case"spacing":r=ut;break;case"onSet":r=ni;break;case"onChange":r=ti;break;default:throw Error("No such option as "+n);}return r(i)};ot(e.numStars);pt(e.readOnly);this.collection.push(this);this.rating(e.rating)}function h(t){var s=i.prototype.collection,o=n(this),r;if(o.length===0)return o;if(r=Array.prototype.slice.apply(arguments,[]),r.length===0)t=r[0]={};else if(r.length===1&&typeof r[0]=="object")t=r[0];else{if(r.length>=1&&typeof r[0]=="string"){var h=r[0],c=r.slice(1),u=[];return n.each(o,function(n,t){var i=f(t,s),r,e;if(!i)throw Error("Trying to set options before even initialization");if(r=i[h],!r)throw Error("Method "+h+" does not exist!");e=r.apply(i,c);u.push(e)}),u=u.length===1?u[0]:n(u)}throw Error("Invalid Arguments");}return t=n.extend(JSON.parse(JSON.stringify(e)),t),n.each(o,function(){var r=f(this,s);if(!r)return new i(n(this),n.extend({},t))})}function c(){return h.apply(this,Array.prototype.slice.apply(arguments,[]))}var r='<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Layer_1"xmlns="http://www.w3.org/2000/svg"viewBox="0 12.705 512 486.59"x="0px" y="0px"xml:space="preserve"><polygon id="star-icon"points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "/><\/svg>',e={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,maxValue:5,precision:1,rating:0,fullStar:!1,halfStar:!1,readOnly:!1,spacing:"0px",onChange:null,onSet:null};i.prototype.collection=[];window.RateYo=i;n.fn.rateYo=c})(jQuery);
//# sourceMappingURL=jquery.rateyo.min.js.map


///#source 1 1 /h5/apps/_modules/core/constants.js
window.ROOT_URL = window.ROOT_URL || (location.protocol + '//' + location.host);

var IMAGE_DOWNLOAD_URL = ROOT_URL + '/ImageHandler/DownloadImage.aspx'
var JSON_API_ROOT_URL = ROOT_URL + "/JsonServiceApi";
var FILE_SERVICE_URL = ROOT_URL + "/Resource";
var SSO_LOGIN_URL = ROOT_URL + "/Logon.aspx";
var UPLOAD_URL = ROOT_URL + "/Upload";
var YOUTUBE_VIDEO = ROOT_URL + "/VideoHandler/PlayVideoStreaming.aspx";

var PERSONAL_CONTENT_OBJECT_SERVICE = JSON_API_ROOT_URL + "/PersonalContentObjectService.svc";
var PERSONAL_CONTENT_BROWSE_SERVICE = JSON_API_ROOT_URL + "/PersonalContentBrowseService.svc";
var PERSONAL_CONTENT_MANAGEMENT_SERVICE = JSON_API_ROOT_URL + "/PersonalContentManagementService.svc";
var NOTIFICATION_SERVICE = JSON_API_ROOT_URL + "/NotificationService.svc";
var DOC_CENTER_SERVICE_URL = JSON_API_ROOT_URL + "/DocCenterServiceV3.svc";
var USER_SERVICE_URL = JSON_API_ROOT_URL + "/UserService.svc";
var USER_MANAGEMENT_URL = JSON_API_ROOT_URL + "/UserManagementService.svc";
var CONTENT_OBJECT_SERVICE_URL = JSON_API_ROOT_URL + "/ContentObjectService.svc";
var FORM_SERVICE_URL = JSON_API_ROOT_URL + "/FormService.svc";
var DISTRIBUTION_SERVICE_URL = JSON_API_ROOT_URL + "/DistributionService.svc";
var LIVESHARE_SERVICE_URL = JSON_API_ROOT_URL + "/LiveShareManagementService.svc";
var LIVESHARE_TRACE_SERVICE_URL = JSON_API_ROOT_URL + "/LiveShareTraceService.svc";
var PREVIEW_SERVICE_URL = JSON_API_ROOT_URL + "/PreviewService.svc";

var DELIVERYCENTERSERVICE_SERVICE_URL = JSON_API_ROOT_URL + "/DeliveryCenterService.svc";
var CONTENT_DELIVERY_OPTION_SERVICE_URL = JSON_API_ROOT_URL + "/ContentDeliveryOptionService.svc";

var LIBRARY_SERVICE_URL = JSON_API_ROOT_URL + "/LibraryService.svc";
var WOPI_SERVICE_URL = JSON_API_ROOT_URL + "/WOPIService.svc";
var LIBRARY_REPORTING_SERVICE_URL = JSON_API_ROOT_URL + "/LibraryReportingService.svc";
var DATASOURCE_OBJECT_SERVICE = JSON_API_ROOT_URL + "/DataSourceObjectService.svc";

var DOWNLOAD_ROOT_URL = "/Download";
var DOWNLOAD_SIGNATURE_IN_COOKIE = "ImageLoader";


var BOUND_SYMBOL_BETWEEN_MINIFORM_AND_WIDGET = "->";

var SECTION_AND_CONTENT_GROUP_IS_INCLUDE_BY_DEFAULT = true;
var STATIC_RULE_TRUE = "StaticRuleTrue";
var STATIC_RULE_FALSE = "StaticRuleFalse";

var SEARCH_TYPE_GENERIC_SEARCH = "Properties";
var SEARCH_TYPE_FULL_TEXT_SEARCH = "Content";
var SEARCH_TYPE_ARRAY = [SEARCH_TYPE_GENERIC_SEARCH, SEARCH_TYPE_FULL_TEXT_SEARCH]

var FORM_PAGE_WIDTH_WITH_MARGIN = 810;
var FORM_PAGE_WIDTH = 800;
var SLIDE_PICKER_WIDTH = 860;
var MINI_FORM_DIALOG_WIDTH = 800;
var DETAIL_DIALOG_WIDTH = 750;
var DETAIL_DIALOG_HEIGHT = 410;

var VIDEO_CONTROLL_WIDTH = 420;
var VIDEO_CONTROLL_HEIGHT = 315;

var FORM_ELEMENT_SECTION = 1,
    FORM_ELEMENT_PAGE = 2,
    FORM_ELEMENT_GRID = 3,
    FORM_ELEMENT_CELL = 4,
    FORM_ELEMENT_AUTO_COMPLETE_COMBO_BOX = 5,
    FORM_ELEMENT_CHECK_BOX = 6,
    FORM_ELEMENT_COMBO_BOX = 7,
    FORM_ELEMENT_CONTENT_SELECTION = 8,
    FORM_ELEMENT_DATASOURCE_UPLOADER = 9,
    FORM_ELEMENT_DATE_PICKER = 10,
    FORM_ELEMENT_IMAGE_UPLOADER = 11,
    FORM_ELEMENT_PASSWORD_BOX = 12,
    FORM_ELEMENT_RADIO_BUTTON = 13,
    FORM_ELEMENT_RECORD_SELECTOR = 14,
    FORM_ELEMENT_LIST_BOX = 15,
    FORM_ELEMENT_TEXT_BLOCK = 16,
    FORM_ELEMENT_TEXT_BOX = 17,
    FORM_ELEMENT_DATA_GRID = 18,
    FORM_ELEMENT_CHOICE_LIST = 19,
    FORM_ELEMENT_LABEL_TEXT_BLOCK = 20,
    FORM_ELEMENT_RICH_TEXT = 21,
    FORM_ELEMENT_CONTENT_PICKER = 22,
    FORM_ELEMENT_CONTACT_PICKER = 23;

var CONTENT_SELECTOR_VARIABLELIST_NAME = "CONTENT_SELECTOR_VARIABLELIST_NAME";
var CONTENT_PICKER_VARIABLELIST_NAME = "CONTENT_PICKER_VARIABLELIST_NAME";
var IMAGE_UPLOADER_VARIABLELIST_NAME = "IMAGE_UPLOADER_VARIABLELIST_NAME";
var DATA_UPLOADER_VARIABLELIST_NAME = "DATA_UPLOADER_VARIABLELIST_NAME";
var ALL_CONTENT_SELECTOR_VARIABLE_NAME = "ALL_CONTENT_SELECTOR";

var CLIENT_TYPE_SALESFORCE = "SalesforceRequester";
var CLIENT_TYPE_HTML = "HtmlRequester"
var CLIENT_TYPE_LIVESHARE = "LiveShareCenter"
var CLIENT_TYPE_SHAREPOINT = "SharePointRequester"
var CLIENT_TYPE_DOCCENTER = "DocCenter"

var CONTENT_GROUP_TYPE_GROUP = 0;
var CONTENT_GROUP_TYPE_SECTION = 1;

var CONTENT_GROUP_INPUT_TYPES = [
    "ManualSelectContentInput",
    "SectionSelectContentInput"
];

var KEY_EXPAIR_TIME = 72 * 3600;
var SESSION_EXPAIR_TIME = 24 * 3600;

var NuPitchRequestErrorCode = {
    INVALID_CLIENTAPPLICATION: -1082,
    GET_NOTHING_FROM_SERVER: -9001,
};

var DISPLAY_STRING_MAPPING = {
    contains: "contains",
    Equals: "=",
    GreaterThan: ">",
    GreaterThanOrEquals: ">=",
    LessThan: "<",
    LessThanOrEquals: "<=",
    MaxLength: "Maximum Length",
    MinLength: "Minimum Length",
    Notcontains: "Not contains",
    NotEquals: "Not Equals"
};

var FIELD_VALUE_TYPE = {
    0: "String",
    1: "Integer",
    2: "Double",
    3: "Date",
    4: "Boolean"
};


var CONTENT_TYPE_RESOURCE_PDF = "ResourcePDF";
var CONTENT_TYPE_RESOURCE_PDF_PAGE = "ResourcePDFPage";
var CONTENT_TYPE_LIVE_SLIDE = "LiveSlide";

var CONTENT_TYPE_EXTERNAL_PDF_PAGE = "ExternalPdfPage";
var CONTENT_TYPE_EXTERNAL_SLIDE = "ExternalSlides";

var FORMATS_TO_NAME = {
    0: "DEFAULT",
    1: "PPT",
    2: "PPTX",
    3: "DOC",
    4: "DOCX",
    5: "JPG",
    6: "JPEG",
    7: "PNG",
    8: "BMP",
    9: "AVI",
    10: "MPEG4",
    11: "MP4",
    12: "MP3",
    13: "WAV",
    14: "PDF",
    15: "BUNDLE",
    16: "IMAGE",
    17: "GIF",
    18: "TIF",
    19: "TIFF",
    20: "ZIP",
    21: "XLSX",
    22: "XLS",
    23: "M4V",
    30: "PPTXTABLE",
    31: "DOCXTABLE",
    32: "YOUTUBE",
    33: "VIMEO",
    34: "MPG",
    35: "MPA",
    36: "MPE",
    37: "RM",
    38: "RAM",
    39: "ASF",
    40: "MOV",
    41: "VOB",
    42: "WMV",
    43: "3GP", // "V3GP"
    44: "TXT",
    45: "URL",
    47: "WMF",
    48: "EMF",
    99: "UNKNOWN"
};
var LiveShareTraceActionType = {
    SessionStarted: 1,
    SessionFinished: 2,

    ContentsAdded: 3,
    ContentsRemoved: 4,

    ContentStartView: 5,
    ContentInViewing: 6,
    ContentPageInViewing: 7,
    ContentEndView: 8,

    ParticipantsJoined: 9,
    ParticipantsLeft: 10,
    ParticipantsRemoved: 11,
    ParticipantsInvited: 12,
    ParticipantsAccepted: 13,

    MeetingCreated: 14,
    MeetingUpdated: 15,
    MeetingStarted: 16,
    MeetingPaused: 17,
    MeetingResumed: 18,
    MeetingFinished: 19,
    MeetingAddContent: 20,
    MeetingRemoveContent: 21
};

var LiveShareParticipantType = {
    ParticipantInternal: 1,
    ParticipantExternal: 2
};
var LiveShareTraceType = {
    Participant: 1,
    DocActivity: 2
};
var DocumentFormats = {
    DEFAULT: 0,
    PPT: 1,
    PPTX: 2,
    DOC: 3,
    DOCX: 4,
    JPG: 5,
    JPEG: 6,
    PNG: 7,
    BMP: 8,
    AVI: 9,
    MPEG4: 10,
    MP4: 11,
    MP3: 12,
    WAV: 13,
    PDF: 14,
    BUNDLE: 15,
    IMAGE: 16,
    GIF: 17,
    TIF: 18,
    TIFF: 19,
    ZIP: 20,
    XLSX: 21,
    XLS: 22,
    M4V: 23,
    PPTXTABLE: 30,
    DOCXTABLE: 31,
    YOUTUBE: 32,
    VIMEO: 33,
    MPG: 34,
    MPA: 35,
    MPE: 36,
    RM: 37,
    RAM: 38,
    ASF: 39,
    MOV: 40,
    VOB: 41,
    WMV: 42,
    V3GP: 43,
    TXT: 44,
    URL: 45,
    UNKNOWN: 99
};

var HELP_CENTER_TENANTS = [
    "helpcenter",
    "helpcenterqa",
    "helpcenterdev"
];

var DeliverContentType = {
    LIBRARY: 0,
    GENERATED_DOC: 1,
    PERSONAL_CONTENT: 2,
    PERSONAL_FOLDER: 3
}

var ContentObjectType = {
    Presentation: 1,
    Document: 2,
    StaticContent: 3,
    Chart: 4,
    Slide: 5,
    Text: 6,
    Image: 7,
    Table: 8,
    SmartArt: 9,
    DataSource: 10,
    DynamicalFolder: 97,
    LibraryFolder: 98,
    DocCenterFolder: 99,
};
var ContentObjectFormat = {
    CONTENT_FORMAT_PPTX: "PPTX",
    CONTENT_FORMAT_DOCX: "DOCX",
    CONTENT_FORMAT_PDF: "PDF",
    CONTENT_FORMAT_IMAGE: "IMAGE",
    CONTENT_FORMAT_VIDEO: "VIDEO",
    CONTENT_FORMAT_AUDIO: "AUDIO",
    CONTENT_FORMAT_XLSX: "XLSX",
    CONTENT_FORMAT_STATIC_FOLDER: "STATIC_FOLDER",
    CONTENT_FORMAT_DYNAMIC_FOLDER: "DYNAMIC_FOLDER",
    CONTENT_FORMAT_SHARED_ZIP: "SHARED_ZIP",
    _FORMAT_SUB_TYPE_IMAGE: [
        "JPEG", "JPG", "BMP", "PNG", "GIF", "TIF", "TIFF",
        "X-EMF"
    ],

    _FORMAT_SUB_TYPE_VIDEO: [
        "MP4", "M4V", "AVI", "MPG", "MPA", "MEP", "RA", "RM",
        "RAM", "WMV", "ASF", "MOV", "VOB", "3GP", "V3GP", "MPEG4", "VIMEO", "YOUTUBE"
    ],

    _FORMAT_SUB_TYPE_POWERPOINT: ["PPTX", "PPT"],

    _FORMAT_SUB_TYPE_MSWORD: ["DOC", "DOCX"],

    _FORMAT_SUB_TYPE_PDF: ["PDF"],

    _FORMAT_SUB_TYPE_AUDIO: ["MP3", "WAV"],

    _FORMAT_SUB_TYPE_XLSX: ["XLSX", "XLS"],
    IsFormatTypeForExtension: function (formatType, ext) {

        if (!ext) {
            ext = "";
        }

        switch (formatType) {
            case this.CONTENT_FORMAT_PPTX:
                return this._FORMAT_SUB_TYPE_POWERPOINT.contains(ext.toUpperCase());
            case this.CONTENT_FORMAT_DOCX:
                return this._FORMAT_SUB_TYPE_MSWORD.contains(ext.toUpperCase());
            case this.CONTENT_FORMAT_PDF:
                return this._FORMAT_SUB_TYPE_PDF.contains(ext.toUpperCase());
            case this.CONTENT_FORMAT_IMAGE:
                return this._FORMAT_SUB_TYPE_IMAGE.contains(ext.toUpperCase());
            case this.CONTENT_FORMAT_VIDEO:
                return this._FORMAT_SUB_TYPE_VIDEO.contains(ext.toUpperCase());
            case this.CONTENT_FORMAT_AUDIO:
                return this._FORMAT_SUB_TYPE_AUDIO.contains(ext.toUpperCase());
            case this.CONTENT_FORMAT_XLSX:
                return this._FORMAT_SUB_TYPE_XLSX.contains(ext.toUpperCase());
            default:
                return "";
        }
    },

    GetFormatFilterSql: function (formatType) {
        var formatArray = [];
        switch (formatType.toUpperCase()) {
            case this.CONTENT_FORMAT_PPTX:
                formatArray = this._FORMAT_SUB_TYPE_POWERPOINT;
                break;
            case this.CONTENT_FORMAT_DOCX:
                formatArray = this._FORMAT_SUB_TYPE_MSWORD;
                break;
            case this.CONTENT_FORMAT_PDF:
                formatArray = this._FORMAT_SUB_TYPE_PDF;
                break;
            case this.CONTENT_FORMAT_IMAGE:
                formatArray = this._FORMAT_SUB_TYPE_IMAGE;
                break;
            case this.CONTENT_FORMAT_VIDEO:
                formatArray = this._FORMAT_SUB_TYPE_VIDEO;
                break;
            case this.CONTENT_FORMAT_AUDIO:
                formatArray = this._FORMAT_SUB_TYPE_AUDIO;
                break;
            case this.CONTENT_FORMAT_XLSX:
                formatArray = this._FORMAT_SUB_TYPE_XLSX;
                break;
            default:
                return "";
        }

        var sb = "";
        sb += "(";
        for (var i = formatArray.length - 1; i >= 0; i--) {
            sb += "FORMAT = '" + Things[i] + "' OR ";
        };
        return sb.substring(0, sb.Length - 4) + ")";
    },
    GetSubFormatType: function (formatType) {
        switch (formatType) {
            case this.CONTENT_FORMAT_PPTX:
                return this._FORMAT_SUB_TYPE_POWERPOINT;
            case this.CONTENT_FORMAT_DOCX:
                return this._FORMAT_SUB_TYPE_MSWORD;
            case this.CONTENT_FORMAT_PDF:
                return this._FORMAT_SUB_TYPE_PDF;
            case this.CONTENT_FORMAT_IMAGE:
                return this._FORMAT_SUB_TYPE_IMAGE;
            case this.CONTENT_FORMAT_VIDEO:
                return this._FORMAT_SUB_TYPE_VIDEO;
            case this.CONTENT_FORMAT_AUDIO:
                return this._FORMAT_SUB_TYPE_AUDIO;
            case this.CONTENT_FORMAT_XLSX:
                return this._FORMAT_SUB_TYPE_XLSX;
            default:
                return "";
        }
    }
}

var FILE_TYPE_TO_NAME = {
    0: "UNKNOWN",
    1: "PRESENTATION",
    2: "MSWORD",
    3: "PDF",
    4: "IMAGE",
    5: "VIDEO",
    6: "EXCEL",
    10: "BUNDLE",
    99: "OTHER"
};

var DocumentTypes = {
    UNKNOWN: 0,
    PRESENTATION: 1,
    MSWORD: 2,
    PDF: 3,
    IMAGE: 4,
    VIDEO: 5,
    EXCEL: 6,
    BUNDLE: 10,
    OTHER: 99
};

var ObjectTypes = {
    UNKNOWN: 0,
    PRESENTATION: 1,
    SLIDE: 2,
    IMAGE: 3,
    DIAGRAM: 4,
    THEME: 5,
    SLIDEMASTER: 6,
    SLIDELAYOUT: 7,
    NOTESLIDE: 8,
    NOTEMASTER: 9,
    HANDOUTMASTER: 10,
    OLEOBJECT: 11,
    CHART: 12,
    TABLENATIVE: 13,
    DATASOURCE: 14,
    EMBEDDED_EXCEL_CHART: 15,
    EXCEL_CHART: 16,
    DATASOURCE_MAPPING: 17,
    FORM_DEFINITION: 18,
    SLIDE_GROUP: 19,
    PERSONALIZATION: 21,
    VARIABLE_LIST: 22,
    TEXTSHAPE: 24,
    MULTI_SLIDES: 26,
    MINIFORM_DEFINITION: 27,
    MSWORD: 30,
    RESOURCE: 25,
    BUNDLE: 40,
    OTHER: 99,
    FOLDER: 50
}

var FormDataTriggerInfoTypes = {
    VAR: 0,

    DOV: 1,

    SELECTION_MODE_TABLE: 2
}

var UIPermissions_CanShareSavedRecords = "CanShareSavedRecords";
var MONTH_NAMES = "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");

var DeliveryRequestStatusType = {
    Unknown: 0,
    Started: 1,
    WaitingWorkerRole: 10,
    WaitingPackage: 20,
    Failed: 90,
    Delivered: 100,
    Accepted: 200
};

var getGlobalCustomHeaders = function () {
    return {
        SeismicClientName: $App.loginInfo.clientType,
        ProfileVersionId: $App.loginInfo.clientInfo.profileVersionId,
        TeamSiteId: $App.loginInfo.clientInfo.teamSiteId
    };
};

// session manage
var SESSION_STARTED = "SessionStarted";
var SESSION_FINISHED = "SessionFinished";

// content manage
var CONTENT_ADDED = "ContentsAdded";
var CONTENT_REMOVED = "ContentsRemoved";

// content view
var CONTENT_STARTVIEW = "ContentStartView";
var CONTENT_INVIEWING = "ContentInViewing";
var CONTENT_PAGE_INVIEWING = "ContentPageInViewing";
var CONTENT_ENDVIEW = "ContentEndView";

// participant mange
var PARTICIPANT_JOINED = "ParticipantsJoined";
var PARTICIPANT_LEFT = "ParticipantsLeft";

var FORMAT_CONVERTION_STATUS_READY = "READY";
var FORMAT_CONVERTION_STATUS_FAILED = "FAILED";
var FORMAT_CONVERTION_STATUS_PROCESSING = "PROCESSING";

var CONTENT_COLLECTION = 1;

var COLLECTION_PERSONAL_SPACE_ROOT = 103;
var COLLECTION_CART_TYPE_ID = 104;
var DeliveryOptionType = {
    Unknown: 0,
    Normal: 1,
    ClearCart: 55,
    View: 99,
    Download: 101,
    SendByEmail: 102,
    CreateSharedLink: 103,
    SaveToPersonal: 105,
    SendToLiveShare: 106,
    SendToCart: 107,
    SendToLiveSend: 108,
    SendToGmail: 109,
    // The following four are fake delivery option for client app to handle UI consistantly  
    AddPersonalCollection: 50,
    RemovePersonalContent: 51,
    MovePersonalContent: 52,
    ChangePersonalContentName: 53,
    EditPersonalContent: 54,
    SendToSalesforce: 111,
    SendToSharePoint: 112,
    OpenLink: 56,
    // Id 200 - 210 is reserved for iPad auto-support system delivery options

    SFSendByEmail: 131,
    SFPostToChatter: 132,
    SFSaveAttachment: 133,
    SFCreateContent: 134,
    SFCreateContentDelivery: 135,

    XmlToJson: "ATXmlToJson"
}

var IconNameMapping = {};
IconNameMapping[DeliveryOptionType.Unknown] = "Normal";
IconNameMapping[DeliveryOptionType.Normal] = "Normal";
IconNameMapping[DeliveryOptionType.Download] = "Download";
IconNameMapping[DeliveryOptionType.ClearCart] = "ClearCart";
IconNameMapping[DeliveryOptionType.SendByEmail] = "SendByEmail";
IconNameMapping[DeliveryOptionType.SendToGmail] = "SendToGmail";
IconNameMapping[DeliveryOptionType.CreateSharedLink] = "CreateSharedLink";
IconNameMapping[DeliveryOptionType.SaveToPersonal] = "SaveToPersonal";
IconNameMapping[DeliveryOptionType.SendToLiveShare] = "SendToLiveShare";
IconNameMapping[DeliveryOptionType.SendToCart] = "SendToCart";
IconNameMapping[DeliveryOptionType.SendToLiveSend] = "SendToLiveSend";
IconNameMapping[DeliveryOptionType.AddPersonalCollection] = "AddPersonalCollection";
IconNameMapping[DeliveryOptionType.RemovePersonalContent] = "RemovePersonalContent";
IconNameMapping[DeliveryOptionType.MovePersonalContent] = "MovePersonalContent";
IconNameMapping[DeliveryOptionType.ChangePersonalContentName] = "ChangePersonalContentName";
IconNameMapping[DeliveryOptionType.EditPersonalContent] = "EditPersonalContent";
IconNameMapping[DeliveryOptionType.SendToSalesforce] = "SendToSalesforce";
IconNameMapping[DeliveryOptionType.SendToSharePoint] = "SendToSharePoint";
/* TODO
IconNameMapping[DeliveryOptionType.SFPostToChatter] = "SFPostToChatter";
IconNameMapping[DeliveryOptionType.SFSaveAttachment] = "SFSaveAttachment";
IconNameMapping[DeliveryOptionType.SFCreateContent] = "SFCreateContent";
IconNameMapping[DeliveryOptionType.SFCreateContentDelivery] = "SFCreateContentDelivery";
IconNameMapping[DeliveryOptionType.XmlToJson] = "XmlToJson";
*/
IconNameMapping[DeliveryOptionType.SFSendByEmail] = "SendByEmail";
IconNameMapping[DeliveryOptionType.SFPostToChatter] = "Normal";
IconNameMapping[DeliveryOptionType.SFSaveAttachment] = "Normal";
IconNameMapping[DeliveryOptionType.SFCreateContent] = "Normal";
IconNameMapping[DeliveryOptionType.SFCreateContentDelivery] = "Normal";
IconNameMapping[DeliveryOptionType.XmlToJson] = "Normal";

var DeliveryChannelType = {
    Unknown: 0,
    SendByEmail: 5
};

var DeliveryChannelTypeIconNameMapping = {};
DeliveryChannelTypeIconNameMapping[DeliveryChannelType.SendByEmail] = "SendByEmail";

var FOLDER_TYPE_TO_PREDEFIND_FOLDER_MAPPING = {
    'AllContent': null, // Do NOT process ALL, it will handle by another logic path
    'MostPopular': '/MostPopular',
    'Favorites': '/Favorites'
    // ,'Recent': 'Recent' // Not required for now, will add this when neccessary
};

var DeliveryOptionNameMapping = {};
DeliveryOptionNameMapping[DeliveryOptionType.SFSendByEmail] = "Send by Email";
DeliveryOptionNameMapping[DeliveryOptionType.SaveToPersonal] = "Save to Personal Space";

var DeliveryOptionNameMappingForCart = {};
DeliveryOptionNameMappingForCart[DeliveryOptionType.SaveToPersonal] = "Move to Personal Space";

var ANNOUNCEMENTS_SHOWED_IN_THIS_SEISMIC_SESSION_KEY = "AnnouncementsShowedAutomatically";

var CREDENTAILS_TYPE = {
    SESSION: 1,
    REMEMBER_ME_TOKEN: 2,
    ANOTHER_APP_TO_LIVE_SHARE: 3,
    SSO: 4,
    USER_NAME_AND_PASSOWRD: 5
};

var LAYOUT_TYPE = {
    STATIC: 0,
    FLOW: 1
}

var LAYOUT_FLOW_HEIGHT_TYPE = {
    STATIC: 0,
    AUTO: 1,
    FILL_REST: 2
}

var LIVESEND_CONTENT_TYPE = {
    LIBRARY: 0,
    GENERATED_DOC: 1,
    PERSONAL_CONTENT: 2,
    PERSONAL_FOLDER: 3
}

var ExternalMappingValidateResult =
{
    Valid: 0,
    Unlogon: 1,
    UsernameInvalid: 2,
    CredentialsInvalid: 3,
    MappingExisted: 4,
    MappingInvalid: 5,
    SalesforcePasswordExpired: 6,
    InUsedByAnotherOrg: 7
}

var ExternalSystemTypes =
{
    Unknown: -1,
    SalesforceCOM: 0,
    MicrosoftDynamicCRM: 1,
    MicrosoftSharePoint: 2,
    YouTube: 3,
    Dropbox: 4,
    Vimeo: 5,
    Box: 6,
    Google: 8
}

var ExternalAuthorizationModes =
{
    UsernameAndPassword: 0,
    OAuthVersion2: 1,
    Public: 2,
}

/*** broadcast start***/
var BROADCASTMESSAGE = {
    /*DocExplorerInit: "initDocExplorer",
    AllFodersInit: "AllFodersInit",
    UserInfoInit: "UserInfoInit",
    UserCredentialsInit: "UserCredentialsInit",*/
    RefreshDocExplorer: "RefreshDocExplorer",
    RefreshDocExplorerOK: "RefreshDocExplorerOK"
}
/******/
///#source 1 1 /h5/apps/_modules/core/common.js
window.console = window.console || {};
window.console.debug = window.console.debug || function () {
    if (console.log) {
        return console.log(arguments[0]);
    } else if (console.error) {
        return console.error(arguments[0]);
    }
};

function getThumbnailName(imageName) {
    if (imageName && imageName.length > 0) {
        // 't' + GUID
        //imageName.substring(1).match(/[\w]{8}(-[\w]{4}){3}-[\w]{12}/)
        return imageName.indexOf('t') == 0 ? imageName : "t" + imageName;
    } else {
        return "";
    }
}

function getFileNameToDownload(fileName, format) {
    var downloadFileName = _getValidFileName(fileName);
    var fileExt = "." + _getFileExtFromFormat(format);

    downloadFileName = downloadFileName.replace(/\.xlsx-model$/, ".xlsx");

    if (format && format != "UNKNOWN" && !downloadFileName.toLowerCase().match("\\" + fileExt)) {
        downloadFileName = downloadFileName + fileExt;
    }

    return downloadFileName;
}

function _getValidFileName(fileName) {
    var replaceChar = "_";
    var regEx = new RegExp('[,/\:*?""<>|]', 'g');
    return fileName.replace(regEx, replaceChar);
}

function setClientInfo(requestInput, clientInfo, clientType) {
    if (clientInfo) {
        requestInput.ClientInfo = {
            ClientType: clientType,
            ClientBaseAddress: clientInfo.baseUrl,
            ClientSessionKey: clientInfo.sessionId
        }
    }
}

function judgeUIPermission(permissionName) {
    return !!(permissionName && $App && $App.loginInfo && $App.loginInfo.currentTeamSite && $App.loginInfo.currentTeamSite.UIPermissions && $App.loginInfo.currentTeamSite.UIPermissions[permissionName]);
}

function getTeamSiteIdNameInCookie() {
    return "TeamSiteId";
}

function getChangingTeamSiteKeyInCookie() {
    if ($App.loginInfo && $App.loginInfo.clientType) {
        var result = $App.loginInfo.clientType;

        if ($App.loginInfo.clientInfo && $App.loginInfo.clientInfo.objectId) {
            result += $App.loginInfo.clientInfo.objectId
        }

        result += "ChangeTeamSite"

        return result;
    } else {
        return "ChangeTeamSite";
    }
}

function getClientType(type) {
    switch (type) {
        case CLIENT_TYPE_SALESFORCE:
            return CLIENT_TYPE_SALESFORCE + getSFPackageVersionStr();

        case CLIENT_TYPE_HTML:
            return CLIENT_TYPE_HTML + "-1.0";

        case CLIENT_TYPE_SHAREPOINT:
            return CLIENT_TYPE_SHAREPOINT; //TODO

        case CLIENT_TYPE_LIVESHARE:
            return CLIENT_TYPE_LIVESHARE; //TODO

        case CLIENT_TYPE_DOCCENTER:
            return CLIENT_TYPE_DOCCENTER + "-5";

        default:
            return "";
    }
}

function getSFPackageVersionStr() {
    var v = getSFPackageVersion();

    return "-" + v.majorVersion + "." + v.minorVersion;
}

function isSFPackageVersionGreaterOrEqualThan(versionToCompare) {
    var vtc = getSFPackageVersion(versionToCompare);
    var current = getSFPackageVersion();

    if (current.majorVersion > vtc.majorVersion) return true;

    if (current.majorVersion == vtc.majorVersion) return current.minorVersion >= vtc.minorVersion;

    return false;
}

function getSFPackageVersion(version) {
    var sfPackageVersion = version || Request.QueryString["spv"];

    if (sfPackageVersion) {
        var array = sfPackageVersion.split(".");

        var majorVersion = parseInt(array[0]);
        var minorVersion = parseInt(array[1]);

        majorVersion = isNaN(majorVersion) ? 1 : majorVersion;
        minorVersion = isNaN(minorVersion) ? 0 : minorVersion;

        return {
            majorVersion: majorVersion,
            minorVersion: minorVersion
        }
    } else {
        return {
            majorVersion: 1,
            minorVersion: 7
        };
    }
}

function _getFileExtFromFormat(format) {
    var _format = format;
    if (format && format.Format) {
        _format = format.Format;
    }
    if (format && format.toString()) {
        _format = format.toString();
    }
    if (_format.toString().toUpperCase() == "MPEG4") {
        return "mp4";
    }

    if (/^xlsx-model/i.test(_format)) {
        return "xlsx";
    }

    return _format.toLowerCase();
}

$tool = {
    ///
    /// usage:
    /// $tool.equals([[{v:1,k:2}],[{v:2,k:4,f:2}]], [[{v:1,k:2}],[{v:2,k:4}]], $tool.equals, function(a,b){return a.v==b.v && a.k == b.k;})
    ///
    /// result: true;
    ///
    equals: function (a, b, comparator) {

        if (a == b) return true;
        if (!a || !b) return false;
        if (a.length != b.length) return false;
        if (a.length == 0 && b.length == 0) return true;

        if ("string" == typeof a && "string" == typeof b) {
            return a == b;
        }

        if (!$.isArray(a) || !$.isArray(b)) {
            throw new Error("Only support .equals(arrayA, arrayB) or .equals(stringA, stringB), a = " + a + "; b = " + b);
        }

        for (var i = 0; i < a.length; i++) {
            if ($.isFunction(comparator)) {
                var args = [];
                $.each(arguments, function (k, v) {
                    args.push(v);
                });
                var args = Array.prototype.splice.call(args, 3);
                args.unshift(b[i]);
                args.unshift(a[i]);
                var lr = comparator.apply(this, args);

                if (!lr) {
                    return false;
                }
            } else if (a[i] != b[i]) {
                return false;
            }
        }

        return true;
    },
    remove: function (array, item, isObject) {
        var index = this.indexOf(array, item, isObject);
        if (index > -1) {
            array.splice(index, 1);
        }
    },
    unique: function (array) {
        var result = [];

        if (!array || !$.isArray(array)) {
            return result;
        }

        for (var i = 0; i < array.length; i++) {
            if (!this.contains(result, array[i])) {
                result.push(array[i]);
            }
        }

        return result;
    },
    contains: function (array, item, isObject) {
        return this.indexOf(array, item, isObject) >= 0;
    },
    find: function (array, item, isObject) {
        var index = this.indexOf(array, item, isObject);
        if ($.isArray(array)) {
            return array[index];
        }
        return null;
    },
    indexOf: function (array, item, isObject) {
        if (array === null || array === undefined) {
            return -1;
        }

        for (var i = 0; i < array.length; i++) {
            if ($.isFunction(item)) {
                if (item(array[i])) {
                    return i;
                }
            } else if (isObject) {
                if (array[i] && item.toString() == array[i].toString()) {
                    return i;
                }
            } else if (item == array[i]) {
                return i;
            }
        }

        return -1;
    },
    trunkStringByMaxLength: function (str, maxLength) {
        if (maxLength <= 0) {
            return str;
        }
        if (null == str || undefined == str) {
            return "";
        }
        if (str.length > maxLength) {
            str = str.substring(0, maxLength - 3);
            str += "...";
        }
        return str;
    },
    stringFormat: function (templete) {
        templete = templete || "";
        if (arguments.length > 1) {
            for (var i = 1; i < arguments.length; i++) {
                templete = templete.replace(new RegExp("\\{" + (i - 1) + "\\}", "g"), arguments[i]);
            }
        }

        return templete;
    }
};

//jQuery Ext
$.fn.scale = function (nScale) {
    return this.each(function () {
        var $this = $(this);
        var cssValue = "scaleX(" + nScale + ") scaleY(" + nScale + ")";
        $this.css("-ms-transform", cssValue);
        $this.css("-moz-transform", cssValue);
        $this.css("-webkit-transform", cssValue);
        $this.css("-o-transform", cssValue);
    });
}

$.fn.scaleToFit = function () {
    return this.each(function () {
        var $this = $(this);
        var y = $this.parent().height() / $this.outerHeight();
        var x = $this.parent().width() / $this.outerWidth();
        var scale = Math.min(x, y);
        $this.scale(scale);
    });
}

$.fn.center = function () {
    var x = true,
        y = true,
        animation = false,
        fn = "css",
        position = "relative";
    if (arguments.length) {
        var arg = arguments[0];
        x = arg.indexOf("x") > -1;
        y = arg.indexOf("y") > -1;
        animation = arg.indexOf("a") > -1;
        fn = animation ? "animate" : "css";

        position = arguments[1] || position;
    }

    return this.each(function () {
        var $this = $(this);
        $this.css("position", position);
        if (y) {
            var fitWindowTop = $this.attr("fitWindowTop");
            fitWindowTop = parseFloat(fitWindowTop);
            fitWindowTop = isNaN(fitWindowTop) ? 0 : fitWindowTop;
            $this[fn]({
                "top": ((($this.parent().height() - $this.outerHeight()) / 2) +
                    $this.parent().scrollTop() - fitWindowTop) + "px"
            });
        }
        if (x) {
            if ($($this).parent().is("td") && $($this).parent().width() == 0 && $($this).parent().siblings().length == 0) {
                $this[fn]({
                    "left": (($this.parents("table").width() - $this.outerWidth()) / 2) +
                        $this.parent().scrollLeft() + "px"
                });
            } else {
                // Fix issue. Width would increase in iPad.
                // Root cause is that the div.width() would return 0.
                // This case, the width should equal the parent.width().
                if ($this.attr("width") == "100%") {
                    $this[fn]({
                        "left": $this.parent().scrollLeft()
                    });
                } else {
                    $this[fn]({
                        "left": (($this.parent().width() - $this.outerWidth()) / 2) +
                            $this.parent().scrollLeft() + "px"
                    });
                }
            }
        }
    });
}

$.fn.centerWindow = function (ignoreScrollTop, ignoreScrollLeft) {
    return this.each(function () {
        var $this = $(this);
        $this.css("position", "absolute");

        $this.css("top", (($(window).height() - $this.outerHeight()) / 2) +
            (ignoreScrollTop ? 0 : $(window).scrollTop()) + "px");
        $this.css("left", (($(window).width() - $this.outerWidth()) / 2) +
            (ignoreScrollLeft ? 0 : $(window).scrollLeft()) + "px");
    });
}

$.fn.fitWindow = function () {
    return this.each(function () {
        var $this = $(this);
        $this.css("position", "absolute");
        $this.css("top", $this.attr("fitWindowTop") || 0);
        $this.css("left", 0);
        $this.css("height", $(window).height() + "px");
        $this.css("width", $(window).width() + "px");
    });
}

$.fn.panelWithHeader = function () {
    return this.each(function () {
        var $this = $(this);
        $this.resize(me_sizeChanged);
        me_sizeChanged();

        function me_sizeChanged() {
            var headerHeight = $(".clsPanelTitle", $this).height();
            $(".clsPanelBody", $this).height($this.height() - headerHeight - 4);
        }
    });
}

// offset of the parent to the ancestor with postion as absolute 
$.fn.fitParent = function (offset) {
    if (!offset) offset = {
        top: "0px",
        height: "0px"
    };
    return this.each(function () {
        var $this = $(this);
        var parent = $this.parent();
        $this.css("position", "absolute");
        $this.css("top", offset.top);
        $this.css("left", offset.left);
        $this.css("height", parent.height() + "px");
        $this.css("width", parent.width() + "px");
    });
}

$.fn.dialogCenterOnWindowResize = function () {
    var self = this;
    var _dialogCenterOnWindowResize;
    $(window).resize(function () {
        window.clearTimeout(_dialogCenterOnWindowResize);
        _dialogCenterOnWindowResize = setTimeout(function () { // Improving performance and fix IE7 bug
            if (self.length && !self.is(":hidden")) {
                //self.dialog({ position: { my: "center", at: "center", of: window} });
                self.dialog("widget").centerWindow(true, true); // Fix bug #7592 in iOS 
            }
        }, 50);
    });

    return this;
};



function _fixPosition(position) {
    position = position || {};
    position.x = isNaN(position.x) ? 0 : position.x;
    position.y = isNaN(position.y) ? 0 : position.y;
}

$(window).resize(function () {
    $(window).data("nuWindowWidth", $(window).width());
});

//Utils
function parseJSON(json) {
    return eval("(" + json + ")");
}

function clone(object) {
    return jQuery.extend({}, object);
}

function deepClone(object) {
    if (!object) {
        return object;
    }
    var result = {};
    if (object && object.constructor) {
        result = new object.constructor();
    }
    return jQuery.extend(true, result, object);
}

function getFileSizeString(iSizeInByte) {
    if (iSizeInByte == undefined) return "";
    if (iSizeInByte) {
        if (iSizeInByte < 1024) {
            return iSizeInByte + "Bytes";
        } else {
            var sizeK = Math.round(iSizeInByte / 1024);
            if (sizeK < 1024) {
                return sizeK + "KB";
            } else {
                var sizeM = Math.round(sizeK / 1024);
                return sizeK + "KB";
            }
        }
    }
    return "0KB";
}

function getExtName(fileName) {
    var returnValue = "";
    if (fileName) {
        var i = fileName.lastIndexOf(".");
        var startIndex = i + 1;
        var length = fileName.length - startIndex;
        if (i > -1) {
            returnValue = fileName.substr(startIndex, length);
        }
    }
    return returnValue;
}

function validateEmails(sEmails) {
    if (sEmails) {
        var result = true;
        var hasNoneEmpty = false;
        var arEmails = sEmails.split(";");
        for (var i = 0; i < arEmails.length; i++) {
            sEmail = arEmails[i];
            if (sEmail && sEmail.length > 0) {
                hasNoneEmpty = true;
                result = result && validateEmail(sEmail);
            }
        }
        return result && hasNoneEmpty;
    } else {
        return false;
    }
}

function validateEmail(email) {
    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\ ".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
}

function getParamsWithSignature(serviceName, tenant, user, password) {
    tenant = tenant || $App.loginInfo.tenant;
    user = user || $App.loginInfo.username;
    password = password || $App.loginInfo.accessKey;

    var now = new Date();
    var timestamp = Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds()).toString();
    var toSignStr = "/" + serviceName + "?tenant=" + tenant + "&user=" + user + "&timestamp=" + timestamp;
    var signature = $.base64.encode(Crypto.HMAC(Crypto.SHA1, toSignStr, password, {
        asString: true
    }));
    var result = "/" + serviceName + "?tenant=" + escape(tenant) + "&user=" + escape(user) + "&timestamp=" + timestamp + "&signature=" + escape(signature);
    return result;
}

function getSignatureForResource(serviceName, tenant, user, password) {
    tenant = tenant || $App.loginInfo.tenant;
    user = user || $App.loginInfo.username;
    password = password || $App.loginInfo.accessKey;

    var now = new Date();
    var toSignStr = "/" + serviceName + "?tenant=" + tenant + "&user=" + user;
    return $.base64.encode(Crypto.HMAC(Crypto.SHA1, toSignStr, password, {
        asString: true
    }));
}

function isString(obj) {
    return typeof obj == 'string' || obj.constructor == String;
}

function showMessage(message) {
    /*
     * If false, don't show. For the old form logic.
     * 
     * for the old form logic, it will call showMessage in business code after get a message.
     * but, for h5-dc, it will show the error message globally, and the business code should not show it again.
     * I cannot remove the showMessage call directly, caused it still be used by the old requester.
     * 
     * so, I have to hack this showMessage function to disabled it by some condition.
     * 
     * false === message, it is the condition
     * 
     */
    if (false === message) return;

    var $gmb = $(".clsGlobalMessageBox");
    if ($gmb.length == 0) {
        $gmb = $("<div>").addClass("clsGlobalMessageBox")
            .append($("<div>").addClass("clsTextPanel"),
                $("<div>").addClass("clsButtonPanel")
                .append($("<button>").text("OK")
                    .addClass("clsHighlightButton ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only")
                    .click(function () {
                        $gmb.dialog("close");
                    })
                )
        )
            .appendTo(document.body);
        $gmb.dialog({
            autoOpen: false,
            modal: true,
            resizable: false,
            width: 500,
            title: "Information"
        }).dialogCenterOnWindowResize();
    }

    $gmb.find(".clsTextPanel").text(message);
    $gmb.dialog("open");
}

function showConfirm(message, callback, fnRequiredMatched) {
    if ($.isFunction(fnRequiredMatched)) {
        if (fnRequiredMatched()) {
            _confirm();
        } else {
            _callbackExec();
        }
    } else {
        _confirm();
    }

    function _confirm() {
        var $gcb = $(".clsGlobalConfirmBox");
        if ($gcb.length == 0) {
            $gcb = $("<div>").addClass("clsGlobalConfirmBox")
                .append($("<div>").addClass("clsTextPanel"),
                    $("<div>").addClass("clsButtonPanel")
                    .append($("<button>").text("OK")
                        .addClass("clsHighlightButton ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only")
                        .click(function () {
                            $gcb.trigger("ok.confirm.global.seismic");
                            $gcb.dialog("close");
                        }),
                        $("<button>").text("Cancel")
                        .addClass("clsHighlightButton ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only")
                        .click(function () {
                            $gcb.dialog("close");
                        })
                    )
            )
                .appendTo(document.body);
            $gcb.dialog({
                autoOpen: false,
                modal: true,
                resizable: false,
                width: 500,
                title: "Information"
            }).dialogCenterOnWindowResize();
        }

        $gcb.off("ok.confirm.global.seismic").on("ok.confirm.global.seismic", function () {
            _callbackExec();
        });

        $gcb.find(".clsTextPanel").text(message);
        $gcb.dialog("open");
    }

    function _callbackExec() {
        if ($.isFunction(callback)) {
            callback();
        }
    }
}

var Request = new function () {
    this.search = window.location.search;
    this.search = this.search ? this.search.replace(/\+/g, " ") : this.search;
    this.QueryString = {};
    var tmparray = this.search.substr(1, this.search.length).split("&")
    for (var i = 0; i < tmparray.length; i++) {
        var tmpStr2 = tmparray[i].split("=");
        this.QueryString[tmpStr2[0]] = unescape(tmpStr2[1] || "");
    }
}

var TIME_OF_1970 = 0;
var START_OF_TIME = -62167219200000;
var END_OF_TIME = 253370764800000;
var LOCAL_TIMEZONE = new Date().getTimezoneOffset() / 60;
var DateTimeUtil = {
    startOfTime: function () {
        return new Date(START_OF_TIME);
    },
    endOfTime: function () {
        return new Date(END_OF_TIME);
    },
    getTimeZoneOffset: function () {
        var timeZoneOffset = $App.timeZoneOffset;
        if (isNaN($App.timeZoneOffset)) {
            timeZoneOffset = 0;
        }
        return LOCAL_TIMEZONE + timeZoneOffset;
    },
    getOffsetTime: function () {
        var offsetTime = this.getTimeZoneOffset() * 60 * 60;
        return offsetTime;
    },
    getUTCTime: function () {
        var now = new Date();
        return new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());
    },
    fromUTCTime: function (dateTime) {
        var longValue = dateTime.getTime();
        return new Date(TIME_OF_1970 + longValue + this.getOffsetTime() * 1000);
    },
    fromServerTime: function (time) {
        if (!time) {
            return "";
        }

        var tryTime = parseFloat(time);
        if (isNaN(tryTime)) {
            tryTime = parseFloat(time.replace(/^\/Date\((\d+)\)\/$/, "$1"));
        }

        tryTime = isNaN(tryTime) ? 0 : tryTime;
        return new Date(TIME_OF_1970 + tryTime + this.getOffsetTime() * 1000);
    },

    fromServerTimeWithOutSeting: function (time) {
        if (!time) {
            return "";
        }

        var tryTime = parseFloat(time);
        if (isNaN(tryTime)) {
            tryTime = parseFloat(time.replace(/^\/Date\((\d+)\)\/$/, "$1"));
        }

        tryTime = isNaN(tryTime) ? 0 : tryTime;
        return new Date(TIME_OF_1970 + tryTime);
    },

    toString: function (dateFromServer, withTime, prependZero) {
        if (!dateFromServer || isNaN(dateFromServer.getTime())) {
            return "";
        }
        var month = dateFromServer.getMonth() + 1;

        if (prependZero) {
            month = month > 9 ? month : ("0" + month);
        }

        var day = dateFromServer.getDate()

        if (prependZero) {
            day = day > 9 ? day : ("0" + day);
        }

        var hours = dateFromServer.getHours();
        if (prependZero) {
            hours = hours > 9 ? hours : ("0" + hours);
        }

        var minites = dateFromServer.getMinutes();
        if (prependZero) {
            minites = minites > 9 ? minites : ("0" + minites);
        }

        var seconds = dateFromServer.getSeconds();
        if (prependZero) {
            seconds = seconds > 9 ? seconds : ("0" + seconds);
        }

        var year = dateFromServer.getFullYear();

        if (withTime) {
            return month + "/" + day + "/" + year + " " + hours + ":" + minites + ":" + seconds;
        } else {
            return month + "/" + day + "/" + year;
        }
    },
    formatToLocalTime: function (dateFromServer, formatStr) {
        var date = dateFromServer;
        var zeroize = function (value, length) {
            if (!length) {
                length = 2;
            }

            value = new String(value);
            for (var i = 0, zeros = ''; i < (length - value.length) ; i++) {
                zeros += '0';
            }

            return zeros + value;
        };

        return formatStr.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|M{1,4}|yy(?:yy)?|([hHmstT])\1?|[lLZ])\b/g, function ($0) {
            switch ($0) {
                case 'd':
                    return date.getDate();
                case 'dd':
                    return zeroize(date.getDate());
                case 'ddd':
                    return ['Sun', 'Mon', 'Tue', 'Wed', 'Thr', 'Fri', 'Sat'][date.getDay()];
                case 'dddd':
                    return ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][date.getDay()];

                case 'M':
                    return date.getMonth() + 1;
                case 'MM':
                    return zeroize(date.getMonth() + 1);
                case 'MMM':
                    return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][date.getMonth()];
                case 'MMMM':
                    return ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'][date.getMonth()];

                case 'yy':
                    return new String(date.getFullYear()).substr(2);
                case 'yyyy':
                    return date.getFullYear();

                case 'h':
                    return date.getHours() % 12 || 12;
                case 'hh':
                    return zeroize(date.getHours() % 12 || 12);
                case 'H':
                    return date.getHours();
                case 'HH':
                    return zeroize(date.getHours());

                case 'm':
                    return date.getMinutes();
                case 'mm':
                    return zeroize(date.getMinutes());

                case 's':
                    return date.getSeconds();
                case 'ss':
                    return zeroize(date.getSeconds());

                case 'l':
                    return date.getMilliseconds();
                case 'll':
                    return zeroize(date.getMilliseconds());

                case 'tt':
                    return date.getHours() < 12 ? 'am' : 'pm';
                case 'TT':
                    return date.getHours() < 12 ? 'AM' : 'PM';
            }
        });
    },

    getTheDate: function (date, add, keepTime) {
        if (add !== undefined) {
            date.setDate(date.getDate() + add)
        }

        date.setHours(date.getHours() + this.getTimeZoneOffset());

        if (!keepTime) {
            date.setHours(0);
            date.setMinutes(0);
            date.setSeconds(0);
            date.setMilliseconds(0);
        }

        return date;
    },
    getThisWeek: function (date) {
        var dayOfWeek = date.getDay();
        return this.getTheDate(date, 1 - dayOfWeek);
    },
    getThisMonth: function (date) {
        date.setDate(1);
        return this.getTheDate(date);
    },
    getThisYear: function (date) {
        date.setDate(1);
        date.setMonth(0);
        return this.getTheDate(date);
    },
    toStandardDateString: function (orginalString) {
        return DateTimeUtil.toString(new Date(orginalString || ""), false);
    },
    toRelativeDescriptionString: function (dateTime) {
        var result = '';

        var tsAgo = new Date().getTime() - dateTime.getTime();

        tsAgo += this.getOffsetTime() * 1000;

        if (tsAgo >= 365 * 24 * 60 * 60 * 1000) {
            var t = Math.floor(tsAgo / (365 * 24 * 60 * 60 * 1000));
            result = t + " year" + (t > 1 ? "s" : "") + " ago";
        } else if (tsAgo >= 30 * 24 * 60 * 60 * 1000) {
            var t = Math.floor(tsAgo / (30 * 24 * 60 * 60 * 1000));
            result = t + " month" + (t > 1 ? "s" : "") + " ago";
        } else if (tsAgo >= 24 * 60 * 60 * 1000) {
            var t = Math.floor(tsAgo / (24 * 60 * 60 * 1000));
            result = t + " day" + (t > 1 ? "s" : "") + " ago";
        } else if (tsAgo >= 60 * 60 * 1000) {
            var t = Math.floor(tsAgo / (60 * 60 * 1000));
            result = t + " hour" + (t > 1 ? "s" : "") + " ago";
        } else if (tsAgo >= 60 * 1000) {
            var t = Math.floor(tsAgo / (60 * 1000));
            result = t + " minute" + (t > 1 ? "s" : "") + " ago";
        } else {
            result = "right now";
        }

        return result;
    }
};

var getNoMappingWarningForSF = function () {
    if ($App.directlyOpenDetailInfo.enabled) {
        message = "Unable to open content detail - Content not found.";
    } else if (Request.QueryString["oType"].toLowerCase() === "tab") {
        message = "There is no valid mapping for this custom tab. Please contact administrator or send email to support@seismic.com.";
    } else {
        message = "There is no valid mapping for this SObject. Please contact administrator or send email to support@seismic.com.";
    }

    return message
}

var isMobile = {
    Android: function () {
        return navigator.userAgent.match(/Android/i) ? true : false;
    },
    BlackBerry: function () {
        return navigator.userAgent.match(/BlackBerry/i) ? true : false;
    },
    iOS: function () {
        return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false;
    },
    Windows: function () {
        return navigator.userAgent.match(/IEMobile/i) ? true : false;
    },
    any: function () {
        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Windows());
    }
};

function getIconThumbnail(format) {
    format = format || '';

    var iconThumbnail = '';
    switch (format) {
        case "PPT":
        case "PPTX":
        case "PPTXTABLE":
            iconThumbnail = "powerpoint-file.png";
            break;
        case "DOC":
        case "DOCX":
        case "DOCXTABLE":
            iconThumbnail = "word-file.png";
            break;
        case "PDF":
            iconThumbnail = "pdf-file.png";
            break;
        case "IMAGE":
        case "GIF":
        case "TIF":
        case "TIFF":
        case "JPG":
        case "JPEG":
        case "PNG":
            iconThumbnail = "image-file.png";
            break;
        case "BMP":
        case "AVI":
        case "MPEG4":
        case "M4V":
        case "WAV":
        case "MP4":
        case "MPG":
        case "MPA":
        case "MPE":
        case "RM":
        case "RAM":
        case "ASF":
        case "MOV":
        case "VOB":
        case "WMV":
        case "V3GP":
            iconThumbnail = "video-file.png";
            break;
        case "ZIP":
            iconThumbnail = "static-content.png";
            break;
        case "YOUTUBE":
            iconThumbnail = "youtube.png";
            break;
        case "VIMEO":
            iconThumbnail = "vimeo.png";
            break;
        case "XLSX":
        case "XLS":
            iconThumbnail = "xlsx-file.png";
            break;
        default:
            iconThumbnail = "static-content.png";
            break;
    }

    return iconThumbnail;
};

function getDocumentType(format) {
    format = format || '';
    format = ''.toUpperCase.call(format);

    var result = '';
    switch (format) {
        case "PPT":
        case "PPTX":
        case "PPTXTABLE":
            result = DocumentTypes.PRESENTATION;
            break;
        case "DOC":
        case "DOCX":
        case "DOCXTABLE":
            result = DocumentTypes.MSWORD;
            break;
        case "PDF":
            result = DocumentTypes.PDF;
            break;
        case "IMAGE":
        case "GIF":
        case "TIF":
        case "TIFF":
        case "JPG":
        case "JPEG":
        case "PNG":
            result = DocumentTypes.IMAGE;
            break;
        case "BMP":
        case "AVI":
        case "MPEG4":
        case "M4V":
        case "WAV":
        case "MP4":
        case "MPG":
        case "MPA":
        case "MPE":
        case "RM":
        case "RAM":
        case "ASF":
        case "MOV":
        case "VOB":
        case "WMV":
        case "V3GP":
        case "VIMEO":
        case "YOUTUBE":
            result = DocumentTypes.VIDEO;
            break;
        case "XLSX":
        case "XLS":
            result = DocumentTypes.EXCEL;
            break;
        default:
            result = DocumentTypes.UNKNOWN;
            break;
    }

    return result;
};

function getDocumentTypeRelatedColor(docType) {
    docType = docType || '';

    switch (docType) {
        case DocumentTypes.IMAGE:
        case "IMAGE":
            return "#41b9af";
        case DocumentTypes.MSWORD:
        case "MSWORD":
            return "#54a9dd";
        case DocumentTypes.PDF:
        case "PDF":
            return "#e24949";
        case DocumentTypes.PRESENTATION:
        case "PRESENTATION":
            return "#ed955c";
        case DocumentTypes.VIDEO:
        case "VIDEO":
            return "#d469c7";
        case DocumentTypes.EXCEL:
        case "EXCEL":
            return "#87c66a";
        default:
            return "#686868";
    }
}

function getDocumentTypeRelatedIcon(docType) {
    switch (docType) {
        case DocumentTypes.IMAGE:
            return "ImgM.png";
        case DocumentTypes.MSWORD:
            return "DocxM.png";
        case DocumentTypes.PDF:
            return "PdfM.png";
        case DocumentTypes.PRESENTATION:
            return "PptxM.png";
        case DocumentTypes.EXCEL:
            return "XlsxM.png";
        case DocumentTypes.VIDEO:
            return "VideoM.png";
        default:
            return "UnknownM.png";
    }
}

try {
    $.widget("ui.igTree", $.ui.igTree, {
        findNodesBySelector: function (selector, parent) {
            var collection = [],
                nodes,
                self = this;

            nodes = parent ? parent.find(selector) : this.element.find(selector);
            nodes.each(function (index, element) {
                collection.push(self.nodeFromElement($(this).closest("li[data-role=node]")))
            });

            return collection;
        }
    });
} catch (e) { }

var FileSizeDisplayUtil = {
    bytesToString: function (bytes) {
        var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
        if (bytes <= 0) return '0 Byte';
        var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));
        return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];
    }
};

/** Old code, should be deleted, move to be createCallback **/
function nuVar() {
    var _value;
    var _result = function () {
        if (arguments.length) {
            _value = arguments[0];
        }

        return _value;
    };

    _result.exec = function () {
        if ($.isFunction(_value)) return _value.apply(arguments.callee, arguments);
    }

    return _result;
}

function createCallback() {
    var _value;
    var _result = function () {
        if (arguments.length) {
            _value = arguments[0];
        }

        return _value;
    };

    _result.exec = function () {
        if ($.isFunction(_value)) return _value.apply(arguments.callee, arguments);
    }

    return _result;
}

function execfn(fn) {
    if ($.isFunction(fn)) fn();
}

var operationsControl = {
    canEmail: function () {
        return $App.distributionInfo.allowEmail && (!$App.sessionInfo || $App.sessionInfo.AppSettings.AllowEmail)
    },
    canDownload: function () {
        return $App.distributionInfo.allowEmail && (!$App.sessionInfo || $App.sessionInfo.AppSettings.AllowDownload)
    },
    canAttachment: function () {
        return $App.distributionInfo.allowAttachment && (!$App.sessionInfo || $App.sessionInfo.AppSettings.AllowSaveAttachment)
    },
    canPostToChatter: function () {
        return $App.distributionInfo.allowEmail && (!$App.sessionInfo || $App.sessionInfo.AppSettings.AllowPostToChatter)
    },
    canCreateContent: function () {
        return $App.distributionInfo.allowEmail && (!$App.sessionInfo || $App.sessionInfo.AppSettings.AllowCreateContent)
    },
    canCreateContentDelivery: function () {
        return $App.distributionInfo.allowEmail && (!$App.sessionInfo || $App.sessionInfo.AppSettings.AllowCreateContentDelivery)
    }
};

(function (namespace) {
    namespace._fnEventToHandleShiftKeydown = function (e) {
        window.isShiftKeydowning = 16 == e.which;
    };

    namespace._fnEventToHandleShiftKeyup = function () {
        window.isShiftKeydowning = false;
    };

    namespace.fnBeforeSSOCheck = function () {
        window.focus();
        $(document.body).keydown(_fnEventToHandleShiftKeydown).keyup(_fnEventToHandleShiftKeyup);
    }

    namespace.fnAfterSSOCheck = function () {
        $(document.body).unbind("keydown", _fnEventToHandleShiftKeydown).unbind("keyup", _fnEventToHandleShiftKeyup);
    }
})(window);


function openWindowInSalesforceOneApp(url) {
    if (url && Sfdc && Sfdc.canvas && Sfdc.canvas.client && Sfdc.canvas.client.publish && $App.SRClient) {
        Sfdc.canvas.client.publish($App.SRClient, {
            name: "seismic.openSObject",
            payload: url
        });
    }
}

function formatDate() {
    var d = new Date();
    var hh = d.getHours();
    var m = d.getMinutes();
    var s = d.getSeconds();
    var year = d.getFullYear();
    var month = d.getUTCMonth() + 1;
    var day = d.getDate();

    var dd = "AM";
    var h = hh;
    if (h >= 12) {
        h = hh - 12;
        dd = "PM";
    }
    if (h == 0) {
        h = 12;
    }
    m = m < 10 ? "0" + m : m;
    s = s < 10 ? "0" + s : s;
    var pattern = new RegExp("0?" + hh + ":" + m + ":" + s);
    var replacement = month + "/" + day + "/" + year + " " + h + ":" + m;
    replacement += " " + dd;

    return replacement;
}

function setupMenu(elem, selector, configOffset, hoverClass) {
    configOffset = configOffset || {};
    configOffset.left = configOffset.left || 0;
    configOffset.top = configOffset.top || 0;

    var $menu = null;
    if ($(elem).data(selector)) {
        $menu = $(elem).data(selector);
    } else {
        $menu = $(elem).siblings("div").find(selector);
        $(elem).data(selector, $menu);
    }

    if ($menu.children().length == 0) {
        return;
    }

    if (!$menu.parent().is(document.body)) {
        $menu.appendTo(document.body);
    }

    var offset = $(elem).offset();
    var left = offset.left;
    var top = offset.top + $(elem).outerHeight();
    $menu.menu("destroy").menu().show();

    $menu.css({
        left: "initial",
        bottom: "initial",
        top: "initial",
        right: "initial"
    });
    var height = $menu.height("auto").height();
    var width = $menu.width("auto").width();

    if ($(window).width() - left > width || $(window).width() - left > offset.left) {
        $menu.css({
            left: left + configOffset.left
        });
    } else {
        $menu.css({
            right: $(window).width() - left - $(elem).width() + configOffset.left
        });
    }

    var menuMaxHeight = 0;

    if ($(window).height() - top - 20 > height || $(window).height() - top - 20 > offset.top) {
        $menu.css({
            top: top + configOffset.top,
            "z-index": 9999
        });
        menuMaxHeight = $(window).height() - top - 20;
    } else {
        $menu.css({
            bottom: $(window).height() - offset.top + configOffset.top,
            "z-index": 9999
        });
        menuMaxHeight = $(window).height() - $(window).height() + offset.top - 10;
    }

    if (height > menuMaxHeight) {
        height = menuMaxHeight;
    }

    $menu.height(height);
}

function newGuid() {
    var guid = "";
    for (var i = 1; i <= 32; i++) {
        var n = Math.floor(Math.random() * 16.0).toString(16);
        guid += n;
        if ((i == 8) || (i == 12) || (i == 16) || (i == 20))
            guid += "-";
    }
    return guid;
}



(function ($) {
    $.extend($.fn, {
        flexDialog: function (options) {
            var me = this;
            me.options = $.extend({
                maxHeight: 0,
                height: "100%",
                minHeight: 0,
                maxWidth: "100%",
                minWidth: 0,
            }, options);

            $(this).each(function () {
                $(this).dialog("widget").css({
                    "max-height": me.options.maxHeight,
                    "min-height": me.options.minHeight,
                    "max-width": me.options.maxWidth,
                    "min-width": me.options.minWidth,
                });

                $(this).on("dialogopen", function () {
                    $(this).dialog("widget").addClass("clsHeightPercent" + me.options.height.replace("%", "")).centerWindow(true, true);
                    $(this).height("100%");
                });
            });

            return this;
        }
    });
})(jQuery);

function LoginInfo() {
    var me = this;
    me.tenant = '';
    me.username = '';
    me.userid = '';
    me.password = '';
    me.accessKey = '';
    me.rememberMeToken = '';
    me.isFormAuth = false;
    me.clientType = getClientType(CLIENT_TYPE_DOCCENTER);
    me.clientInfo = null;
}

function DistributionInfo() {
    var me = this;
    me.allowDownload = true;
    me.allowEmail = true;
}

var $App = new function () {
    var me = this;
    me.loginInfo = new LoginInfo();
    me.distributionInfo = new DistributionInfo();
    me.rootVm = null;
    me.status = {};
    me.status.isServing = true;
    me.status.isLoggedIn = false;
}();


//function initApp(){
var loginInfo = $App.loginInfo;
loginInfo.clientInfo = {};
loginInfo.clientType = getClientType(CLIENT_TYPE_DOCCENTER);
loginInfo.pageUrl = "/h5/";
var tenantInQueryString = Request.QueryString['tenant'];
var i = location.host.indexOf(".seismic.com");
loginInfo.tenant = tenantInQueryString ? tenantInQueryString : (i > -1 ? location.host.substring(0, i) : "dev");
//}
//initApp();

function _extendPrototype(proto, propName, val) {
    Object.defineProperty(proto, propName, {
        value: val,
        enumerable: false,
        configurable: true,
        writable: true
    });
}

/**
 * don't write this like:
 *  Array.prototype.contains = function(){...}
 * It will cause an issue when someone write code like:
 *  for(var i in []){...}
 */
_extendPrototype(Array.prototype, 'contains', function (obj) {
    var i = this.length;
    while (i--) {
        if (this[i] === obj) {
            return true;
        }
    }
    return false;
});

_extendPrototype(Array.prototype, 'move', function (from, to) {
    this.splice(to, 0, this.splice(from, 1)[0]);
});

var DocCenter = DocCenter || {};

DocCenter.helpers = {
    isMobile: function () {
        var ua = navigator.userAgent;
        if (/(iphone|ios|android|mini|mobile|mobi|Nokia|Symbian|iPod|iPad|Windows\s+Phone|MQQBrowser|wp7|wp8|UCBrowser7|UCWEB|360\s+Aphone\s+Browser)/i.test(ua)) {
            return true;
        }
        return false;
    },
    argbToRgba: function (argb) {
        if (argb == undefined) return "";
        var num = argb.replace("#", "0x");
        num >>>= 0;
        var b = num & 0xFF,
            g = (num & 0xFF00) >>> 8,
            r = (num & 0xFF0000) >>> 16,
            a = ((num & 0xFF000000) >>> 24) / 255;
        return "rgba(" + [r, g, b, a].join(",") + ")";
    },
    argbToRgbaPercent: function (argb) {
        var num = argb.replace("#", "0x");
        num >>>= 0;
        var b = num & 0xFF,
            g = (num & 0xFF00) >>> 8,
            r = (num & 0xFF0000) >>> 16,
            a = ((num & 0xFF000000) >>> 24) / 255;
        r = r + 0x10 > 0xFF ? 0xFF : r + 0x10
        b = b + 0x10 > 0xFF ? 0xFF : b + 0x10
        g = g + 0x10 > 0xFF ? 0xFF : g + 0x10
        //r=r>255?255:r;
        var a = 1;
        var value = "rgba(" + [r, g, b, a].join(",") + ")";
        //console.log(value);
        return value;
    },
    rgbaToArgb: function (rgba) {
        function D2Hx(digit) {
            var HxArr = '0123456789ABCDEF';
            var low = digit % 0x10,
                high = (digit - low) / 0x10 % 0x10;
            return HxArr[high] + HxArr[low];
        }

        rgba = rgba.replace('rgba(', '').replace(')', '').split(',');
        var r = D2Hx(rgba[0]),
            g = D2Hx(rgba[1]),
            b = D2Hx(rgba[2]),
            a = D2Hx(rgba[3] * 255);
        return '#' + [a, r, g, b].join('');
    },
    isNotString: function (str) {
        return (typeof str !== "string");
    },
    isHelpCenter: function () {
        return HELP_CENTER_TENANTS.contains($App.loginInfo.tenant);
    }
};


///#source 1 1 /h5/apps/_modules/core/commonapihelper.js
function CommonApiHelper() {
    var me = this;
    me.loginInfo = function () {
        return $App.loginInfo;
    }
    me.resetDownloadImageSignature = function () {
        var sign = "";
        if (me.loginInfo()) {
            sign = getSignatureForResource("Image", me.loginInfo().tenant, me.loginInfo().username, me.loginInfo().accessKey);
        }

        // Different Tenant should have diffrent signature
        // Different clientType should have diffrent signature
        // Make as hash to avoid the key to be too long. -- Stone
        $.cookie(_getDownloadSignatureInCookieKey(), sign, {
            path: "/",
            secure: true
        });
    }

    function rstr2hex(input) {
        var hex_tab = window.hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
        var output = "";
        var x;
        for (var i = 0; i < input.length; i++) {
            x = input.charCodeAt(i);
            output += hex_tab.charAt((x >>> 4) & 0x0F) + hex_tab.charAt(x & 0x0F);
        }

        return output.toUpperCase();
    }

    var _getDownloadSignatureInCookieKey = function () {
        return rstr2hex(Crypto.HMAC(Crypto.SHA1, me.loginInfo().tenant + "_" + me.loginInfo().clientType + "_" + DOWNLOAD_SIGNATURE_IN_COOKIE, "", { asString: true }));
    }

    me.getImageUrl = function (imageId, tintColor) {
        if (me.loginInfo() && imageId) {
            var url = FILE_SERVICE_URL + "/Image.ashx?tenant=" + me.loginInfo().tenant
                + "&user=" + me.loginInfo().username
                + "&client=" + $App.loginInfo.clientType
                + "&imageid=" + imageId;

            if (tintColor) {
                url += "&tintcolor=" + tintColor;
            }

            return url;
        }

        return "";
    }

    me.getIconUrl = function (imageName, tintColor, resize) {
        if (me.loginInfo() && imageName) {
            var url = FILE_SERVICE_URL + "/Image.ashx?tenant=" + me.loginInfo().tenant
                + "&user=" + me.loginInfo().username
                + "&client=" + $App.loginInfo.clientType
                + "&imageid=" + imageName
                + "&tintcolor=" + tintColor
                + "&isembeddedresource=true";

            if (resize) {
                url += "&resize=" + resize;
            }

            return url;
        }

        return "";
    }

    me.getImageUrlForFormAuthorization = function (imageId) {
        return me.getImageUrl(imageId);
    }

    me.getFileUrl = function (fileId, fileName, fileFormat, contentType, isPersonal) {
        if (me.loginInfo()) {
            var url = DOWNLOAD_ROOT_URL + getParamsWithSignature("DownloadFileWithSignature.ashx", me.loginInfo().tenant, me.loginInfo().username, me.loginInfo().accessKey);
            url += "&fileid=" + escape(fileId)
                + "&filename=" + escape(getFileNameToDownload(fileName, fileFormat))
                + "&format=" + escape(fileFormat)
                + "&clienttype=" + escape(me.loginInfo().clientType)
                + "&contentType=" + (contentType || "")
                + "&personal=" + (isPersonal ? 1 : '');
            return url;
        }

        return "";
    }

    me.getVideoUrl = function (fileId) {
        if (me.loginInfo() && fileId) {
            var url = "/VideoHandler" + getParamsWithSignature("GetVideo.aspx", me.loginInfo().tenant, me.loginInfo().username, me.loginInfo().accessKey);
            url += "&id=" + escape(fileId);
            url += "&clientType=" + me.loginInfo().clientType;

            return url;
        }

        return "";
    }

    me.getVideoUrlForFormAuthorization = function (fileId) {
        if (me.loginInfo() && fileId) {
            var url = "/VideoHandler/GetVideo.aspx?tenant=" + me.loginInfo().tenant
                + "&user=" + me.loginInfo().username
                + "&client=" + $App.loginInfo.clientType
                + "&id=" + escape(fileId)
                + "&clientType=" + me.loginInfo().clientType;
            return url;
        }

        return "";

    }

    me.getYouTubeVideoUrl = function (ptoId, width, height) {
        if (me.loginInfo()) {
            var url = YOUTUBE_VIDEO;
            url += "?id=" + ptoId
                + "&width=" + width
                + "&height=" + height
                + "&tenant=" + me.loginInfo().tenant
                + "&user=" + me.loginInfo().username
                + "&clientType=" + me.loginInfo().clientType;
            return url;
        }
        return "";
    }

    var _getCreateContentOrDeliveryUrl = function (fileId, fileName, sfBaseAddress, sfSessionId, objectId, format, operateType) {
        var sfInfo = $App.loginInfo.clientInfo;
        var appSettings = $App.sessionInfo.AppSettings;
        var allowActivity = sfInfo && sfInfo.isObjectAllowActivity && appSettings.AllowLogActivity;
        return "/H5LiveSend/ContentDelivery.aspx?baseurl=" + escape(sfBaseAddress)
                + "&sessionid=" + escape(sfSessionId).replace(/\+/g, "%2b")
                + "&objectId=" + objectId
                + "&objectType=" + format
                + "&fileid=" + fileId
                + "&filename=" + escape(getFileNameToDownload(fileName, format))
                + "&tenant=" + me.loginInfo().tenant
                + "&username=" + me.loginInfo().username
                + "&accesskey=" + me.loginInfo().accessKey
                + "&clientType=" + me.loginInfo().clientType
                + "&otype=" + operateType
                + "&aca=" + (allowActivity && $App.distributionInfo.allowContentActivity)
                + "&acda=" + (allowActivity && $App.distributionInfo.allowContentDeliveryActivity)
                + "&pfvid=" + escape($App.loginInfo.clientInfo.profileVersionId || '')
                + "&tsid=" + escape($App.loginInfo.clientInfo.teamSiteId || '');
    };

    me.getDeliveryContentUrl = function (fileId, fileName, sfBaseAddress, sfSessionId, objectId, format) {
        if (me.loginInfo()) {
            return _getCreateContentOrDeliveryUrl(fileId, fileName, sfBaseAddress, sfSessionId, objectId, format, "ccd");
        }

        return "";
    }

    me.getCreateContentUrl = function (fileId, fileName, sfBaseAddress, sfSessionId, objectId, format) {
        if (me.loginInfo()) {
            return _getCreateContentOrDeliveryUrl(fileId, fileName, sfBaseAddress, sfSessionId, objectId, format, "cc");
        }

        return "";
    }

    me.getCreateContentParameters = function (fileId, fileName, sfBaseAddress, sfSessionId, objectId, format) {
        if (me.loginInfo()) {
            return {
                baseurl: sfBaseAddress,
                sessionid: sfSessionId,
                objectId: objectId,
                objectType: format,
                fileid: fileId,
                filename: getFileNameToDownload(fileName, format),
                imidiatly: true
            };
        }

        return {};
    }

    me._initializeDisplayProperties = function (objectType, formatStr) {
        var target = {};
        switch (objectType) {
            case ObjectTypes.PRESENTATION:
                target.ThumbnailImageOnGrid = "livedoc-powerpoint.png";
                target.ThumbnailClassNameOnGrid = 'dcicon-pptinkwiths';
                target.ObjectTypeString = "LiveDoc";
                break;
            case ObjectTypes.MSWORD:
                target.ThumbnailImageOnGrid = "livedoc-word.png";
                target.ThumbnailClassNameOnGrid = 'dcicon-wordwiths';
                target.ObjectTypeString = "LiveDoc";
                break;
            case ObjectTypes.RESOURCE:
                target.ThumbnailImageOnGrid = getIconThumbnail(formatStr);
                target.ThumbnailClassNameOnGrid = getIconClassName(formatStr);
                target.ObjectTypeString = "Content";
                break;
            case ObjectTypes.IMAGE:
                target.ThumbnailImageOnGrid = "image-file.png";
                target.ThumbnailClassNameOnGrid = 'dcicon-picink';
                target.ObjectTypeString = "Image";
                break;
            default:
                target.ThumbnailClassNameOnGrid = 'dcicon-fileink';
                target.ObjectTypeString = "Unknown";
                break;
        }

        return target;
    }

    function getIconThumbnail(format) {
        format = format || '';

        var iconThumbnail = '';

        switch (format) {
            case "PPT":
            case "PPTX":
            case "PPTXTABLE":
                iconThumbnail = "powerpoint-file.png";
                break;
            case "DOC":
            case "DOCX":
            case "DOCXTABLE":
                iconThumbnail = "word-file.png";
                break;
            case "PDF":
                iconThumbnail = "pdf-file.png";
                break;
            case "IMAGE":
            case "GIF":
            case "TIF":
            case "TIFF":
            case "JPG":
            case "JPEG":
            case "PNG":
            case "BMP":
            case "EMF":
            case "WMF":
                iconThumbnail = "image-file.png";
                break;
            case "AVI":
            case "MPEG4":
            case "M4V":
            case "WAV":
            case "MP4":
            case "MPG":
            case "MPA":
            case "MPE":
            case "RM":
            case "RAM":
            case "ASF":
            case "MOV":
            case "VOB":
            case "WMV":
            case "V3GP":
                iconThumbnail = "video-file.png";
                break;
            case "ZIP":
                iconThumbnail = "static-content.png";
                break;
            case "YOUTUBE":
                iconThumbnail = "youtube.png";
                break;
            case "VIMEO":
                iconThumbnail = "vimeo.png";
                break;
            case "XLSX":
            case "XLS":
                iconThumbnail = "xlsx-file.png";
                break;
            case "URL":
                iconThumbnail = "Url.png";
                break;
            default:
                iconThumbnail = "static-content.png";
                break;
        }

        return iconThumbnail;
    };

    function getIconClassName(format) {
        format = format || '';

        var iconClassName = '';

        switch (format) {
            case "PPT":
            case "PPTX":
            case "PPTXTABLE":
                iconClassName = "dcicon-pptink";
                break;
            case "DOC":
            case "DOCX":
            case "DOCXTABLE":
                iconClassName = "dcicon-wordink";
                break;
            case "PDF":
                iconClassName = "dcicon-pdfkuang";
                break;
            case "IMAGE":
            case "GIF":
            case "TIF":
            case "TIFF":
            case "JPG":
            case "JPEG":
            case "PNG":
            case "EMF":
            case "WMF":
                iconClassName = "dcicon-picink";
                break;
            case "BMP":
            case "AVI":
            case "MPEG4":
            case "M4V":
            case "WAV":
            case "MP4":
            case "MPG":
            case "MPA":
            case "MPE":
            case "RM":
            case "RAM":
            case "ASF":
            case "MOV":
            case "VOB":
            case "WMV":
            case "V3GP":
                iconClassName = "dcicon-eye"; //"video-file.png";
                break;
            case "ZIP":
                iconClassName = "dcicon-fileink";
                break;
            case "YOUTUBE":
                iconClassName = "dcicon-youtu";
                break;
            case "VIMEO":
                iconClassName = "dcicon-vimeo";
                break;
            case "XLSX":
            case "XLS":
                iconClassName = "dcicon-excelink";
                break;
            case "URL":
                iconClassName = "dcicon-urlkuang";
                break;
            default:
                iconClassName = "dcicon-fileink";
                break;
        }

        return iconClassName;
    };

    me.getThumbnailUrl = function (data, type) {
        var iconThumbnailUrl = "";
        var className;
        var tileBackground;
        if (data.ThumbnailBlobId != null) {
            iconThumbnailUrl = me.getImageUrl(data.ThumbnailBlobId, "");
            className = "_folder-img";
        }
        else {
            var iconBloadId = data.CustomizedSettingsInfo.IconBlobId;
            var isIconTint = data.CustomizedSettingsInfo.IsIconTint;
            tileBackground = data.CustomizedSettingsInfo.TileBackground;
            var folderName = "folder-dark-big.png";
            className = "_folder-img-icon";
            if (iconBloadId != "") {
                if (isIconTint) {
                    iconThumbnailUrl = me.getImageUrl(iconBloadId, data.CustomizedSettingsInfo.TileForeground.replace('#', ''));
                }
                else {
                    iconThumbnailUrl = me.getImageUrl(iconBloadId, "");
                }
            }
            else {
                if (isIconTint) {
                    iconThumbnailUrl = me.getIconUrl(folderName, data.CustomizedSettingsInfo.TileForeground.replace('#', ''));
                }
                else {
                    iconThumbnailUrl = me.getIconUrl(folderName, "");
                }
            }
        }
        if (type == 0) {
            return iconThumbnailUrl;
        }
        else if (type == 1) {
            return className;
        }
        else { return tileBackground; }
    }

    me.getSpecialName = function (folderName) {
        if (folderName == "MostPopular") {
            return "Most Popular";
        }
        return folderName;
    }

    me.getIntersectionDeliveryOptionFromFormAndProfile = function (fdo, pdo) {
        var deliveryOptions = [];
        if (fdo.length == 0 && pdo.length == 0) {
            return null;
        }
        else if (fdo.length != 0 && pdo.length == 0) {
            return fdo;
        }
        else if (fdo.length == 0 && pdo.length != 0) {
            return pdo;
        }
        else {
            for (var i = 0; i < pdo.length; i++) {
                var pdOption = pdo[i];
                if (isSameDeliveryOption(fdo, pdOption)) {
                    deliveryOptions.push(pdOption);
                }
            }
        }
        return deliveryOptions;
    }
    function isSameDeliveryOption(fdo, option) {
        for (var i = 0; i < fdo.length; i++) {
            var sdOption = fdo[i];
            if (sdOption.DeliveryOptionId == option.DeliveryOptionId) {
                return true;
            }
        }
        return false;
    }
    me.createClearCartDeliveryOption = function () {
        var clearCartOption = new Object();
        clearCartOption.ChannelType = 0;
        clearCartOption.DeliveryOptionId = "00000000-0000-0000-0000-000000000000";
        clearCartOption.Name = "Clear Cart";
        clearCartOption.Type = 55;
        return clearCartOption;
    }
    me.getIsExpiredCountInCart = function (data) {
        var count = 0;
        if (data && data.length > 0) {
            for (var i = 0; i < data.length; i++) {
                var item = data[i];
                if (item.IsExpired) {
                    count++;
                }
            }
        }
        return count;
    }
    me.createSpecialDeliveryOption = function (deliveryOptionType, displayName) {
        return {
            ChannelType: DeliveryChannelType.Unknown,
            DeliveryOptionId: null,
            DisableOutmodeSendByEmail: false,
            FormCancelButtonText: null,
            FormDefinition: null,
            FormFinishButtonText: null,
            HasForm: false,
            Name: displayName,
            Type: deliveryOptionType,
        };
    }
}

//CommonApiHelper.prototype = apiHelperBase;

var commonApiHelper = new CommonApiHelper();


///#source 1 1 /h5/libraries/jquery.base64.min.js
/*
@desc
	Base64 encoder and decoder write by JavaScript. This code was a plugin of 
	jQeury, you must load jQuery library first if you want to use this code.
	 - After encode, you can decode it with PHP, and vice versa
	 - Support Unicode library, but only worked on chinese
	This code was collected from the network, I just rewrite it as the plugin 
	of jQuery, the copyright belongs to original work(s).
@Version	1.1 build 20110323
@Author	Hpyer <coolhpy@163.com>
@Home	http://hpyer.cn/codes/jquery-plugin-base64-encode-and-decode
@Usage
	Use UNICODE library or not: $.base64.is_unicode = false/true;
	Encode: $.base64.encode('$.base64');
	Decode: $.base64.decode('JC5iYXNlNjQ=');
@License	Free
*/
jQuery.base64={is_unicode:!1,encode:function(n){this.is_unicode&&(n=this._u2a(n));for(var o="",u,t,i="",s,h,f,r="",e=0;e<n.length;)u=n.charCodeAt(e++),t=n.charCodeAt(e++),i=n.charCodeAt(e++),s=u>>2,h=(u&3)<<4|t>>4,f=(t&15)<<2|i>>6,r=i&63,isNaN(t)?f=r=64:isNaN(i)&&(r=64),o=o+this._keys.charAt(s)+this._keys.charAt(h)+this._keys.charAt(f)+this._keys.charAt(r),u=t=i="",s=h=f=r="";return o},decode:function(n){var t="",e,o,s="",h,u,i,f="",r=0,c;if(n.length%4!=0||(c=/[^A-Za-z0-9\+\/\=]/g,c.exec(n)))return"";while(r<n.length)h=this._keys.indexOf(n.charAt(r++)),u=this._keys.indexOf(n.charAt(r++)),i=this._keys.indexOf(n.charAt(r++)),f=this._keys.indexOf(n.charAt(r++)),e=h<<2|u>>4,o=(u&15)<<4|i>>2,s=(i&3)<<6|f,t=t+String.fromCharCode(e),i!=64&&(t+=String.fromCharCode(o)),f!=64&&(t+=String.fromCharCode(s)),e=o=s="",h=u=i=f="";return this.is_unicode&&(t=this._a2u(t)),t},_keys:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_unicode:function(){return"00A4,00A7,00A8,00B0,00B1,00B7,00D7,00E0,00E1,00E8,00E9,00EA,00EC,00ED,00F2,00F3,00F7,00F9,00FA,00FC,0101,0113,011B,012B,014D,016B,01CE,01D0,01D2,01D4,01D6,01D8,01DA,01DC,02C7,02C9,0391,0392,0393,0394,0395,0396,0397,0398,0399,039A,039B,039C,039D,039E,039F,03A0,03A1,03A3,03A4,03A5,03A6,03A7,03A8,03A9,03B1,03B2,03B3,03B4,03B5,03B6,03B7,03B8,03B9,03BA,03BB,03BC,03BD,03BE,03BF,03C0,03C1,03C3,03C4,03C5,03C6,03C7,03C8,03C9,0401,0410,0411,0412,0413,0414,0415,0416,0417,0418,0419,041A,041B,041C,041D,041E,041F,0420,0421,0422,0423,0424,0425,0426,0427,0428,0429,042A,042B,042C,042D,042E,042F,0430,0431,0432,0433,0434,0435,0436,0437,0438,0439,043A,043B,043C,043D,043E,043F,0440,0441,0442,0443,0444,0445,0446,0447,0448,0449,044A,044B,044C,044D,044E,044F,0451,2014,2016,2018,2019,201C,201D,2026,2030,2032,2033,203B,2103,2116,2160,2161,2162,2163,2164,2165,2166,2167,2168,2169,216A,216B,2190,2191,2192,2193,2208,220F,2211,221A,221D,221E,2220,2225,2227,2228,2229,222A,222B,222E,2234,2235,2236,2237,223D,2248,224C,2260,2261,2264,2265,226E,226F,2299,22A5,2312,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2474,2475,2476,2477,2478,2479,247A,247B,247C,247D,247E,247F,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,248A,248B,248C,248D,248E,248F,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,249A,249B,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,250A,250B,250C,250D,250E,250F,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,251A,251B,251C,251D,251E,251F,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,252A,252B,252C,252D,252E,252F,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,253A,253B,253C,253D,253E,253F,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,254A,254B,25A0,25A1,25B2,25B3,25C6,25C7,25CB,25CE,25CF,2605,2606,2640,2642,3000,3001,3002,3003,3005,3008,3009,300A,300B,300C,300D,300E,300F,3010,3011,3013,3014,3015,3016,3017,3041,3042,3043,3044,3045,3046,3047,3048,3049,304A,304B,304C,304D,304E,304F,3050,3051,3052,3053,3054,3055,3056,3057,3058,3059,305A,305B,305C,305D,305E,305F,3060,3061,3062,3063,3064,3065,3066,3067,3068,3069,306A,306B,306C,306D,306E,306F,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,307A,307B,307C,307D,307E,307F,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,308A,308B,308C,308D,308E,308F,3090,3091,3092,3093,30A1,30A2,30A3,30A4,30A5,30A6,30A7,30A8,30A9,30AA,30AB,30AC,30AD,30AE,30AF,30B0,30B1,30B2,30B3,30B4,30B5,30B6,30B7,30B8,30B9,30BA,30BB,30BC,30BD,30BE,30BF,30C0,30C1,30C2,30C3,30C4,30C5,30C6,30C7,30C8,30C9,30CA,30CB,30CC,30CD,30CE,30CF,30D0,30D1,30D2,30D3,30D4,30D5,30D6,30D7,30D8,30D9,30DA,30DB,30DC,30DD,30DE,30DF,30E0,30E1,30E2,30E3,30E4,30E5,30E6,30E7,30E8,30E9,30EA,30EB,30EC,30ED,30EE,30EF,30F0,30F1,30F2,30F3,30F4,30F5,30F6,3105,3106,3107,3108,3109,310A,310B,310C,310D,310E,310F,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,311A,311B,311C,311D,311E,311F,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3220,3221,3222,3223,3224,3225,3226,3227,3228,3229,4E00,4E01,4E03,4E07,4E08,4E09,4E0A,4E0B,4E0C,4E0D,4E0E,4E10,4E11,4E13,4E14,4E15,4E16,4E18,4E19,4E1A,4E1B,4E1C,4E1D,4E1E,4E22,4E24,4E25,4E27,4E28,4E2A,4E2B,4E2C,4E2D,4E30,4E32,4E34,4E36,4E38,4E39,4E3A,4E3B,4E3D,4E3E,4E3F,4E43,4E45,4E47,4E48,4E49,4E4B,4E4C,4E4D,4E4E,4E4F,4E50,4E52,4E53,4E54,4E56,4E58,4E59,4E5C,4E5D,4E5E,4E5F,4E60,4E61,4E66,4E69,4E70,4E71,4E73,4E7E,4E86,4E88,4E89,4E8B,4E8C,4E8D,4E8E,4E8F,4E91,4E92,4E93,4E94,4E95,4E98,4E9A,4E9B,4E9F,4EA0,4EA1,4EA2,4EA4,4EA5,4EA6,4EA7,4EA8,4EA9,4EAB,4EAC,4EAD,4EAE,4EB2,4EB3,4EB5,4EBA,4EBB,4EBF,4EC0,4EC1,4EC2,4EC3,4EC4,4EC5,4EC6,4EC7,4EC9,4ECA,4ECB,4ECD,4ECE,4ED1,4ED3,4ED4,4ED5,4ED6,4ED7,4ED8,4ED9,4EDD,4EDE,4EDF,4EE1,4EE3,4EE4,4EE5,4EE8,4EEA,4EEB,4EEC,4EF0,4EF2,4EF3,4EF5,4EF6,4EF7,4EFB,4EFD,4EFF,4F01,4F09,4F0A,4F0D,4F0E,4F0F,4F10,4F11,4F17,4F18,4F19,4F1A,4F1B,4F1E,4F1F,4F20,4F22,4F24,4F25,4F26,4F27,4F2A,4F2B,4F2F,4F30,4F32,4F34,4F36,4F38,4F3A,4F3C,4F3D,4F43,4F46,4F4D,4F4E,4F4F,4F50,4F51,4F53,4F55,4F57,4F58,4F59,4F5A,4F5B,4F5C,4F5D,4F5E,4F5F,4F60,4F63,4F64,4F65,4F67,4F69,4F6C,4F6F,4F70,4F73,4F74,4F76,4F7B,4F7C,4F7E,4F7F,4F83,4F84,4F88,4F89,4F8B,4F8D,4F8F,4F91,4F94,4F97,4F9B,4F9D,4FA0,4FA3,4FA5,4FA6,4FA7,4FA8,4FA9,4FAA,4FAC,4FAE,4FAF,4FB5,4FBF,4FC3,4FC4,4FC5,4FCA,4FCE,4FCF,4FD0,4FD1,4FD7,4FD8,4FDA,4FDC,4FDD,4FDE,4FDF,4FE1,4FE3,4FE6,4FE8,4FE9,4FEA,4FED,4FEE,4FEF,4FF1,4FF3,4FF8,4FFA,4FFE,500C,500D,500F,5012,5014,5018,5019,501A,501C,501F,5021,5025,5026,5028,5029,502A,502C,502D,502E,503A,503C,503E,5043,5047,5048,504C,504E,504F,5055,505A,505C,5065,506C,5076,5077,507B,507E,507F,5080,5085,5088,508D,50A3,50A5,50A7,50A8,50A9,50AC,50B2,50BA,50BB,50CF,50D6,50DA,50E6,50E7,50EC,50ED,50EE,50F3,50F5,50FB,5106,5107,510B,5112,5121,513F,5140,5141,5143,5144,5145,5146,5148,5149,514B,514D,5151,5154,5155,5156,515A,515C,5162,5165,5168,516B,516C,516D,516E,5170,5171,5173,5174,5175,5176,5177,5178,5179,517B,517C,517D,5180,5181,5182,5185,5188,5189,518C,518D,5192,5195,5196,5197,5199,519B,519C,51A0,51A2,51A4,51A5,51AB,51AC,51AF,51B0,51B1,51B2,51B3,51B5,51B6,51B7,51BB,51BC,51BD,51C0,51C4,51C6,51C7,51C9,51CB,51CC,51CF,51D1,51DB,51DD,51E0,51E1,51E4,51EB,51ED,51EF,51F0,51F3,51F5,51F6,51F8,51F9,51FA,51FB,51FC,51FD,51FF,5200,5201,5202,5203,5206,5207,5208,520A,520D,520E,5211,5212,5216,5217,5218,5219,521A,521B,521D,5220,5224,5228,5229,522B,522D,522E,5230,5233,5236,5237,5238,5239,523A,523B,523D,523F,5240,5241,5242,5243,524A,524C,524D,5250,5251,5254,5256,525C,525E,5261,5265,5267,5269,526A,526F,5272,527D,527F,5281,5282,5288,5290,5293,529B,529D,529E,529F,52A0,52A1,52A2,52A3,52A8,52A9,52AA,52AB,52AC,52AD,52B1,52B2,52B3,52BE,52BF,52C3,52C7,52C9,52CB,52D0,52D2,52D6,52D8,52DF,52E4,52F0,52F9,52FA,52FE,52FF,5300,5305,5306,5308,530D,530F,5310,5315,5316,5317,5319,531A,531D,5320,5321,5323,5326,532A,532E,5339,533A,533B,533E,533F,5341,5343,5345,5347,5348,5349,534A,534E,534F,5351,5352,5353,5355,5356,5357,535A,535C,535E,535F,5360,5361,5362,5363,5364,5366,5367,5369,536B,536E,536F,5370,5371,5373,5374,5375,5377,5378,537A,537F,5382,5384,5385,5386,5389,538B,538C,538D,5395,5398,539A,539D,539F,53A2,53A3,53A5,53A6,53A8,53A9,53AE,53B6,53BB,53BF,53C1,53C2,53C8,53C9,53CA,53CB,53CC,53CD,53D1,53D4,53D6,53D7,53D8,53D9,53DB,53DF,53E0,53E3,53E4,53E5,53E6,53E8,53E9,53EA,53EB,53EC,53ED,53EE,53EF,53F0,53F1,53F2,53F3,53F5,53F6,53F7,53F8,53F9,53FB,53FC,53FD,5401,5403,5404,5406,5408,5409,540A,540C,540D,540E,540F,5410,5411,5412,5413,5415,5416,5417,541B,541D,541E,541F,5420,5421,5423,5426,5427,5428,5429,542B,542C,542D,542E,542F,5431,5432,5434,5435,5438,5439,543B,543C,543E,5440,5443,5446,5448,544A,544B,5450,5452,5453,5454,5455,5456,5457,5458,5459,545B,545C,5462,5464,5466,5468,5471,5472,5473,5475,5476,5477,5478,547B,547C,547D,5480,5482,5484,5486,548B,548C,548E,548F,5490,5492,5494,5495,5496,5499,549A,549B,549D,54A3,54A4,54A6,54A7,54A8,54A9,54AA,54AB,54AC,54AD,54AF,54B1,54B3,54B4,54B8,54BB,54BD,54BF,54C0,54C1,54C2,54C4,54C6,54C7,54C8,54C9,54CC,54CD,54CE,54CF,54D0,54D1,54D2,54D3,54D4,54D5,54D7,54D9,54DA,54DC,54DD,54DE,54DF,54E5,54E6,54E7,54E8,54E9,54EA,54ED,54EE,54F2,54F3,54FA,54FC,54FD,54FF,5501,5506,5507,5509,550F,5510,5511,5514,551B,5520,5522,5523,5524,5527,552A,552C,552E,552F,5530,5531,5533,5537,553C,553E,553F,5541,5543,5544,5546,5549,554A,5550,5555,5556,555C,5561,5564,5565,5566,5567,556A,556C,556D,556E,5575,5576,5577,5578,557B,557C,557E,5580,5581,5582,5583,5584,5587,5588,5589,558A,558B,558F,5591,5594,5598,5599,559C,559D,559F,55A7,55B1,55B3,55B5,55B7,55B9,55BB,55BD,55BE,55C4,55C5,55C9,55CC,55CD,55D1,55D2,55D3,55D4,55D6,55DC,55DD,55DF,55E1,55E3,55E4,55E5,55E6,55E8,55EA,55EB,55EC,55EF,55F2,55F3,55F5,55F7,55FD,55FE,5600,5601,5608,5609,560C,560E,560F,5618,561B,561E,561F,5623,5624,5627,562C,562D,5631,5632,5634,5636,5639,563B,563F,564C,564D,564E,5654,5657,5658,5659,565C,5662,5664,5668,5669,566A,566B,566C,5671,5676,567B,567C,5685,5686,568E,568F,5693,56A3,56AF,56B7,56BC,56CA,56D4,56D7,56DA,56DB,56DD,56DE,56DF,56E0,56E1,56E2,56E4,56EB,56ED,56F0,56F1,56F4,56F5,56F9,56FA,56FD,56FE,56FF,5703,5704,5706,5708,5709,570A,571C,571F,5723,5728,5729,572A,572C,572D,572E,572F,5730,5733,5739,573A,573B,573E,5740,5742,5747,574A,574C,574D,574E,574F,5750,5751,5757,575A,575B,575C,575D,575E,575F,5760,5761,5764,5766,5768,5769,576A,576B,576D,576F,5773,5776,5777,577B,577C,5782,5783,5784,5785,5786,578B,578C,5792,5793,579B,57A0,57A1,57A2,57A3,57A4,57A6,57A7,57A9,57AB,57AD,57AE,57B2,57B4,57B8,57C2,57C3,57CB,57CE,57CF,57D2,57D4,57D5,57D8,57D9,57DA,57DD,57DF,57E0,57E4,57ED,57EF,57F4,57F8,57F9,57FA,57FD,5800,5802,5806,5807,580B,580D,5811,5815,5819,581E,5820,5821,5824,582A,5830,5835,5844,584C,584D,5851,5854,5858,585E,5865,586B,586C,587E,5880,5881,5883,5885,5889,5892,5893,5899,589A,589E,589F,58A8,58A9,58BC,58C1,58C5,58D1,58D5,58E4,58EB,58EC,58EE,58F0,58F3,58F6,58F9,5902,5904,5907,590D,590F,5914,5915,5916,5919,591A,591C,591F,5924,5925,5927,5929,592A,592B,592D,592E,592F,5931,5934,5937,5938,5939,593A,593C,5941,5942,5944,5947,5948,5949,594B,594E,594F,5951,5954,5955,5956,5957,5958,595A,5960,5962,5965,5973,5974,5976,5978,5979,597D,5981,5982,5983,5984,5986,5987,5988,598A,598D,5992,5993,5996,5997,5999,599E,59A3,59A4,59A5,59A8,59A9,59AA,59AB,59AE,59AF,59B2,59B9,59BB,59BE,59C6,59CA,59CB,59D0,59D1,59D2,59D3,59D4,59D7,59D8,59DA,59DC,59DD,59E3,59E5,59E8,59EC,59F9,59FB,59FF,5A01,5A03,5A04,5A05,5A06,5A07,5A08,5A09,5A0C,5A11,5A13,5A18,5A1C,5A1F,5A20,5A23,5A25,5A29,5A31,5A32,5A34,5A36,5A3C,5A40,5A46,5A49,5A4A,5A55,5A5A,5A62,5A67,5A6A,5A74,5A75,5A76,5A77,5A7A,5A7F,5A92,5A9A,5A9B,5AAA,5AB2,5AB3,5AB5,5AB8,5ABE,5AC1,5AC2,5AC9,5ACC,5AD2,5AD4,5AD6,5AD8,5ADC,5AE0,5AE1,5AE3,5AE6,5AE9,5AEB,5AF1,5B09,5B16,5B17,5B32,5B34,5B37,5B40,5B50,5B51,5B53,5B54,5B55,5B57,5B58,5B59,5B5A,5B5B,5B5C,5B5D,5B5F,5B62,5B63,5B64,5B65,5B66,5B69,5B6A,5B6C,5B70,5B71,5B73,5B75,5B7A,5B7D,5B80,5B81,5B83,5B84,5B85,5B87,5B88,5B89,5B8B,5B8C,5B8F,5B93,5B95,5B97,5B98,5B99,5B9A,5B9B,5B9C,5B9D,5B9E,5BA0,5BA1,5BA2,5BA3,5BA4,5BA5,5BA6,5BAA,5BAB,5BB0,5BB3,5BB4,5BB5,5BB6,5BB8,5BB9,5BBD,5BBE,5BBF,5BC2,5BC4,5BC5,5BC6,5BC7,5BCC,5BD0,5BD2,5BD3,5BDD,5BDE,5BDF,5BE1,5BE4,5BE5,5BE8,5BEE,5BF0,5BF8,5BF9,5BFA,5BFB,5BFC,5BFF,5C01,5C04,5C06,5C09,5C0A,5C0F,5C11,5C14,5C15,5C16,5C18,5C1A,5C1C,5C1D,5C22,5C24,5C25,5C27,5C2C,5C31,5C34,5C38,5C39,5C3A,5C3B,5C3C,5C3D,5C3E,5C3F,5C40,5C41,5C42,5C45,5C48,5C49,5C4A,5C4B,5C4E,5C4F,5C50,5C51,5C55,5C59,5C5E,5C60,5C61,5C63,5C65,5C66,5C6E,5C6F,5C71,5C79,5C7A,5C7F,5C81,5C82,5C88,5C8C,5C8D,5C90,5C91,5C94,5C96,5C97,5C98,5C99,5C9A,5C9B,5C9C,5CA2,5CA3,5CA9,5CAB,5CAC,5CAD,5CB1,5CB3,5CB5,5CB7,5CB8,5CBD,5CBF,5CC1,5CC4,5CCB,5CD2,5CD9,5CE1,5CE4,5CE5,5CE6,5CE8,5CEA,5CED,5CF0,5CFB,5D02,5D03,5D06,5D07,5D0E,5D14,5D16,5D1B,5D1E,5D24,5D26,5D27,5D29,5D2D,5D2E,5D34,5D3D,5D3E,5D47,5D4A,5D4B,5D4C,5D58,5D5B,5D5D,5D69,5D6B,5D6C,5D6F,5D74,5D82,5D99,5D9D,5DB7,5DC5,5DCD,5DDB,5DDD,5DDE,5DE1,5DE2,5DE5,5DE6,5DE7,5DE8,5DE9,5DEB,5DEE,5DEF,5DF1,5DF2,5DF3,5DF4,5DF7,5DFD,5DFE,5E01,5E02,5E03,5E05,5E06,5E08,5E0C,5E0F,5E10,5E11,5E14,5E15,5E16,5E18,5E19,5E1A,5E1B,5E1C,5E1D,5E26,5E27,5E2D,5E2E,5E31,5E37,5E38,5E3B,5E3C,5E3D,5E42,5E44,5E45,5E4C,5E54,5E55,5E5B,5E5E,5E61,5E62,5E72,5E73,5E74,5E76,5E78,5E7A,5E7B,5E7C,5E7D,5E7F,5E80,5E84,5E86,5E87,5E8A,5E8B,5E8F,5E90,5E91,5E93,5E94,5E95,5E96,5E97,5E99,5E9A,5E9C,5E9E,5E9F,5EA0,5EA5,5EA6,5EA7,5EAD,5EB3,5EB5,5EB6,5EB7,5EB8,5EB9,5EBE,5EC9,5ECA,5ED1,5ED2,5ED3,5ED6,5EDB,5EE8,5EEA,5EF4,5EF6,5EF7,5EFA,5EFE,5EFF,5F00,5F01,5F02,5F03,5F04,5F08,5F0A,5F0B,5F0F,5F11,5F13,5F15,5F17,5F18,5F1B,5F1F,5F20,5F25,5F26,5F27,5F29,5F2A,5F2D,5F2F,5F31,5F39,5F3A,5F3C,5F40,5F50,5F52,5F53,5F55,5F56,5F57,5F58,5F5D,5F61,5F62,5F64,5F66,5F69,5F6A,5F6C,5F6D,5F70,5F71,5F73,5F77,5F79,5F7B,5F7C,5F80,5F81,5F82,5F84,5F85,5F87,5F88,5F89,5F8A,5F8B,5F8C,5F90,5F92,5F95,5F97,5F98,5F99,5F9C,5FA1,5FA8,5FAA,5FAD,5FAE,5FB5,5FB7,5FBC,5FBD,5FC3,5FC4,5FC5,5FC6,5FC9,5FCC,5FCD,5FCF,5FD0,5FD1,5FD2,5FD6,5FD7,5FD8,5FD9,5FDD,5FE0,5FE1,5FE4,5FE7,5FEA,5FEB,5FED,5FEE,5FF1,5FF5,5FF8,5FFB,5FFD,5FFE,5FFF,6000,6001,6002,6003,6004,6005,6006,600A,600D,600E,600F,6012,6014,6015,6016,6019,601B,601C,601D,6020,6021,6025,6026,6027,6028,6029,602A,602B,602F,6035,603B,603C,603F,6041,6042,6043,604B,604D,6050,6052,6055,6059,605A,605D,6062,6063,6064,6067,6068,6069,606A,606B,606C,606D,606F,6070,6073,6076,6078,6079,607A,607B,607C,607D,607F,6083,6084,6089,608C,608D,6092,6094,6096,609A,609B,609D,609F,60A0,60A3,60A6,60A8,60AB,60AC,60AD,60AF,60B1,60B2,60B4,60B8,60BB,60BC,60C5,60C6,60CA,60CB,60D1,60D5,60D8,60DA,60DC,60DD,60DF,60E0,60E6,60E7,60E8,60E9,60EB,60EC,60ED,60EE,60EF,60F0,60F3,60F4,60F6,60F9,60FA,6100,6101,6106,6108,6109,610D,610E,610F,6115,611A,611F,6120,6123,6124,6126,6127,612B,613F,6148,614A,614C,614E,6151,6155,615D,6162,6167,6168,6170,6175,6177,618B,618E,6194,619D,61A7,61A8,61A9,61AC,61B7,61BE,61C2,61C8,61CA,61CB,61D1,61D2,61D4,61E6,61F5,61FF,6206,6208,620A,620B,620C,620D,620E,620F,6210,6211,6212,6215,6216,6217,6218,621A,621B,621F,6221,6222,6224,6225,622A,622C,622E,6233,6234,6237,623D,623E,623F,6240,6241,6243,6247,6248,6249,624B,624C,624D,624E,6251,6252,6253,6254,6258,625B,6263,6266,6267,6269,626A,626B,626C,626D,626E,626F,6270,6273,6276,6279,627C,627E,627F,6280,6284,6289,628A,6291,6292,6293,6295,6296,6297,6298,629A,629B,629F,62A0,62A1,62A2,62A4,62A5,62A8,62AB,62AC,62B1,62B5,62B9,62BB,62BC,62BD,62BF,62C2,62C4,62C5,62C6,62C7,62C8,62C9,62CA,62CC,62CD,62CE,62D0,62D2,62D3,62D4,62D6,62D7,62D8,62D9,62DA,62DB,62DC,62DF,62E2,62E3,62E5,62E6,62E7,62E8,62E9,62EC,62ED,62EE,62EF,62F1,62F3,62F4,62F6,62F7,62FC,62FD,62FE,62FF,6301,6302,6307,6308,6309,630E,6311,6316,631A,631B,631D,631E,631F,6320,6321,6322,6323,6324,6325,6328,632A,632B,632F,6332,6339,633A,633D,6342,6343,6345,6346,6349,634B,634C,634D,634E,634F,6350,6355,635E,635F,6361,6362,6363,6367,6369,636D,636E,6371,6376,6377,637A,637B,6380,6382,6387,6388,6389,638A,638C,638E,638F,6390,6392,6396,6398,63A0,63A2,63A3,63A5,63A7,63A8,63A9,63AA,63AC,63AD,63AE,63B0,63B3,63B4,63B7,63B8,63BA,63BC,63BE,63C4,63C6,63C9,63CD,63CE,63CF,63D0,63D2,63D6,63DE,63E0,63E1,63E3,63E9,63EA,63ED,63F2,63F4,63F6,63F8,63FD,63FF,6400,6401,6402,6405,640B,640C,640F,6410,6413,6414,641B,641C,641E,6420,6421,6426,642A,642C,642D,6434,643A,643D,643F,6441,6444,6445,6446,6447,6448,644A,6452,6454,6458,645E,6467,6469,646D,6478,6479,647A,6482,6484,6485,6487,6491,6492,6495,6496,6499,649E,64A4,64A9,64AC,64AD,64AE,64B0,64B5,64B7,64B8,64BA,64BC,64C0,64C2,64C5,64CD,64CE,64D0,64D2,64D7,64D8,64DE,64E2,64E4,64E6,6500,6509,6512,6518,6525,652B,652E,652F,6534,6535,6536,6538,6539,653B,653E,653F,6545,6548,6549,654C,654F,6551,6555,6556,6559,655B,655D,655E,6562,6563,6566,656B,656C,6570,6572,6574,6577,6587,658B,658C,6590,6591,6593,6597,6599,659B,659C,659F,65A1,65A4,65A5,65A7,65A9,65AB,65AD,65AF,65B0,65B9,65BC,65BD,65C1,65C3,65C4,65C5,65C6,65CB,65CC,65CE,65CF,65D2,65D6,65D7,65E0,65E2,65E5,65E6,65E7,65E8,65E9,65EC,65ED,65EE,65EF,65F0,65F1,65F6,65F7,65FA,6600,6602,6603,6606,660A,660C,660E,660F,6613,6614,6615,6619,661D,661F,6620,6625,6627,6628,662D,662F,6631,6634,6635,6636,663C,663E,6641,6643,664B,664C,664F,6652,6653,6654,6655,6656,6657,665A,665F,6661,6664,6666,6668,666E,666F,6670,6674,6676,6677,667A,667E,6682,6684,6687,668C,6691,6696,6697,669D,66A7,66A8,66AE,66B4,66B9,66BE,66D9,66DB,66DC,66DD,66E6,66E9,66F0,66F2,66F3,66F4,66F7,66F9,66FC,66FE,66FF,6700,6708,6709,670A,670B,670D,6710,6714,6715,6717,671B,671D,671F,6726,6728,672A,672B,672C,672D,672F,6731,6734,6735,673A,673D,6740,6742,6743,6746,6748,6749,674C,674E,674F,6750,6751,6753,6756,675C,675E,675F,6760,6761,6765,6768,6769,676A,676D,676F,6770,6772,6773,6775,6777,677C,677E,677F,6781,6784,6787,6789,678B,6790,6795,6797,6798,679A,679C,679D,679E,67A2,67A3,67A5,67A7,67A8,67AA,67AB,67AD,67AF,67B0,67B3,67B5,67B6,67B7,67B8,67C1,67C3,67C4,67CF,67D0,67D1,67D2,67D3,67D4,67D8,67D9,67DA,67DC,67DD,67DE,67E0,67E2,67E5,67E9,67EC,67EF,67F0,67F1,67F3,67F4,67FD,67FF,6800,6805,6807,6808,6809,680A,680B,680C,680E,680F,6811,6813,6816,6817,681D,6821,6829,682A,6832,6833,6837,6838,6839,683C,683D,683E,6840,6841,6842,6843,6844,6845,6846,6848,6849,684A,684C,684E,6850,6851,6853,6854,6855,6860,6861,6862,6863,6864,6865,6866,6867,6868,6869,686B,6874,6876,6877,6881,6883,6885,6886,688F,6893,6897,68A2,68A6,68A7,68A8,68AD,68AF,68B0,68B3,68B5,68C0,68C2,68C9,68CB,68CD,68D2,68D5,68D8,68DA,68E0,68E3,68EE,68F0,68F1,68F5,68F9,68FA,68FC,6901,6905,690B,690D,690E,6910,6912,691F,6920,6924,692D,6930,6934,6939,693D,693F,6942,6954,6957,695A,695D,695E,6960,6963,6966,696B,696E,6971,6977,6978,6979,697C,6980,6982,6984,6986,6987,6988,6989,698D,6994,6995,6998,699B,699C,69A7,69A8,69AB,69AD,69B1,69B4,69B7,69BB,69C1,69CA,69CC,69CE,69D0,69D4,69DB,69DF,69E0,69ED,69F2,69FD,69FF,6A0A,6A17,6A18,6A1F,6A21,6A28,6A2A,6A2F,6A31,6A35,6A3D,6A3E,6A44,6A47,6A50,6A58,6A59,6A5B,6A61,6A65,6A71,6A79,6A7C,6A80,6A84,6A8E,6A90,6A91,6A97,6AA0,6AA9,6AAB,6AAC,6B20,6B21,6B22,6B23,6B24,6B27,6B32,6B37,6B39,6B3A,6B3E,6B43,6B46,6B47,6B49,6B4C,6B59,6B62,6B63,6B64,6B65,6B66,6B67,6B6A,6B79,6B7B,6B7C,6B81,6B82,6B83,6B84,6B86,6B87,6B89,6B8A,6B8B,6B8D,6B92,6B93,6B96,6B9A,6B9B,6BA1,6BAA,6BB3,6BB4,6BB5,6BB7,6BBF,6BC1,6BC2,6BC5,6BCB,6BCD,6BCF,6BD2,6BD3,6BD4,6BD5,6BD6,6BD7,6BD9,6BDB,6BE1,6BEA,6BEB,6BEF,6BF3,6BF5,6BF9,6BFD,6C05,6C06,6C07,6C0D,6C0F,6C10,6C11,6C13,6C14,6C15,6C16,6C18,6C19,6C1A,6C1B,6C1F,6C21,6C22,6C24,6C26,6C27,6C28,6C29,6C2A,6C2E,6C2F,6C30,6C32,6C34,6C35,6C38,6C3D,6C40,6C41,6C42,6C46,6C47,6C49,6C4A,6C50,6C54,6C55,6C57,6C5B,6C5C,6C5D,6C5E,6C5F,6C60,6C61,6C64,6C68,6C69,6C6A,6C70,6C72,6C74,6C76,6C79,6C7D,6C7E,6C81,6C82,6C83,6C85,6C86,6C88,6C89,6C8C,6C8F,6C90,6C93,6C94,6C99,6C9B,6C9F,6CA1,6CA3,6CA4,6CA5,6CA6,6CA7,6CA9,6CAA,6CAB,6CAD,6CAE,6CB1,6CB2,6CB3,6CB8,6CB9,6CBB,6CBC,6CBD,6CBE,6CBF,6CC4,6CC5,6CC9,6CCA,6CCC,6CD0,6CD3,6CD4,6CD5,6CD6,6CD7,6CDB,6CDE,6CE0,6CE1,6CE2,6CE3,6CE5,6CE8,6CEA,6CEB,6CEE,6CEF,6CF0,6CF1,6CF3,6CF5,6CF6,6CF7,6CF8,6CFA,6CFB,6CFC,6CFD,6CFE,6D01,6D04,6D07,6D0B,6D0C,6D0E,6D12,6D17,6D19,6D1A,6D1B,6D1E,6D25,6D27,6D2A,6D2B,6D2E,6D31,6D32,6D33,6D35,6D39,6D3B,6D3C,6D3D,6D3E,6D41,6D43,6D45,6D46,6D47,6D48,6D4A,6D4B,6D4D,6D4E,6D4F,6D51,6D52,6D53,6D54,6D59,6D5A,6D5C,6D5E,6D60,6D63,6D66,6D69,6D6A,6D6E,6D6F,6D74,6D77,6D78,6D7C,6D82,6D85,6D88,6D89,6D8C,6D8E,6D91,6D93,6D94,6D95,6D9B,6D9D,6D9E,6D9F,6DA0,6DA1,6DA3,6DA4,6DA6,6DA7,6DA8,6DA9,6DAA,6DAB,6DAE,6DAF,6DB2,6DB5,6DB8,6DBF,6DC0,6DC4,6DC5,6DC6,6DC7,6DCB,6DCC,6DD1,6DD6,6DD8,6DD9,6DDD,6DDE,6DE0,6DE1,6DE4,6DE6,6DEB,6DEC,6DEE,6DF1,6DF3,6DF7,6DF9,6DFB,6DFC,6E05,6E0A,6E0C,6E0D,6E0E,6E10,6E11,6E14,6E16,6E17,6E1A,6E1D,6E20,6E21,6E23,6E24,6E25,6E29,6E2B,6E2D,6E2F,6E32,6E34,6E38,6E3A,6E43,6E44,6E4D,6E4E,6E53,6E54,6E56,6E58,6E5B,6E5F,6E6B,6E6E,6E7E,6E7F,6E83,6E85,6E86,6E89,6E8F,6E90,6E98,6E9C,6E9F,6EA2,6EA5,6EA7,6EAA,6EAF,6EB1,6EB2,6EB4,6EB6,6EB7,6EBA,6EBB,6EBD,6EC1,6EC2,6EC7,6ECB,6ECF,6ED1,6ED3,6ED4,6ED5,6ED7,6EDA,6EDE,6EDF,6EE0,6EE1,6EE2,6EE4,6EE5,6EE6,6EE8,6EE9,6EF4,6EF9,6F02,6F06,6F09,6F0F,6F13,6F14,6F15,6F20,6F24,6F29,6F2A,6F2B,6F2D,6F2F,6F31,6F33,6F36,6F3E,6F46,6F47,6F4B,6F4D,6F58,6F5C,6F5E,6F62,6F66,6F6D,6F6E,6F72,6F74,6F78,6F7A,6F7C,6F84,6F88,6F89,6F8C,6F8D,6F8E,6F9C,6FA1,6FA7,6FB3,6FB6,6FB9,6FC0,6FC2,6FC9,6FD1,6FD2,6FDE,6FE0,6FE1,6FEE,6FEF,7011,701A,701B,7023,7035,7039,704C,704F,705E,706B,706C,706D,706F,7070,7075,7076,7078,707C,707E,707F,7080,7085,7089,708A,708E,7092,7094,7095,7096,7099,709C,709D,70AB,70AC,70AD,70AE,70AF,70B1,70B3,70B7,70B8,70B9,70BB,70BC,70BD,70C0,70C1,70C2,70C3,70C8,70CA,70D8,70D9,70DB,70DF,70E4,70E6,70E7,70E8,70E9,70EB,70EC,70ED,70EF,70F7,70F9,70FD,7109,710A,7110,7113,7115,7116,7118,7119,711A,7126,712F,7130,7131,7136,7145,714A,714C,714E,715C,715E,7164,7166,7167,7168,716E,7172,7173,7178,717A,717D,7184,718A,718F,7194,7198,7199,719F,71A0,71A8,71AC,71B3,71B5,71B9,71C3,71CE,71D4,71D5,71E0,71E5,71E7,71EE,71F9,7206,721D,7228,722A,722C,7230,7231,7235,7236,7237,7238,7239,723B,723D,723F,7247,7248,724C,724D,7252,7256,7259,725B,725D,725F,7261,7262,7266,7267,7269,726E,726F,7272,7275,7279,727A,727E,727F,7280,7281,7284,728A,728B,728D,728F,7292,729F,72AC,72AD,72AF,72B0,72B4,72B6,72B7,72B8,72B9,72C1,72C2,72C3,72C4,72C8,72CD,72CE,72D0,72D2,72D7,72D9,72DE,72E0,72E1,72E8,72E9,72EC,72ED,72EE,72EF,72F0,72F1,72F2,72F3,72F4,72F7,72F8,72FA,72FB,72FC,7301,7303,730A,730E,7313,7315,7316,7317,731B,731C,731D,731E,7321,7322,7325,7329,732A,732B,732C,732E,7331,7334,7337,7338,7339,733E,733F,734D,7350,7352,7357,7360,736C,736D,736F,737E,7384,7387,7389,738B,738E,7391,7396,739B,739F,73A2,73A9,73AB,73AE,73AF,73B0,73B2,73B3,73B7,73BA,73BB,73C0,73C2,73C8,73C9,73CA,73CD,73CF,73D0,73D1,73D9,73DE,73E0,73E5,73E7,73E9,73ED,73F2,7403,7405,7406,7409,740A,740F,7410,741A,741B,7422,7425,7426,7428,742A,742C,742E,7430,7433,7434,7435,7436,743C,7441,7455,7457,7459,745A,745B,745C,745E,745F,746D,7470,7476,7477,747E,7480,7481,7483,7487,748B,748E,7490,749C,749E,74A7,74A8,74A9,74BA,74D2,74DC,74DE,74E0,74E2,74E3,74E4,74E6,74EE,74EF,74F4,74F6,74F7,74FF,7504,750D,750F,7511,7513,7518,7519,751A,751C,751F,7525,7528,7529,752B,752C,752D,752F,7530,7531,7532,7533,7535,7537,7538,753A,753B,753E,7540,7545,7548,754B,754C,754E,754F,7554,7559,755A,755B,755C,7565,7566,756A,7572,7574,7578,7579,757F,7583,7586,758B,758F,7591,7592,7594,7596,7597,7599,759A,759D,759F,75A0,75A1,75A3,75A4,75A5,75AB,75AC,75AE,75AF,75B0,75B1,75B2,75B3,75B4,75B5,75B8,75B9,75BC,75BD,75BE,75C2,75C3,75C4,75C5,75C7,75C8,75C9,75CA,75CD,75D2,75D4,75D5,75D6,75D8,75DB,75DE,75E2,75E3,75E4,75E6,75E7,75E8,75EA,75EB,75F0,75F1,75F4,75F9,75FC,75FF,7600,7601,7603,7605,760A,760C,7610,7615,7617,7618,7619,761B,761F,7620,7622,7624,7625,7626,7629,762A,762B,762D,7630,7633,7634,7635,7638,763C,763E,763F,7640,7643,764C,764D,7654,7656,765C,765E,7663,766B,766F,7678,767B,767D,767E,7682,7684,7686,7687,7688,768B,768E,7691,7693,7696,7699,76A4,76AE,76B1,76B2,76B4,76BF,76C2,76C5,76C6,76C8,76CA,76CD,76CE,76CF,76D0,76D1,76D2,76D4,76D6,76D7,76D8,76DB,76DF,76E5,76EE,76EF,76F1,76F2,76F4,76F8,76F9,76FC,76FE,7701,7704,7707,7708,7709,770B,770D,7719,771A,771F,7720,7722,7726,7728,7729,772D,772F,7735,7736,7737,7738,773A,773C,7740,7741,7743,7747,7750,7751,775A,775B,7761,7762,7763,7765,7766,7768,776B,776C,7779,777D,777E,777F,7780,7784,7785,778C,778D,778E,7791,7792,779F,77A0,77A2,77A5,77A7,77A9,77AA,77AC,77B0,77B3,77B5,77BB,77BD,77BF,77CD,77D7,77DB,77DC,77E2,77E3,77E5,77E7,77E9,77EB,77EC,77ED,77EE,77F3,77F6,77F8,77FD,77FE,77FF,7800,7801,7802,7809,780C,780D,7811,7812,7814,7816,7817,7818,781A,781C,781D,781F,7823,7825,7826,7827,7829,782C,782D,7830,7834,7837,7838,7839,783A,783B,783C,783E,7840,7845,7847,784C,784E,7850,7852,7855,7856,7857,785D,786A,786B,786C,786D,786E,7877,787C,7887,7889,788C,788D,788E,7891,7893,7897,7898,789A,789B,789C,789F,78A1,78A3,78A5,78A7,78B0,78B1,78B2,78B3,78B4,78B9,78BE,78C1,78C5,78C9,78CA,78CB,78D0,78D4,78D5,78D9,78E8,78EC,78F2,78F4,78F7,78FA,7901,7905,7913,791E,7924,7934,793A,793B,793C,793E,7940,7941,7946,7948,7949,7953,7956,7957,795A,795B,795C,795D,795E,795F,7960,7962,7965,7967,7968,796D,796F,7977,7978,797A,7980,7981,7984,7985,798A,798F,799A,79A7,79B3,79B9,79BA,79BB,79BD,79BE,79C0,79C1,79C3,79C6,79C9,79CB,79CD,79D1,79D2,79D5,79D8,79DF,79E3,79E4,79E6,79E7,79E9,79EB,79ED,79EF,79F0,79F8,79FB,79FD,7A00,7A02,7A03,7A06,7A0B,7A0D,7A0E,7A14,7A17,7A1A,7A1E,7A20,7A23,7A33,7A37,7A39,7A3B,7A3C,7A3D,7A3F,7A46,7A51,7A57,7A70,7A74,7A76,7A77,7A78,7A79,7A7A,7A7F,7A80,7A81,7A83,7A84,7A86,7A88,7A8D,7A91,7A92,7A95,7A96,7A97,7A98,7A9C,7A9D,7A9F,7AA0,7AA5,7AA6,7AA8,7AAC,7AAD,7AB3,7ABF,7ACB,7AD6,7AD9,7ADE,7ADF,7AE0,7AE3,7AE5,7AE6,7AED,7AEF,7AF9,7AFA,7AFD,7AFF,7B03,7B04,7B06,7B08,7B0A,7B0B,7B0F,7B11,7B14,7B15,7B19,7B1B,7B1E,7B20,7B24,7B25,7B26,7B28,7B2A,7B2B,7B2C,7B2E,7B31,7B33,7B38,7B3A,7B3C,7B3E,7B45,7B47,7B49,7B4B,7B4C,7B4F,7B50,7B51,7B52,7B54,7B56,7B58,7B5A,7B5B,7B5D,7B60,7B62,7B6E,7B71,7B72,7B75,7B77,7B79,7B7B,7B7E,7B80,7B85,7B8D,7B90,7B94,7B95,7B97,7B9C,7B9D,7BA1,7BA2,7BA6,7BA7,7BA8,7BA9,7BAA,7BAB,7BAC,7BAD,7BB1,7BB4,7BB8,7BC1,7BC6,7BC7,7BCC,7BD1,7BD3,7BD9,7BDA,7BDD,7BE1,7BE5,7BE6,7BEA,7BEE,7BF1,7BF7,7BFC,7BFE,7C07,7C0B,7C0C,7C0F,7C16,7C1F,7C26,7C27,7C2A,7C38,7C3F,7C40,7C41,7C4D,7C73,7C74,7C7B,7C7C,7C7D,7C89,7C91,7C92,7C95,7C97,7C98,7C9C,7C9D,7C9E,7C9F,7CA2,7CA4,7CA5,7CAA,7CAE,7CB1,7CB2,7CB3,7CB9,7CBC,7CBD,7CBE,7CC1,7CC5,7CC7,7CC8,7CCA,7CCC,7CCD,7CD5,7CD6,7CD7,7CD9,7CDC,7CDF,7CE0,7CE8,7CEF,7CF8,7CFB,7D0A,7D20,7D22,7D27,7D2B,7D2F,7D6E,7D77,7DA6,7DAE,7E3B,7E41,7E47,7E82,7E9B,7E9F,7EA0,7EA1,7EA2,7EA3,7EA4,7EA5,7EA6,7EA7,7EA8,7EA9,7EAA,7EAB,7EAC,7EAD,7EAF,7EB0,7EB1,7EB2,7EB3,7EB5,7EB6,7EB7,7EB8,7EB9,7EBA,7EBD,7EBE,7EBF,7EC0,7EC1,7EC2,7EC3,7EC4,7EC5,7EC6,7EC7,7EC8,7EC9,7ECA,7ECB,7ECC,7ECD,7ECE,7ECF,7ED0,7ED1,7ED2,7ED3,7ED4,7ED5,7ED7,7ED8,7ED9,7EDA,7EDB,7EDC,7EDD,7EDE,7EDF,7EE0,7EE1,7EE2,7EE3,7EE5,7EE6,7EE7,7EE8,7EE9,7EEA,7EEB,7EED,7EEE,7EEF,7EF0,7EF1,7EF2,7EF3,7EF4,7EF5,7EF6,7EF7,7EF8,7EFA,7EFB,7EFC,7EFD,7EFE,7EFF,7F00,7F01,7F02,7F03,7F04,7F05,7F06,7F07,7F08,7F09,7F0B,7F0C,7F0D,7F0E,7F0F,7F11,7F12,7F13,7F14,7F15,7F16,7F17,7F18,7F19,7F1A,7F1B,7F1C,7F1D,7F1F,7F20,7F21,7F22,7F23,7F24,7F25,7F26,7F27,7F28,7F29,7F2A,7F2B,7F2C,7F2D,7F2E,7F2F,7F30,7F31,7F32,7F33,7F34,7F35,7F36,7F38,7F3A,7F42,7F44,7F45,7F50,7F51,7F54,7F55,7F57,7F58,7F5A,7F5F,7F61,7F62,7F68,7F69,7F6A,7F6E,7F71,7F72,7F74,7F79,7F7E,7F81,7F8A,7F8C,7F8E,7F94,7F9A,7F9D,7F9E,7F9F,7FA1,7FA4,7FA7,7FAF,7FB0,7FB2,7FB8,7FB9,7FBC,7FBD,7FBF,7FC1,7FC5,7FCA,7FCC,7FCE,7FD4,7FD5,7FD8,7FDF,7FE0,7FE1,7FE5,7FE6,7FE9,7FEE,7FF0,7FF1,7FF3,7FFB,7FFC,8000,8001,8003,8004,8005,8006,800B,800C,800D,8010,8012,8014,8015,8016,8017,8018,8019,801C,8020,8022,8025,8026,8027,8028,8029,802A,8031,8033,8035,8036,8037,8038,803B,803D,803F,8042,8043,8046,804A,804B,804C,804D,8052,8054,8058,805A,8069,806A,8071,807F,8080,8083,8084,8086,8087,8089,808B,808C,8093,8096,8098,809A,809B,809C,809D,809F,80A0,80A1,80A2,80A4,80A5,80A9,80AA,80AB,80AD,80AE,80AF,80B1,80B2,80B4,80B7,80BA,80BC,80BD,80BE,80BF,80C0,80C1,80C2,80C3,80C4,80C6,80CC,80CD,80CE,80D6,80D7,80D9,80DA,80DB,80DC,80DD,80DE,80E1,80E4,80E5,80E7,80E8,80E9,80EA,80EB,80EC,80ED,80EF,80F0,80F1,80F2,80F3,80F4,80F6,80F8,80FA,80FC,80FD,8102,8106,8109,810A,810D,810E,810F,8110,8111,8112,8113,8114,8116,8118,811A,811E,812C,812F,8131,8132,8136,8138,813E,8146,8148,814A,814B,814C,8150,8151,8153,8154,8155,8159,815A,8160,8165,8167,8169,816D,816E,8170,8171,8174,8179,817A,817B,817C,817D,817E,817F,8180,8182,8188,818A,818F,8191,8198,819B,819C,819D,81A3,81A6,81A8,81AA,81B3,81BA,81BB,81C0,81C1,81C2,81C3,81C6,81CA,81CC,81E3,81E7,81EA,81EC,81ED,81F3,81F4,81FB,81FC,81FE,8200,8201,8202,8204,8205,8206,820C,820D,8210,8212,8214,821B,821C,821E,821F,8221,8222,8223,8228,822A,822B,822C,822D,822F,8230,8231,8233,8234,8235,8236,8237,8238,8239,823B,823E,8244,8247,8249,824B,824F,8258,825A,825F,8268,826E,826F,8270,8272,8273,8274,8279,827A,827D,827E,827F,8282,8284,8288,828A,828B,828D,828E,828F,8291,8292,8297,8298,8299,829C,829D,829F,82A1,82A4,82A5,82A6,82A8,82A9,82AA,82AB,82AC,82AD,82AE,82AF,82B0,82B1,82B3,82B4,82B7,82B8,82B9,82BD,82BE,82C1,82C4,82C7,82C8,82CA,82CB,82CC,82CD,82CE,82CF,82D1,82D2,82D3,82D4,82D5,82D7,82D8,82DB,82DC,82DE,82DF,82E0,82E1,82E3,82E4,82E5,82E6,82EB,82EF,82F1,82F4,82F7,82F9,82FB,8301,8302,8303,8304,8305,8306,8307,8308,8309,830C,830E,830F,8311,8314,8315,8317,831A,831B,831C,8327,8328,832B,832C,832D,832F,8331,8333,8334,8335,8336,8338,8339,833A,833C,8340,8343,8346,8347,8349,834F,8350,8351,8352,8354,835A,835B,835C,835E,835F,8360,8361,8363,8364,8365,8366,8367,8368,8369,836A,836B,836C,836D,836E,836F,8377,8378,837B,837C,837D,8385,8386,8389,838E,8392,8393,8398,839B,839C,839E,83A0,83A8,83A9,83AA,83AB,83B0,83B1,83B2,83B3,83B4,83B6,83B7,83B8,83B9,83BA,83BC,83BD,83C0,83C1,83C5,83C7,83CA,83CC,83CF,83D4,83D6,83D8,83DC,83DD,83DF,83E0,83E1,83E5,83E9,83EA,83F0,83F1,83F2,83F8,83F9,83FD,8401,8403,8404,8406,840B,840C,840D,840E,840F,8411,8418,841C,841D,8424,8425,8426,8427,8428,8431,8438,843C,843D,8446,8451,8457,8459,845A,845B,845C,8461,8463,8469,846B,846C,846D,8471,8473,8475,8476,8478,847A,8482,8487,8488,8489,848B,848C,848E,8497,8499,849C,84A1,84AF,84B2,84B4,84B8,84B9,84BA,84BD,84BF,84C1,84C4,84C9,84CA,84CD,84D0,84D1,84D3,84D6,84DD,84DF,84E0,84E3,84E5,84E6,84EC,84F0,84FC,84FF,850C,8511,8513,8517,851A,851F,8521,852B,852C,8537,8538,8539,853A,853B,853C,853D,8543,8548,8549,854A,8556,8559,855E,8564,8568,8572,8574,8579,857A,857B,857E,8584,8585,8587,858F,859B,859C,85A4,85A8,85AA,85AE,85AF,85B0,85B7,85B9,85C1,85C9,85CF,85D0,85D3,85D5,85DC,85E4,85E9,85FB,85FF,8605,8611,8616,8627,8629,8638,863C,864D,864E,864F,8650,8651,8654,865A,865E,8662,866B,866C,866E,8671,8679,867A,867B,867C,867D,867E,867F,8680,8681,8682,868A,868B,868C,868D,8693,8695,869C,869D,86A3,86A4,86A7,86A8,86A9,86AA,86AC,86AF,86B0,86B1,86B4,86B5,86B6,86BA,86C0,86C4,86C6,86C7,86C9,86CA,86CB,86CE,86CF,86D0,86D1,86D4,86D8,86D9,86DB,86DE,86DF,86E4,86E9,86ED,86EE,86F0,86F1,86F2,86F3,86F4,86F8,86F9,86FE,8700,8702,8703,8707,8708,8709,870A,870D,8712,8713,8715,8717,8718,871A,871C,871E,8721,8722,8723,8725,8729,872E,8731,8734,8737,873B,873E,873F,8747,8748,8749,874C,874E,8753,8757,8759,8760,8763,8764,8765,876E,8770,8774,8776,877B,877C,877D,877E,8782,8783,8785,8788,878B,878D,8793,8797,879F,87A8,87AB,87AC,87AD,87AF,87B3,87B5,87BA,87BD,87C0,87C6,87CA,87CB,87D1,87D2,87D3,87DB,87E0,87E5,87EA,87EE,87F9,87FE,8803,880A,8813,8815,8816,881B,8821,8822,8832,8839,883C,8840,8844,8845,884C,884D,8854,8857,8859,8861,8862,8863,8864,8865,8868,8869,886B,886C,886E,8870,8872,8877,887D,887E,887F,8881,8882,8884,8885,8888,888B,888D,8892,8896,889C,88A2,88A4,88AB,88AD,88B1,88B7,88BC,88C1,88C2,88C5,88C6,88C9,88CE,88D2,88D4,88D5,88D8,88D9,88DF,88E2,88E3,88E4,88E5,88E8,88F0,88F1,88F3,88F4,88F8,88F9,88FC,88FE,8902,890A,8910,8912,8913,8919,891A,891B,8921,8925,892A,892B,8930,8934,8936,8941,8944,895E,895F,8966,897B,897F,8981,8983,8986,89C1,89C2,89C4,89C5,89C6,89C7,89C8,89C9,89CA,89CB,89CC,89CE,89CF,89D0,89D1,89D2,89D6,89DA,89DC,89DE,89E3,89E5,89E6,89EB,89EF,89F3,8A00,8A07,8A3E,8A48,8A79,8A89,8A8A,8A93,8B07,8B26,8B66,8B6C,8BA0,8BA1,8BA2,8BA3,8BA4,8BA5,8BA6,8BA7,8BA8,8BA9,8BAA,8BAB,8BAD,8BAE,8BAF,8BB0,8BB2,8BB3,8BB4,8BB5,8BB6,8BB7,8BB8,8BB9,8BBA,8BBC,8BBD,8BBE,8BBF,8BC0,8BC1,8BC2,8BC3,8BC4,8BC5,8BC6,8BC8,8BC9,8BCA,8BCB,8BCC,8BCD,8BCE,8BCF,8BD1,8BD2,8BD3,8BD4,8BD5,8BD6,8BD7,8BD8,8BD9,8BDA,8BDB,8BDC,8BDD,8BDE,8BDF,8BE0,8BE1,8BE2,8BE3,8BE4,8BE5,8BE6,8BE7,8BE8,8BE9,8BEB,8BEC,8BED,8BEE,8BEF,8BF0,8BF1,8BF2,8BF3,8BF4,8BF5,8BF6,8BF7,8BF8,8BF9,8BFA,8BFB,8BFC,8BFD,8BFE,8BFF,8C00,8C01,8C02,8C03,8C04,8C05,8C06,8C07,8C08,8C0A,8C0B,8C0C,8C0D,8C0E,8C0F,8C10,8C11,8C12,8C13,8C14,8C15,8C16,8C17,8C18,8C19,8C1A,8C1B,8C1C,8C1D,8C1F,8C20,8C21,8C22,8C23,8C24,8C25,8C26,8C27,8C28,8C29,8C2A,8C2B,8C2C,8C2D,8C2E,8C2F,8C30,8C31,8C32,8C33,8C34,8C35,8C36,8C37,8C41,8C46,8C47,8C49,8C4C,8C55,8C5A,8C61,8C62,8C6A,8C6B,8C73,8C78,8C79,8C7A,8C82,8C85,8C89,8C8A,8C8C,8C94,8C98,8D1D,8D1E,8D1F,8D21,8D22,8D23,8D24,8D25,8D26,8D27,8D28,8D29,8D2A,8D2B,8D2C,8D2D,8D2E,8D2F,8D30,8D31,8D32,8D33,8D34,8D35,8D36,8D37,8D38,8D39,8D3A,8D3B,8D3C,8D3D,8D3E,8D3F,8D40,8D41,8D42,8D43,8D44,8D45,8D46,8D47,8D48,8D49,8D4A,8D4B,8D4C,8D4D,8D4E,8D4F,8D50,8D53,8D54,8D55,8D56,8D58,8D59,8D5A,8D5B,8D5C,8D5D,8D5E,8D60,8D61,8D62,8D63,8D64,8D66,8D67,8D6B,8D6D,8D70,8D73,8D74,8D75,8D76,8D77,8D81,8D84,8D85,8D8A,8D8B,8D91,8D94,8D9F,8DA3,8DB1,8DB3,8DB4,8DB5,8DB8,8DBA,8DBC,8DBE,8DBF,8DC3,8DC4,8DC6,8DCB,8DCC,8DCE,8DCF,8DD1,8DD6,8DD7,8DDA,8DDB,8DDD,8DDE,8DDF,8DE3,8DE4,8DE8,8DEA,8DEB,8DEC,8DEF,8DF3,8DF5,8DF7,8DF8,8DF9,8DFA,8DFB,8DFD,8E05,8E09,8E0A,8E0C,8E0F,8E14,8E1D,8E1E,8E1F,8E22,8E23,8E29,8E2A,8E2C,8E2E,8E2F,8E31,8E35,8E39,8E3A,8E3D,8E40,8E41,8E42,8E44,8E47,8E48,8E49,8E4A,8E4B,8E51,8E52,8E59,8E66,8E69,8E6C,8E6D,8E6F,8E70,8E72,8E74,8E76,8E7C,8E7F,8E81,8E85,8E87,8E8F,8E90,8E94,8E9C,8E9E,8EAB,8EAC,8EAF,8EB2,8EBA,8ECE,8F66,8F67,8F68,8F69,8F6B,8F6C,8F6D,8F6E,8F6F,8F70,8F71,8F72,8F73,8F74,8F75,8F76,8F77,8F78,8F79,8F7A,8F7B,8F7C,8F7D,8F7E,8F7F,8F81,8F82,8F83,8F84,8F85,8F86,8F87,8F88,8F89,8F8A,8F8B,8F8D,8F8E,8F8F,8F90,8F91,8F93,8F94,8F95,8F96,8F97,8F98,8F99,8F9A,8F9B,8F9C,8F9E,8F9F,8FA3,8FA8,8FA9,8FAB,8FB0,8FB1,8FB6,8FB9,8FBD,8FBE,8FC1,8FC2,8FC4,8FC5,8FC7,8FC8,8FCE,8FD0,8FD1,8FD3,8FD4,8FD5,8FD8,8FD9,8FDB,8FDC,8FDD,8FDE,8FDF,8FE2,8FE4,8FE5,8FE6,8FE8,8FE9,8FEA,8FEB,8FED,8FEE,8FF0,8FF3,8FF7,8FF8,8FF9,8FFD,9000,9001,9002,9003,9004,9005,9006,9009,900A,900B,900D,900F,9010,9011,9012,9014,9016,9017,901A,901B,901D,901E,901F,9020,9021,9022,9026,902D,902E,902F,9035,9036,9038,903B,903C,903E,9041,9042,9044,9047,904D,904F,9050,9051,9052,9053,9057,9058,905B,9062,9063,9065,9068,906D,906E,9074,9075,907D,907F,9080,9082,9083,9088,908B,9091,9093,9095,9097,9099,909B,909D,90A1,90A2,90A3,90A6,90AA,90AC,90AE,90AF,90B0,90B1,90B3,90B4,90B5,90B6,90B8,90B9,90BA,90BB,90BE,90C1,90C4,90C5,90C7,90CA,90CE,90CF,90D0,90D1,90D3,90D7,90DB,90DC,90DD,90E1,90E2,90E6,90E7,90E8,90EB,90ED,90EF,90F4,90F8,90FD,90FE,9102,9104,9119,911E,9122,9123,912F,9131,9139,9143,9146,9149,914A,914B,914C,914D,914E,914F,9150,9152,9157,915A,915D,915E,9161,9162,9163,9164,9165,9169,916A,916C,916E,916F,9170,9171,9172,9174,9175,9176,9177,9178,9179,917D,917E,917F,9185,9187,9189,918B,918C,918D,9190,9191,9192,919A,919B,91A2,91A3,91AA,91AD,91AE,91AF,91B4,91B5,91BA,91C7,91C9,91CA,91CC,91CD,91CE,91CF,91D1,91DC,9274,928E,92AE,92C8,933E,936A,938F,93CA,93D6,943E,946B,9485,9486,9487,9488,9489,948A,948B,948C,948D,948E,948F,9490,9492,9493,9494,9495,9497,9499,949A,949B,949C,949D,949E,949F,94A0,94A1,94A2,94A3,94A4,94A5,94A6,94A7,94A8,94A9,94AA,94AB,94AC,94AD,94AE,94AF,94B0,94B1,94B2,94B3,94B4,94B5,94B6,94B7,94B8,94B9,94BA,94BB,94BC,94BD,94BE,94BF,94C0,94C1,94C2,94C3,94C4,94C5,94C6,94C8,94C9,94CA,94CB,94CC,94CD,94CE,94D0,94D1,94D2,94D5,94D6,94D7,94D8,94D9,94DB,94DC,94DD,94DE,94DF,94E0,94E1,94E2,94E3,94E4,94E5,94E7,94E8,94E9,94EA,94EB,94EC,94ED,94EE,94EF,94F0,94F1,94F2,94F3,94F4,94F5,94F6,94F7,94F8,94F9,94FA,94FC,94FD,94FE,94FF,9500,9501,9502,9503,9504,9505,9506,9507,9508,9509,950A,950B,950C,950D,950E,950F,9510,9511,9512,9513,9514,9515,9516,9517,9518,9519,951A,951B,951D,951E,951F,9521,9522,9523,9524,9525,9526,9528,9529,952A,952B,952C,952D,952E,952F,9530,9531,9532,9534,9535,9536,9537,9538,9539,953A,953B,953C,953E,953F,9540,9541,9542,9544,9545,9546,9547,9549,954A,954C,954D,954E,954F,9550,9551,9552,9553,9554,9556,9557,9558,9559,955B,955C,955D,955E,955F,9561,9562,9563,9564,9565,9566,9567,9568,9569,956A,956B,956C,956D,956F,9570,9571,9572,9573,9576,957F,95E8,95E9,95EA,95EB,95ED,95EE,95EF,95F0,95F1,95F2,95F3,95F4,95F5,95F6,95F7,95F8,95F9,95FA,95FB,95FC,95FD,95FE,9600,9601,9602,9603,9604,9605,9606,9608,9609,960A,960B,960C,960D,960E,960F,9610,9611,9612,9614,9615,9616,9617,9619,961A,961C,961D,961F,9621,9622,962A,962E,9631,9632,9633,9634,9635,9636,963B,963C,963D,963F,9640,9642,9644,9645,9646,9647,9648,9649,964B,964C,964D,9650,9654,9655,965B,965F,9661,9662,9664,9667,9668,9669,966A,966C,9672,9674,9675,9676,9677,9685,9686,9688,968B,968D,968F,9690,9694,9697,9698,9699,969C,96A7,96B0,96B3,96B6,96B9,96BC,96BD,96BE,96C0,96C1,96C4,96C5,96C6,96C7,96C9,96CC,96CD,96CE,96CF,96D2,96D5,96E0,96E8,96E9,96EA,96EF,96F3,96F6,96F7,96F9,96FE,9700,9701,9704,9706,9707,9708,9709,970D,970E,970F,9713,9716,971C,971E,972A,972D,9730,9732,9738,9739,973E,9752,9753,9756,9759,975B,975E,9760,9761,9762,9765,9769,9773,9774,9776,977C,9785,978B,978D,9791,9792,9794,9798,97A0,97A3,97AB,97AD,97AF,97B2,97B4,97E6,97E7,97E9,97EA,97EB,97EC,97ED,97F3,97F5,97F6,9875,9876,9877,9878,9879,987A,987B,987C,987D,987E,987F,9880,9881,9882,9883,9884,9885,9886,9887,9888,9889,988A,988C,988D,988F,9890,9891,9893,9894,9896,9897,9898,989A,989B,989C,989D,989E,989F,98A0,98A1,98A2,98A4,98A5,98A6,98A7,98CE,98D1,98D2,98D3,98D5,98D8,98D9,98DA,98DE,98DF,98E7,98E8,990D,9910,992E,9954,9955,9963,9965,9967,9968,9969,996A,996B,996C,996D,996E,996F,9970,9971,9972,9974,9975,9976,9977,997A,997C,997D,997F,9980,9981,9984,9985,9986,9987,9988,998A,998B,998D,998F,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,99A5,99A8,9A6C,9A6D,9A6E,9A6F,9A70,9A71,9A73,9A74,9A75,9A76,9A77,9A78,9A79,9A7A,9A7B,9A7C,9A7D,9A7E,9A7F,9A80,9A81,9A82,9A84,9A85,9A86,9A87,9A88,9A8A,9A8B,9A8C,9A8F,9A90,9A91,9A92,9A93,9A96,9A97,9A98,9A9A,9A9B,9A9C,9A9D,9A9E,9A9F,9AA0,9AA1,9AA2,9AA3,9AA4,9AA5,9AA7,9AA8,9AB0,9AB1,9AB6,9AB7,9AB8,9ABA,9ABC,9AC0,9AC1,9AC2,9AC5,9ACB,9ACC,9AD1,9AD3,9AD8,9ADF,9AE1,9AE6,9AEB,9AED,9AEF,9AF9,9AFB,9B03,9B08,9B0F,9B13,9B1F,9B23,9B2F,9B32,9B3B,9B3C,9B41,9B42,9B43,9B44,9B45,9B47,9B48,9B49,9B4D,9B4F,9B51,9B54,9C7C,9C7F,9C81,9C82,9C85,9C86,9C87,9C88,9C8B,9C8D,9C8E,9C90,9C91,9C92,9C94,9C95,9C9A,9C9B,9C9C,9C9E,9C9F,9CA0,9CA1,9CA2,9CA3,9CA4,9CA5,9CA6,9CA7,9CA8,9CA9,9CAB,9CAD,9CAE,9CB0,9CB1,9CB2,9CB3,9CB4,9CB5,9CB6,9CB7,9CB8,9CBA,9CBB,9CBC,9CBD,9CC3,9CC4,9CC5,9CC6,9CC7,9CCA,9CCB,9CCC,9CCD,9CCE,9CCF,9CD0,9CD3,9CD4,9CD5,9CD6,9CD7,9CD8,9CD9,9CDC,9CDD,9CDE,9CDF,9CE2,9E1F,9E20,9E21,9E22,9E23,9E25,9E26,9E28,9E29,9E2A,9E2B,9E2C,9E2D,9E2F,9E31,9E32,9E33,9E35,9E36,9E37,9E38,9E39,9E3A,9E3D,9E3E,9E3F,9E41,9E42,9E43,9E44,9E45,9E46,9E47,9E48,9E49,9E4A,9E4B,9E4C,9E4E,9E4F,9E51,9E55,9E57,9E58,9E5A,9E5B,9E5C,9E5E,9E63,9E64,9E66,9E67,9E68,9E69,9E6A,9E6B,9E6C,9E6D,9E70,9E71,9E73,9E7E,9E7F,9E82,9E87,9E88,9E8B,9E92,9E93,9E9D,9E9F,9EA6,9EB4,9EB8,9EBB,9EBD,9EBE,9EC4,9EC9,9ECD,9ECE,9ECF,9ED1,9ED4,9ED8,9EDB,9EDC,9EDD,9EDF,9EE0,9EE2,9EE5,9EE7,9EE9,9EEA,9EEF,9EF9,9EFB,9EFC,9EFE,9F0B,9F0D,9F0E,9F10,9F13,9F17,9F19,9F20,9F22,9F2C,9F2F,9F37,9F39,9F3B,9F3D,9F3E,9F44,9F50,9F51,9F7F,9F80,9F83,9F84,9F85,9F86,9F87,9F88,9F89,9F8A,9F8B,9F8C,9F99,9F9A,9F9B,9F9F,9FA0,FF01,FF02,FF03,FF04,FF05,FF06,FF07,FF08,FF09,FF0A,FF0B,FF0C,FF0D,FF0E,FF0F,FF10,FF11,FF12,FF13,FF14,FF15,FF16,FF17,FF18,FF19,FF1A,FF1B,FF1C,FF1D,FF1E,FF1F,FF20,FF21,FF22,FF23,FF24,FF25,FF26,FF27,FF28,FF29,FF2A,FF2B,FF2C,FF2D,FF2E,FF2F,FF30,FF31,FF32,FF33,FF34,FF35,FF36,FF37,FF38,FF39,FF3A,FF3B,FF3C,FF3D,FF3E,FF3F,FF40,FF41,FF42,FF43,FF44,FF45,FF46,FF47,FF48,FF49,FF4A,FF4B,FF4C,FF4D,FF4E,FF4F,FF50,FF51,FF52,FF53,FF54,FF55,FF56,FF57,FF58,FF59,FF5A,FF5B,FF5C,FF5D,FF5E,FFE0,FFE1,FFE3,FFE5"},_ansicode:function(){return"A1E8,A1EC,A1A7,A1E3,A1C0,A1A4,A1C1,A8A4,A8A2,A8A8,A8A6,A8BA,A8AC,A8AA,A8B0,A8AE,A1C2,A8B4,A8B2,A8B9,A8A1,A8A5,A8A7,A8A9,A8AD,A8B1,A8A3,A8AB,A8AF,A8B3,A8B5,A8B6,A8B7,A8B8,A1A6,A1A5,A6A1,A6A2,A6A3,A6A4,A6A5,A6A6,A6A7,A6A8,A6A9,A6AA,A6AB,A6AC,A6AD,A6AE,A6AF,A6B0,A6B1,A6B2,A6B3,A6B4,A6B5,A6B6,A6B7,A6B8,A6C1,A6C2,A6C3,A6C4,A6C5,A6C6,A6C7,A6C8,A6C9,A6CA,A6CB,A6CC,A6CD,A6CE,A6CF,A6D0,A6D1,A6D2,A6D3,A6D4,A6D5,A6D6,A6D7,A6D8,A7A7,A7A1,A7A2,A7A3,A7A4,A7A5,A7A6,A7A8,A7A9,A7AA,A7AB,A7AC,A7AD,A7AE,A7AF,A7B0,A7B1,A7B2,A7B3,A7B4,A7B5,A7B6,A7B7,A7B8,A7B9,A7BA,A7BB,A7BC,A7BD,A7BE,A7BF,A7C0,A7C1,A7D1,A7D2,A7D3,A7D4,A7D5,A7D6,A7D8,A7D9,A7DA,A7DB,A7DC,A7DD,A7DE,A7DF,A7E0,A7E1,A7E2,A7E3,A7E4,A7E5,A7E6,A7E7,A7E8,A7E9,A7EA,A7EB,A7EC,A7ED,A7EE,A7EF,A7F0,A7F1,A7D7,A1AA,A1AC,A1AE,A1AF,A1B0,A1B1,A1AD,A1EB,A1E4,A1E5,A1F9,A1E6,A1ED,A2F1,A2F2,A2F3,A2F4,A2F5,A2F6,A2F7,A2F8,A2F9,A2FA,A2FB,A2FC,A1FB,A1FC,A1FA,A1FD,A1CA,A1C7,A1C6,A1CC,A1D8,A1DE,A1CF,A1CE,A1C4,A1C5,A1C9,A1C8,A1D2,A1D3,A1E0,A1DF,A1C3,A1CB,A1D7,A1D6,A1D5,A1D9,A1D4,A1DC,A1DD,A1DA,A1DB,A1D1,A1CD,A1D0,A2D9,A2DA,A2DB,A2DC,A2DD,A2DE,A2DF,A2E0,A2E1,A2E2,A2C5,A2C6,A2C7,A2C8,A2C9,A2CA,A2CB,A2CC,A2CD,A2CE,A2CF,A2D0,A2D1,A2D2,A2D3,A2D4,A2D5,A2D6,A2D7,A2D8,A2B1,A2B2,A2B3,A2B4,A2B5,A2B6,A2B7,A2B8,A2B9,A2BA,A2BB,A2BC,A2BD,A2BE,A2BF,A2C0,A2C1,A2C2,A2C3,A2C4,A9A4,A9A5,A9A6,A9A7,A9A8,A9A9,A9AA,A9AB,A9AC,A9AD,A9AE,A9AF,A9B0,A9B1,A9B2,A9B3,A9B4,A9B5,A9B6,A9B7,A9B8,A9B9,A9BA,A9BB,A9BC,A9BD,A9BE,A9BF,A9C0,A9C1,A9C2,A9C3,A9C4,A9C5,A9C6,A9C7,A9C8,A9C9,A9CA,A9CB,A9CC,A9CD,A9CE,A9CF,A9D0,A9D1,A9D2,A9D3,A9D4,A9D5,A9D6,A9D7,A9D8,A9D9,A9DA,A9DB,A9DC,A9DD,A9DE,A9DF,A9E0,A9E1,A9E2,A9E3,A9E4,A9E5,A9E6,A9E7,A9E8,A9E9,A9EA,A9EB,A9EC,A9ED,A9EE,A9EF,A1F6,A1F5,A1F8,A1F7,A1F4,A1F3,A1F0,A1F2,A1F1,A1EF,A1EE,A1E2,A1E1,A1A1,A1A2,A1A3,A1A8,A1A9,A1B4,A1B5,A1B6,A1B7,A1B8,A1B9,A1BA,A1BB,A1BE,A1BF,A1FE,A1B2,A1B3,A1BC,A1BD,A4A1,A4A2,A4A3,A4A4,A4A5,A4A6,A4A7,A4A8,A4A9,A4AA,A4AB,A4AC,A4AD,A4AE,A4AF,A4B0,A4B1,A4B2,A4B3,A4B4,A4B5,A4B6,A4B7,A4B8,A4B9,A4BA,A4BB,A4BC,A4BD,A4BE,A4BF,A4C0,A4C1,A4C2,A4C3,A4C4,A4C5,A4C6,A4C7,A4C8,A4C9,A4CA,A4CB,A4CC,A4CD,A4CE,A4CF,A4D0,A4D1,A4D2,A4D3,A4D4,A4D5,A4D6,A4D7,A4D8,A4D9,A4DA,A4DB,A4DC,A4DD,A4DE,A4DF,A4E0,A4E1,A4E2,A4E3,A4E4,A4E5,A4E6,A4E7,A4E8,A4E9,A4EA,A4EB,A4EC,A4ED,A4EE,A4EF,A4F0,A4F1,A4F2,A4F3,A5A1,A5A2,A5A3,A5A4,A5A5,A5A6,A5A7,A5A8,A5A9,A5AA,A5AB,A5AC,A5AD,A5AE,A5AF,A5B0,A5B1,A5B2,A5B3,A5B4,A5B5,A5B6,A5B7,A5B8,A5B9,A5BA,A5BB,A5BC,A5BD,A5BE,A5BF,A5C0,A5C1,A5C2,A5C3,A5C4,A5C5,A5C6,A5C7,A5C8,A5C9,A5CA,A5CB,A5CC,A5CD,A5CE,A5CF,A5D0,A5D1,A5D2,A5D3,A5D4,A5D5,A5D6,A5D7,A5D8,A5D9,A5DA,A5DB,A5DC,A5DD,A5DE,A5DF,A5E0,A5E1,A5E2,A5E3,A5E4,A5E5,A5E6,A5E7,A5E8,A5E9,A5EA,A5EB,A5EC,A5ED,A5EE,A5EF,A5F0,A5F1,A5F2,A5F3,A5F4,A5F5,A5F6,A8C5,A8C6,A8C7,A8C8,A8C9,A8CA,A8CB,A8CC,A8CD,A8CE,A8CF,A8D0,A8D1,A8D2,A8D3,A8D4,A8D5,A8D6,A8D7,A8D8,A8D9,A8DA,A8DB,A8DC,A8DD,A8DE,A8DF,A8E0,A8E1,A8E2,A8E3,A8E4,A8E5,A8E6,A8E7,A8E8,A8E9,A2E5,A2E6,A2E7,A2E8,A2E9,A2EA,A2EB,A2EC,A2ED,A2EE,D2BB,B6A1,C6DF,CDF2,D5C9,C8FD,C9CF,CFC2,D8A2,B2BB,D3EB,D8A4,B3F3,D7A8,C7D2,D8A7,CAC0,C7F0,B1FB,D2B5,B4D4,B6AB,CBBF,D8A9,B6AA,C1BD,D1CF,C9A5,D8AD,B8F6,D1BE,E3DC,D6D0,B7E1,B4AE,C1D9,D8BC,CDE8,B5A4,CEAA,D6F7,C0F6,BED9,D8AF,C4CB,BEC3,D8B1,C3B4,D2E5,D6AE,CEDA,D5A7,BAF5,B7A6,C0D6,C6B9,C5D2,C7C7,B9D4,B3CB,D2D2,D8BF,BEC5,C6F2,D2B2,CFB0,CFE7,CAE9,D8C0,C2F2,C2D2,C8E9,C7AC,C1CB,D3E8,D5F9,CAC2,B6FE,D8A1,D3DA,BFF7,D4C6,BBA5,D8C1,CEE5,BEAE,D8A8,D1C7,D0A9,D8BD,D9EF,CDF6,BFBA,BDBB,BAA5,D2E0,B2FA,BAE0,C4B6,CFED,BEA9,CDA4,C1C1,C7D7,D9F1,D9F4,C8CB,D8E9,D2DA,CAB2,C8CA,D8EC,D8EA,D8C6,BDF6,C6CD,B3F0,D8EB,BDF1,BDE9,C8D4,B4D3,C2D8,B2D6,D7D0,CACB,CBFB,D5CC,B8B6,CFC9,D9DA,D8F0,C7AA,D8EE,B4FA,C1EE,D2D4,D8ED,D2C7,D8EF,C3C7,D1F6,D6D9,D8F2,D8F5,BCFE,BCDB,C8CE,B7DD,B7C2,C6F3,D8F8,D2C1,CEE9,BCBF,B7FC,B7A5,D0DD,D6DA,D3C5,BBEF,BBE1,D8F1,C9A1,CEB0,B4AB,D8F3,C9CB,D8F6,C2D7,D8F7,CEB1,D8F9,B2AE,B9C0,D9A3,B0E9,C1E6,C9EC,CBC5,CBC6,D9A4,B5E8,B5AB,CEBB,B5CD,D7A1,D7F4,D3D3,CCE5,BACE,D9A2,D9DC,D3E0,D8FD,B7F0,D7F7,D8FE,D8FA,D9A1,C4E3,D3B6,D8F4,D9DD,D8FB,C5E5,C0D0,D1F0,B0DB,BCD1,D9A6,D9A5,D9AC,D9AE,D9AB,CAB9,D9A9,D6B6,B3DE,D9A8,C0FD,CACC,D9AA,D9A7,D9B0,B6B1,B9A9,D2C0,CFC0,C2C2,BDC4,D5EC,B2E0,C7C8,BFEB,D9AD,D9AF,CEEA,BAEE,C7D6,B1E3,B4D9,B6ED,D9B4,BFA1,D9DE,C7CE,C0FE,D9B8,CBD7,B7FD,D9B5,D9B7,B1A3,D3E1,D9B9,D0C5,D9B6,D9B1,D9B2,C1A9,D9B3,BCF3,D0DE,B8A9,BEE3,D9BD,D9BA,B0B3,D9C2,D9C4,B1B6,D9BF,B5B9,BEF3,CCC8,BAF2,D2D0,D9C3,BDE8,B3AB,D9C5,BEEB,D9C6,D9BB,C4DF,D9BE,D9C1,D9C0,D5AE,D6B5,C7E3,D9C8,BCD9,D9CA,D9BC,D9CB,C6AB,D9C9,D7F6,CDA3,BDA1,D9CC,C5BC,CDB5,D9CD,D9C7,B3A5,BFFE,B8B5,C0FC,B0F8,B4F6,D9CE,D9CF,B4A2,D9D0,B4DF,B0C1,D9D1,C9B5,CFF1,D9D2,C1C5,D9D6,C9AE,D9D5,D9D4,D9D7,CBDB,BDA9,C6A7,D9D3,D9D8,D9D9,C8E5,C0DC,B6F9,D8A3,D4CA,D4AA,D0D6,B3E4,D5D7,CFC8,B9E2,BFCB,C3E2,B6D2,CDC3,D9EE,D9F0,B5B3,B6B5,BEA4,C8EB,C8AB,B0CB,B9AB,C1F9,D9E2,C0BC,B9B2,B9D8,D0CB,B1F8,C6E4,BEDF,B5E4,D7C8,D1F8,BCE6,CADE,BCBD,D9E6,D8E7,C4DA,B8D4,C8BD,B2E1,D4D9,C3B0,C3E1,DAA2,C8DF,D0B4,BEFC,C5A9,B9DA,DAA3,D4A9,DAA4,D9FB,B6AC,B7EB,B1F9,D9FC,B3E5,BEF6,BFF6,D2B1,C0E4,B6B3,D9FE,D9FD,BEBB,C6E0,D7BC,DAA1,C1B9,B5F2,C1E8,BCF5,B4D5,C1DD,C4FD,BCB8,B7B2,B7EF,D9EC,C6BE,BFAD,BBCB,B5CA,DBC9,D0D7,CDB9,B0BC,B3F6,BBF7,DBCA,BAAF,D4E4,B5B6,B5F3,D8D6,C8D0,B7D6,C7D0,D8D7,BFAF,DBBB,D8D8,D0CC,BBAE,EBBE,C1D0,C1F5,D4F2,B8D5,B4B4,B3F5,C9BE,C5D0,C5D9,C0FB,B1F0,D8D9,B9CE,B5BD,D8DA,D6C6,CBA2,C8AF,C9B2,B4CC,BFCC,B9F4,D8DB,D8DC,B6E7,BCC1,CCEA,CFF7,D8DD,C7B0,B9D0,BDA3,CCDE,C6CA,D8E0,D8DE,D8DF,B0FE,BEE7,CAA3,BCF4,B8B1,B8EE,D8E2,BDCB,D8E4,D8E3,C5FC,D8E5,D8E6,C1A6,C8B0,B0EC,B9A6,BCD3,CEF1,DBBD,C1D3,B6AF,D6FA,C5AC,BDD9,DBBE,DBBF,C0F8,BEA2,C0CD,DBC0,CAC6,B2AA,D3C2,C3E3,D1AB,DBC2,C0D5,DBC3,BFB1,C4BC,C7DA,DBC4,D9E8,C9D7,B9B4,CEF0,D4C8,B0FC,B4D2,D0D9,D9E9,DECB,D9EB,D8B0,BBAF,B1B1,B3D7,D8CE,D4D1,BDB3,BFEF,CFBB,D8D0,B7CB,D8D1,C6A5,C7F8,D2BD,D8D2,C4E4,CAAE,C7A7,D8A6,C9FD,CEE7,BBDC,B0EB,BBAA,D0AD,B1B0,D7E4,D7BF,B5A5,C2F4,C4CF,B2A9,B2B7,B1E5,DFB2,D5BC,BFA8,C2AC,D8D5,C2B1,D8D4,CED4,DAE0,CEC0,D8B4,C3AE,D3A1,CEA3,BCB4,C8B4,C2D1,BEED,D0B6,DAE1,C7E4,B3A7,B6F2,CCFC,C0FA,C0F7,D1B9,D1E1,D8C7,B2DE,C0E5,BAF1,D8C8,D4AD,CFE1,D8C9,D8CA,CFC3,B3F8,BEC7,D8CB,DBCC,C8A5,CFD8,C8FE,B2CE,D3D6,B2E6,BCB0,D3D1,CBAB,B7B4,B7A2,CAE5,C8A1,CADC,B1E4,D0F0,C5D1,DBC5,B5FE,BFDA,B9C5,BEE4,C1ED,DFB6,DFB5,D6BB,BDD0,D5D9,B0C8,B6A3,BFC9,CCA8,DFB3,CAB7,D3D2,D8CF,D2B6,BAC5,CBBE,CCBE,DFB7,B5F0,DFB4,D3F5,B3D4,B8F7,DFBA,BACF,BCAA,B5F5,CDAC,C3FB,BAF3,C0F4,CDC2,CFF2,DFB8,CFC5,C2C0,DFB9,C2F0,BEFD,C1DF,CDCC,D2F7,B7CD,DFC1,DFC4,B7F1,B0C9,B6D6,B7D4,BAAC,CCFD,BFD4,CBB1,C6F4,D6A8,DFC5,CEE2,B3B3,CEFC,B4B5,CEC7,BAF0,CEE1,D1BD,DFC0,B4F4,B3CA,B8E6,DFBB,C4C5,DFBC,DFBD,DFBE,C5BB,DFBF,DFC2,D4B1,DFC3,C7BA,CED8,C4D8,DFCA,DFCF,D6DC,DFC9,DFDA,CEB6,BAC7,DFCE,DFC8,C5DE,C9EB,BAF4,C3FC,BED7,DFC6,DFCD,C5D8,D5A6,BACD,BECC,D3BD,B8C0,D6E4,DFC7,B9BE,BFA7,C1FC,DFCB,DFCC,DFD0,DFDB,DFE5,DFD7,DFD6,D7C9,DFE3,DFE4,E5EB,D2A7,DFD2,BFA9,D4DB,BFC8,DFD4,CFCC,DFDD,D1CA,DFDE,B0A7,C6B7,DFD3,BAE5,B6DF,CDDB,B9FE,D4D5,DFDF,CFEC,B0A5,DFE7,DFD1,D1C6,DFD5,DFD8,DFD9,DFDC,BBA9,DFE0,DFE1,DFE2,DFE6,DFE8,D3B4,B8E7,C5B6,DFEA,C9DA,C1A8,C4C4,BFDE,CFF8,D5DC,DFEE,B2B8,BADF,DFEC,DBC1,D1E4,CBF4,B4BD,B0A6,DFF1,CCC6,DFF2,DFED,DFE9,DFEB,DFEF,DFF0,BBBD,DFF3,DFF4,BBA3,CADB,CEA8,E0A7,B3AA,E0A6,E0A1,DFFE,CDD9,DFFC,DFFA,BFD0,D7C4,C9CC,DFF8,B0A1,DFFD,DFFB,E0A2,E0A8,B7C8,C6A1,C9B6,C0B2,DFF5,C5BE,D8C4,DFF9,C4F6,E0A3,E0A4,E0A5,D0A5,E0B4,CCE4,E0B1,BFA6,E0AF,CEB9,E0AB,C9C6,C0AE,E0AE,BAED,BAB0,E0A9,DFF6,E0B3,E0B8,B4AD,E0B9,CFB2,BAC8,E0B0,D0FA,E0AC,D4FB,DFF7,C5E7,E0AD,D3F7,E0B6,E0B7,E0C4,D0E1,E0BC,E0C9,E0CA,E0BE,E0AA,C9A4,E0C1,E0B2,CAC8,E0C3,E0B5,CECB,CBC3,E0CD,E0C6,E0C2,E0CB,E0BA,E0BF,E0C0,E0C5,E0C7,E0C8,E0CC,E0BB,CBD4,E0D5,E0D6,E0D2,E0D0,BCCE,E0D1,B8C2,D8C5,D0EA,C2EF,E0CF,E0BD,E0D4,E0D3,E0D7,E0DC,E0D8,D6F6,B3B0,D7EC,CBBB,E0DA,CEFB,BAD9,E0E1,E0DD,D2AD,E0E2,E0DB,E0D9,E0DF,E0E0,E0DE,E0E4,C6F7,D8AC,D4EB,E0E6,CAC9,E0E5,B8C1,E0E7,E0E8,E0E9,E0E3,BABF,CCE7,E0EA,CFF9,E0EB,C8C2,BDC0,C4D2,E0EC,E0ED,C7F4,CBC4,E0EE,BBD8,D8B6,D2F2,E0EF,CDC5,B6DA,E0F1,D4B0,C0A7,B4D1,CEA7,E0F0,E0F2,B9CC,B9FA,CDBC,E0F3,C6D4,E0F4,D4B2,C8A6,E0F6,E0F5,E0F7,CDC1,CAA5,D4DA,DBD7,DBD9,DBD8,B9E7,DBDC,DBDD,B5D8,DBDA,DBDB,B3A1,DBDF,BBF8,D6B7,DBE0,BEF9,B7BB,DBD0,CCAE,BFB2,BBB5,D7F8,BFD3,BFE9,BCE1,CCB3,DBDE,B0D3,CEEB,B7D8,D7B9,C6C2,C0A4,CCB9,DBE7,DBE1,C6BA,DBE3,DBE8,C5F7,DBEA,DBE9,BFC0,DBE6,DBE5,B4B9,C0AC,C2A2,DBE2,DBE4,D0CD,DBED,C0DD,DBF2,B6E2,DBF3,DBD2,B9B8,D4AB,DBEC,BFD1,DBF0,DBD1,B5E6,DBEB,BFE5,DBEE,DBF1,DBF9,B9A1,B0A3,C2F1,B3C7,DBEF,DBF8,C6D2,DBF4,DBF5,DBF7,DBF6,DBFE,D3F2,B2BA,DBFD,DCA4,DBFB,DBFA,DBFC,C5E0,BBF9,DCA3,DCA5,CCC3,B6D1,DDC0,DCA1,DCA2,C7B5,B6E9,DCA7,DCA6,DCA9,B1A4,B5CC,BFB0,D1DF,B6C2,DCA8,CBFA,EBF3,CBDC,CBFE,CCC1,C8FB,DCAA,CCEE,DCAB,DBD3,DCAF,DCAC,BEB3,CAFB,DCAD,C9CA,C4B9,C7BD,DCAE,D4F6,D0E6,C4AB,B6D5,DBD4,B1DA,DBD5,DBD6,BABE,C8C0,CABF,C8C9,D7B3,C9F9,BFC7,BAF8,D2BC,E2BA,B4A6,B1B8,B8B4,CFC4,D9E7,CFA6,CDE2,D9ED,B6E0,D2B9,B9BB,E2B9,E2B7,B4F3,CCEC,CCAB,B7F2,D8B2,D1EB,BABB,CAA7,CDB7,D2C4,BFE4,BCD0,B6E1,DEC5,DEC6,DBBC,D1D9,C6E6,C4CE,B7EE,B7DC,BFFC,D7E0,C6F5,B1BC,DEC8,BDB1,CCD7,DECA,DEC9,B5EC,C9DD,B0C2,C5AE,C5AB,C4CC,BCE9,CBFD,BAC3,E5F9,C8E7,E5FA,CDFD,D7B1,B8BE,C2E8,C8D1,E5FB,B6CA,BCCB,D1FD,E6A1,C3EE,E6A4,E5FE,E6A5,CDD7,B7C1,E5FC,E5FD,E6A3,C4DD,E6A8,E6A7,C3C3,C6DE,E6AA,C4B7,E6A2,CABC,BDE3,B9C3,E6A6,D0D5,CEAF,E6A9,E6B0,D2A6,BDAA,E6AD,E6AF,C0D1,D2CC,BCA7,E6B1,D2F6,D7CB,CDFE,CDDE,C2A6,E6AB,E6AC,BDBF,E6AE,E6B3,E6B2,E6B6,E6B8,C4EF,C4C8,BEEA,C9EF,E6B7,B6F0,C3E4,D3E9,E6B4,E6B5,C8A2,E6BD,E6B9,C6C5,CDF1,E6BB,E6BC,BBE9,E6BE,E6BA,C0B7,D3A4,E6BF,C9F4,E6C3,E6C4,D0F6,C3BD,C3C4,E6C2,E6C1,E6C7,CFB1,EBF4,E6CA,E6C5,BCDE,C9A9,BCB5,CFD3,E6C8,E6C9,E6CE,E6D0,E6D1,E6CB,B5D5,E6CC,E6CF,C4DB,E6C6,E6CD,E6D2,E6D4,E6D3,E6D5,D9F8,E6D6,E6D7,D7D3,E6DD,E6DE,BFD7,D4D0,D7D6,B4E6,CBEF,E6DA,D8C3,D7CE,D0A2,C3CF,E6DF,BCBE,B9C2,E6DB,D1A7,BAA2,C2CF,D8AB,CAEB,E5EE,E6DC,B7F5,C8E6,C4F5,E5B2,C4FE,CBFC,E5B3,D5AC,D3EE,CAD8,B0B2,CBCE,CDEA,BAEA,E5B5,E5B4,D7DA,B9D9,D6E6,B6A8,CDF0,D2CB,B1A6,CAB5,B3E8,C9F3,BFCD,D0FB,CAD2,E5B6,BBC2,CFDC,B9AC,D4D7,BAA6,D1E7,CFFC,BCD2,E5B7,C8DD,BFED,B1F6,CBDE,BCC5,BCC4,D2FA,C3DC,BFDC,B8BB,C3C2,BAAE,D4A2,C7DE,C4AF,B2EC,B9D1,E5BB,C1C8,D5AF,E5BC,E5BE,B4E7,B6D4,CBC2,D1B0,B5BC,CAD9,B7E2,C9E4,BDAB,CEBE,D7F0,D0A1,C9D9,B6FB,E6D8,BCE2,B3BE,C9D0,E6D9,B3A2,DECC,D3C8,DECD,D2A2,DECE,BECD,DECF,CAAC,D2FC,B3DF,E5EA,C4E1,BEA1,CEB2,C4F2,BED6,C6A8,B2E3,BED3,C7FC,CCEB,BDEC,CEDD,CABA,C6C1,E5EC,D0BC,D5B9,E5ED,CAF4,CDC0,C2C5,E5EF,C2C4,E5F0,E5F8,CDCD,C9BD,D2D9,E1A8,D3EC,CBEA,C6F1,E1AC,E1A7,E1A9,E1AA,E1AF,B2ED,E1AB,B8DA,E1AD,E1AE,E1B0,B5BA,E1B1,E1B3,E1B8,D1D2,E1B6,E1B5,C1EB,E1B7,D4C0,E1B2,E1BA,B0B6,E1B4,BFF9,E1B9,E1BB,E1BE,E1BC,D6C5,CFBF,E1BD,E1BF,C2CD,B6EB,D3F8,C7CD,B7E5,BEFE,E1C0,E1C1,E1C7,B3E7,C6E9,B4DE,D1C2,E1C8,E1C6,E1C5,E1C3,E1C2,B1C0,D5B8,E1C4,E1CB,E1CC,E1CA,EFFA,E1D3,E1D2,C7B6,E1C9,E1CE,E1D0,E1D4,E1D1,E1CD,E1CF,E1D5,E1D6,E1D7,E1D8,E1DA,E1DB,CEA1,E7DD,B4A8,D6DD,D1B2,B3B2,B9A4,D7F3,C7C9,BEDE,B9AE,CED7,B2EE,DBCF,BCBA,D2D1,CBC8,B0CD,CFEF,D9E3,BDED,B1D2,CAD0,B2BC,CBA7,B7AB,CAA6,CFA3,E0F8,D5CA,E0FB,E0FA,C5C1,CCFB,C1B1,E0F9,D6E3,B2AF,D6C4,B5DB,B4F8,D6A1,CFAF,B0EF,E0FC,E1A1,B3A3,E0FD,E0FE,C3B1,C3DD,E1A2,B7F9,BBCF,E1A3,C4BB,E1A4,E1A5,E1A6,B4B1,B8C9,C6BD,C4EA,B2A2,D0D2,E7DB,BBC3,D3D7,D3C4,B9E3,E2CF,D7AF,C7EC,B1D3,B4B2,E2D1,D0F2,C2AE,E2D0,BFE2,D3A6,B5D7,E2D2,B5EA,C3ED,B8FD,B8AE,C5D3,B7CF,E2D4,E2D3,B6C8,D7F9,CDA5,E2D8,E2D6,CAFC,BFB5,D3B9,E2D5,E2D7,C1AE,C0C8,E2DB,E2DA,C0AA,C1CE,E2DC,E2DD,E2DE,DBC8,D1D3,CDA2,BDA8,DEC3,D8A5,BFAA,DBCD,D2EC,C6FA,C5AA,DEC4,B1D7,DFAE,CABD,DFB1,B9AD,D2FD,B8A5,BAEB,B3DA,B5DC,D5C5,C3D6,CFD2,BBA1,E5F3,E5F2,E5F4,CDE4,C8F5,B5AF,C7BF,E5F6,ECB0,E5E6,B9E9,B5B1,C2BC,E5E8,E5E7,E5E9,D2CD,E1EA,D0CE,CDAE,D1E5,B2CA,B1EB,B1F2,C5ED,D5C3,D3B0,E1DC,E1DD,D2DB,B3B9,B1CB,CDF9,D5F7,E1DE,BEB6,B4FD,E1DF,BADC,E1E0,BBB2,C2C9,E1E1,D0EC,CDBD,E1E2,B5C3,C5C7,E1E3,E1E4,D3F9,E1E5,D1AD,E1E6,CEA2,E1E7,B5C2,E1E8,BBD5,D0C4,E2E0,B1D8,D2E4,E2E1,BCC9,C8CC,E2E3,ECFE,ECFD,DFAF,E2E2,D6BE,CDFC,C3A6,E3C3,D6D2,E2E7,E2E8,D3C7,E2EC,BFEC,E2ED,E2E5,B3C0,C4EE,E2EE,D0C3,BAF6,E2E9,B7DE,BBB3,CCAC,CBCB,E2E4,E2E6,E2EA,E2EB,E2F7,E2F4,D4F5,E2F3,C5AD,D5FA,C5C2,B2C0,E2EF,E2F2,C1AF,CBBC,B5A1,E2F9,BCB1,E2F1,D0D4,D4B9,E2F5,B9D6,E2F6,C7D3,E2F0,D7DC,EDA1,E2F8,EDA5,E2FE,CAD1,C1B5,BBD0,BFD6,BAE3,CBA1,EDA6,EDA3,EDA2,BBD6,EDA7,D0F4,EDA4,BADE,B6F7,E3A1,B6B2,CCF1,B9A7,CFA2,C7A1,BFD2,B6F1,E2FA,E2FB,E2FD,E2FC,C4D5,E3A2,D3C1,E3A7,C7C4,CFA4,E3A9,BAB7,E3A8,BBDA,E3A3,E3A4,E3AA,E3A6,CEF2,D3C6,BBBC,D4C3,C4FA,EDA8,D0FC,E3A5,C3F5,E3AD,B1AF,E3B2,BCC2,E3AC,B5BF,C7E9,E3B0,BEAA,CDEF,BBF3,CCE8,E3AF,E3B1,CFA7,E3AE,CEA9,BBDD,B5EB,BEE5,B2D2,B3CD,B1B9,E3AB,B2D1,B5AC,B9DF,B6E8,CFEB,E3B7,BBCC,C8C7,D0CA,E3B8,B3EE,EDA9,D3FA,D3E4,EDAA,E3B9,D2E2,E3B5,D3DE,B8D0,E3B3,E3B6,B7DF,E3B4,C0A2,E3BA,D4B8,B4C8,E3BB,BBC5,C9F7,C9E5,C4BD,EDAB,C2FD,BBDB,BFAE,CEBF,E3BC,BFB6,B1EF,D4F7,E3BE,EDAD,E3BF,BAA9,EDAC,E3BD,E3C0,BAB6,B6AE,D0B8,B0C3,EDAE,EDAF,C0C1,E3C1,C5B3,E3C2,DCB2,EDB0,B8EA,CEEC,EAA7,D0E7,CAF9,C8D6,CFB7,B3C9,CED2,BDE4,E3DE,BBF2,EAA8,D5BD,C6DD,EAA9,EAAA,EAAC,EAAB,EAAE,EAAD,BDD8,EAAF,C2BE,B4C1,B4F7,BBA7,ECE6,ECE5,B7BF,CBF9,B1E2,ECE7,C9C8,ECE8,ECE9,CAD6,DED0,B2C5,D4FA,C6CB,B0C7,B4F2,C8D3,CDD0,BFB8,BFDB,C7A4,D6B4,C0A9,DED1,C9A8,D1EF,C5A4,B0E7,B3B6,C8C5,B0E2,B7F6,C5FA,B6F3,D5D2,B3D0,BCBC,B3AD,BEF1,B0D1,D2D6,CAE3,D7A5,CDB6,B6B6,BFB9,D5DB,B8A7,C5D7,DED2,BFD9,C2D5,C7C0,BBA4,B1A8,C5EA,C5FB,CCA7,B1A7,B5D6,C4A8,DED3,D1BA,B3E9,C3F2,B7F7,D6F4,B5A3,B2F0,C4B4,C4E9,C0AD,DED4,B0E8,C5C4,C1E0,B9D5,BEDC,CDD8,B0CE,CDCF,DED6,BED0,D7BE,DED5,D5D0,B0DD,C4E2,C2A3,BCF0,D3B5,C0B9,C5A1,B2A6,D4F1,C0A8,CAC3,DED7,D5FC,B9B0,C8AD,CBA9,DED9,BFBD,C6B4,D7A7,CAB0,C4C3,B3D6,B9D2,D6B8,EAFC,B0B4,BFE6,CCF4,CDDA,D6BF,C2CE,CECE,CCA2,D0AE,C4D3,B5B2,DED8,D5F5,BCB7,BBD3,B0A4,C5B2,B4EC,D5F1,EAFD,DEDA,CDA6,CDEC,CEE6,DEDC,CDB1,C0A6,D7BD,DEDB,B0C6,BAB4,C9D3,C4F3,BEE8,B2B6,C0CC,CBF0,BCF1,BBBB,B5B7,C5F5,DEE6,DEE3,BEDD,DEDF,B4B7,BDDD,DEE0,C4ED,CFC6,B5E0,B6DE,CADA,B5F4,DEE5,D5C6,DEE1,CCCD,C6FE,C5C5,D2B4,BEF2,C2D3,CCBD,B3B8,BDD3,BFD8,CDC6,D1DA,B4EB,DEE4,DEDD,DEE7,EAFE,C2B0,DEE2,D6C0,B5A7,B2F4,DEE8,DEF2,DEED,DEF1,C8E0,D7E1,DEEF,C3E8,CCE1,B2E5,D2BE,DEEE,DEEB,CED5,B4A7,BFAB,BEBE,BDD2,DEE9,D4AE,DEDE,DEEA,C0BF,DEEC,B2F3,B8E9,C2A7,BDC1,DEF5,DEF8,B2AB,B4A4,B4EA,C9A6,DEF6,CBD1,B8E3,DEF7,DEFA,DEF9,CCC2,B0E1,B4EE,E5BA,D0AF,B2EB,EBA1,DEF4,C9E3,DEF3,B0DA,D2A1,B1F7,CCAF,DEF0,CBA4,D5AA,DEFB,B4DD,C4A6,DEFD,C3FE,C4A1,DFA1,C1CC,DEFC,BEEF,C6B2,B3C5,C8F6,CBBA,DEFE,DFA4,D7B2,B3B7,C1C3,C7CB,B2A5,B4E9,D7AB,C4EC,DFA2,DFA3,DFA5,BAB3,DFA6,C0DE,C9C3,B2D9,C7E6,DFA7,C7DC,DFA8,EBA2,CBD3,DFAA,DFA9,B2C1,C5CA,DFAB,D4DC,C8C1,DFAC,BEF0,DFAD,D6A7,EAB7,EBB6,CAD5,D8FC,B8C4,B9A5,B7C5,D5FE,B9CA,D0A7,F4CD,B5D0,C3F4,BEC8,EBB7,B0BD,BDCC,C1B2,B1D6,B3A8,B8D2,C9A2,B6D8,EBB8,BEB4,CAFD,C7C3,D5FB,B7F3,CEC4,D5AB,B1F3,ECB3,B0DF,ECB5,B6B7,C1CF,F5FA,D0B1,D5E5,CED3,BDEF,B3E2,B8AB,D5B6,EDBD,B6CF,CBB9,D0C2,B7BD,ECB6,CAA9,C5D4,ECB9,ECB8,C2C3,ECB7,D0FD,ECBA,ECBB,D7E5,ECBC,ECBD,C6EC,CEDE,BCC8,C8D5,B5A9,BEC9,D6BC,D4E7,D1AE,D0F1,EAB8,EAB9,EABA,BAB5,CAB1,BFF5,CDFA,EAC0,B0BA,EABE,C0A5,EABB,B2FD,C3F7,BBE8,D2D7,CEF4,EABF,EABC,EAC3,D0C7,D3B3,B4BA,C3C1,D7F2,D5D1,CAC7,EAC5,EAC4,EAC7,EAC6,D6E7,CFD4,EACB,BBCE,BDFA,C9CE,EACC,C9B9,CFFE,EACA,D4CE,EACD,EACF,CDED,EAC9,EACE,CEEE,BBDE,B3BF,C6D5,BEB0,CEFA,C7E7,BEA7,EAD0,D6C7,C1C0,D4DD,EAD1,CFBE,EAD2,CAEE,C5AF,B0B5,EAD4,EAD3,F4DF,C4BA,B1A9,E5DF,EAD5,CAEF,EAD6,EAD7,C6D8,EAD8,EAD9,D4BB,C7FA,D2B7,B8FC,EAC2,B2DC,C2FC,D4F8,CCE6,D7EE,D4C2,D3D0,EBC3,C5F3,B7FE,EBD4,CBB7,EBDE,C0CA,CDFB,B3AF,C6DA,EBFC,C4BE,CEB4,C4A9,B1BE,D4FD,CAF5,D6EC,C6D3,B6E4,BBFA,D0E0,C9B1,D4D3,C8A8,B8CB,E8BE,C9BC,E8BB,C0EE,D0D3,B2C4,B4E5,E8BC,D5C8,B6C5,E8BD,CAF8,B8DC,CCF5,C0B4,D1EE,E8BF,E8C2,BABC,B1AD,BDDC,EABD,E8C3,E8C6,E8CB,E8CC,CBC9,B0E5,BCAB,B9B9,E8C1,CDF7,E8CA,CEF6,D5ED,C1D6,E8C4,C3B6,B9FB,D6A6,E8C8,CAE0,D4E6,E8C0,E8C5,E8C7,C7B9,B7E3,E8C9,BFDD,E8D2,E8D7,E8D5,BCDC,BCCF,E8DB,E8DE,E8DA,B1FA,B0D8,C4B3,B8CC,C6E2,C8BE,C8E1,E8CF,E8D4,E8D6,B9F1,E8D8,D7F5,C4FB,E8DC,B2E9,E8D1,BCED,BFC2,E8CD,D6F9,C1F8,B2F1,E8DF,CAC1,E8D9,D5A4,B1EA,D5BB,E8CE,E8D0,B6B0,E8D3,E8DD,C0B8,CAF7,CBA8,C6DC,C0F5,E8E9,D0A3,E8F2,D6EA,E8E0,E8E1,D1F9,BACB,B8F9,B8F1,D4D4,E8EF,E8EE,E8EC,B9F0,CCD2,E8E6,CEA6,BFF2,B0B8,E8F1,E8F0,D7C0,E8E4,CDA9,C9A3,BBB8,BDDB,E8EA,E8E2,E8E3,E8E5,B5B5,E8E7,C7C5,E8EB,E8ED,BDB0,D7AE,E8F8,E8F5,CDB0,E8F6,C1BA,E8E8,C3B7,B0F0,E8F4,E8F7,B9A3,C9D2,C3CE,CEE0,C0E6,CBF3,CCDD,D0B5,CAE1,E8F3,BCEC,E8F9,C3DE,C6E5,B9F7,B0F4,D7D8,BCAC,C5EF,CCC4,E9A6,C9AD,E9A2,C0E2,BFC3,E8FE,B9D7,E8FB,E9A4,D2CE,E9A3,D6B2,D7B5,E9A7,BDB7,E8FC,E8FD,E9A1,CDD6,D2AC,E9B2,E9A9,B4AA,B4BB,E9AB,D0A8,E9A5,B3FE,E9AC,C0E3,E9AA,E9B9,E9B8,E9AE,E8FA,E9A8,BFAC,E9B1,E9BA,C2A5,E9AF,B8C5,E9AD,D3DC,E9B4,E9B5,E9B7,E9C7,C0C6,E9C5,E9B0,E9BB,B0F1,E9BC,D5A5,E9BE,E9BF,E9C1,C1F1,C8B6,E9BD,E9C2,E9C3,E9B3,E9B6,BBB1,E9C0,BCF7,E9C4,E9C6,E9CA,E9CE,B2DB,E9C8,B7AE,E9CB,E9CC,D5C1,C4A3,E9D8,BAE1,E9C9,D3A3,E9D4,E9D7,E9D0,E9CF,C7C1,E9D2,E9D9,B3C8,E9D3,CFF0,E9CD,B3F7,E9D6,E9DA,CCB4,CFAD,E9D5,E9DC,E9DB,E9DE,E9D1,E9DD,E9DF,C3CA,C7B7,B4CE,BBB6,D0C0,ECA3,C5B7,D3FB,ECA4,ECA5,C6DB,BFEE,ECA6,ECA7,D0AA,C7B8,B8E8,ECA8,D6B9,D5FD,B4CB,B2BD,CEE4,C6E7,CDE1,B4F5,CBC0,BCDF,E9E2,E9E3,D1EA,E9E5,B4F9,E9E4,D1B3,CAE2,B2D0,E9E8,E9E6,E9E7,D6B3,E9E9,E9EA,E9EB,E9EC,ECAF,C5B9,B6CE,D2F3,B5EE,BBD9,ECB1,D2E3,CEE3,C4B8,C3BF,B6BE,D8B9,B1C8,B1CF,B1D1,C5FE,B1D0,C3AB,D5B1,EBA4,BAC1,CCBA,EBA5,EBA7,EBA8,EBA6,EBA9,EBAB,EBAA,EBAC,CACF,D8B5,C3F1,C3A5,C6F8,EBAD,C4CA,EBAE,EBAF,EBB0,B7D5,B7FA,EBB1,C7E2,EBB3,BAA4,D1F5,B0B1,EBB2,EBB4,B5AA,C2C8,C7E8,EBB5,CBAE,E3DF,D3C0,D9DB,CDA1,D6AD,C7F3,D9E0,BBE3,BABA,E3E2,CFAB,E3E0,C9C7,BAB9,D1B4,E3E1,C8EA,B9AF,BDAD,B3D8,CEDB,CCC0,E3E8,E3E9,CDF4,CCAD,BCB3,E3EA,E3EB,D0DA,C6FB,B7DA,C7DF,D2CA,CED6,E3E4,E3EC,C9F2,B3C1,E3E7,C6E3,E3E5,EDB3,E3E6,C9B3,C5E6,B9B5,C3BB,E3E3,C5BD,C1A4,C2D9,B2D7,E3ED,BBA6,C4AD,E3F0,BEDA,E3FB,E3F5,BAD3,B7D0,D3CD,D6CE,D5D3,B9C1,D5B4,D1D8,D0B9,C7F6,C8AA,B2B4,C3DA,E3EE,E3FC,E3EF,B7A8,E3F7,E3F4,B7BA,C5A2,E3F6,C5DD,B2A8,C6FC,C4E0,D7A2,C0E1,E3F9,E3FA,E3FD,CCA9,E3F3,D3BE,B1C3,EDB4,E3F1,E3F2,E3F8,D0BA,C6C3,D4F3,E3FE,BDE0,E4A7,E4A6,D1F3,E4A3,E4A9,C8F7,CFB4,E4A8,E4AE,C2E5,B6B4,BDF2,E4A2,BAE9,E4AA,E4AC,B6FD,D6DE,E4B2,E4AD,E4A1,BBEE,CDDD,C7A2,C5C9,C1F7,E4A4,C7B3,BDAC,BDBD,E4A5,D7C7,B2E2,E4AB,BCC3,E4AF,BBEB,E4B0,C5A8,E4B1,D5E3,BFA3,E4BA,E4B7,E4BB,E4BD,C6D6,BAC6,C0CB,B8A1,E4B4,D4A1,BAA3,BDFE,E4BC,CDBF,C4F9,CFFB,C9E6,D3BF,CFD1,E4B3,E4B8,E4B9,CCE9,CCCE,C0D4,E4B5,C1B0,E4B6,CED0,BBC1,B5D3,C8F3,BDA7,D5C7,C9AC,B8A2,E4CA,E4CC,D1C4,D2BA,BAAD,BAD4,E4C3,B5ED,D7CD,E4C0,CFFD,E4BF,C1DC,CCCA,CAE7,C4D7,CCD4,E4C8,E4C7,E4C1,E4C4,B5AD,D3D9,E4C6,D2F9,B4E3,BBB4,C9EE,B4BE,BBEC,D1CD,CCED,EDB5,C7E5,D4A8,E4CB,D7D5,E4C2,BDA5,E4C5,D3E6,E4C9,C9F8,E4BE,D3E5,C7FE,B6C9,D4FC,B2B3,E4D7,CEC2,E4CD,CEBC,B8DB,E4D6,BFCA,D3CE,C3EC,C5C8,E4D8,CDC4,E4CF,E4D4,E4D5,BAFE,CFE6,D5BF,E4D2,E4D0,E4CE,CDE5,CAAA,C0A3,BDA6,E4D3,B8C8,E4E7,D4B4,E4DB,C1EF,E4E9,D2E7,E4DF,E4E0,CFAA,CBDD,E4DA,E4D1,E4E5,C8DC,E4E3,C4E7,E4E2,E4E1,B3FC,E4E8,B5E1,D7CC,E4E6,BBAC,D7D2,CCCF,EBF8,E4E4,B9F6,D6CD,E4D9,E4DC,C2FA,E4DE,C2CB,C0C4,C2D0,B1F5,CCB2,B5CE,E4EF,C6AF,C6E1,E4F5,C2A9,C0EC,D1DD,E4EE,C4AE,E4ED,E4F6,E4F4,C2FE,E4DD,E4F0,CAFE,D5C4,E4F1,D1FA,E4EB,E4EC,E4F2,CEAB,C5CB,C7B1,C2BA,E4EA,C1CA,CCB6,B3B1,E4FB,E4F3,E4FA,E4FD,E4FC,B3CE,B3BA,E4F7,E4F9,E4F8,C5EC,C0BD,D4E8,E5A2,B0C4,E5A4,E5A3,BCA4,E5A5,E5A1,E4FE,B1F4,E5A8,E5A9,E5A6,E5A7,E5AA,C6D9,E5AB,E5AD,E5AC,E5AF,E5AE,B9E0,E5B0,E5B1,BBF0,ECE1,C3F0,B5C6,BBD2,C1E9,D4EE,BEC4,D7C6,D4D6,B2D3,ECBE,EAC1,C2AF,B4B6,D1D7,B3B4,C8B2,BFBB,ECC0,D6CB,ECBF,ECC1,ECC5,BEE6,CCBF,C5DA,BEBC,ECC6,B1FE,ECC4,D5A8,B5E3,ECC2,C1B6,B3E3,ECC3,CBB8,C0C3,CCFE,C1D2,ECC8,BAE6,C0D3,D6F2,D1CC,BFBE,B7B3,C9D5,ECC7,BBE2,CCCC,BDFD,C8C8,CFA9,CDE9,C5EB,B7E9,D1C9,BAB8,ECC9,ECCA,BBC0,ECCB,ECE2,B1BA,B7D9,BDB9,ECCC,D1E6,ECCD,C8BB,ECD1,ECD3,BBCD,BCE5,ECCF,C9B7,C3BA,ECE3,D5D5,ECD0,D6F3,ECD2,ECCE,ECD4,ECD5,C9BF,CFA8,D0DC,D1AC,C8DB,ECD6,CEF5,CAEC,ECDA,ECD9,B0BE,ECD7,ECD8,ECE4,C8BC,C1C7,ECDC,D1E0,ECDB,D4EF,ECDD,DBC6,ECDE,B1AC,ECDF,ECE0,D7A6,C5C0,EBBC,B0AE,BEF4,B8B8,D2AF,B0D6,B5F9,D8B3,CBAC,E3DD,C6AC,B0E6,C5C6,EBB9,EBBA,EBBB,D1C0,C5A3,EAF2,C4B2,C4B5,C0CE,EAF3,C4C1,CEEF,EAF0,EAF4,C9FC,C7A3,CCD8,CEFE,EAF5,EAF6,CFAC,C0E7,EAF7,B6BF,EAF8,EAF9,EAFA,EAFB,EAF1,C8AE,E1EB,B7B8,E1EC,E1ED,D7B4,E1EE,E1EF,D3CC,E1F1,BFF1,E1F0,B5D2,B1B7,E1F3,E1F2,BAFC,E1F4,B9B7,BED1,C4FC,BADD,BDC6,E1F5,E1F7,B6C0,CFC1,CAA8,E1F6,D5F8,D3FC,E1F8,E1FC,E1F9,E1FA,C0EA,E1FE,E2A1,C0C7,E1FB,E1FD,E2A5,C1D4,E2A3,E2A8,B2FE,E2A2,C3CD,B2C2,E2A7,E2A6,E2A4,E2A9,E2AB,D0C9,D6ED,C3A8,E2AC,CFD7,E2AE,BAEF,E9E0,E2AD,E2AA,BBAB,D4B3,E2B0,E2AF,E9E1,E2B1,E2B2,E2B3,CCA1,E2B4,E2B5,D0FE,C2CA,D3F1,CDF5,E7E0,E7E1,BEC1,C2EA,E7E4,E7E3,CDE6,C3B5,E7E2,BBB7,CFD6,C1E1,E7E9,E7E8,E7F4,B2A3,E7EA,E7E6,E7EC,E7EB,C9BA,D5E4,E7E5,B7A9,E7E7,E7EE,E7F3,D6E9,E7ED,E7F2,E7F1,B0E0,E7F5,C7F2,C0C5,C0ED,C1F0,E7F0,E7F6,CBF6,E8A2,E8A1,D7C1,E7FA,E7F9,E7FB,E7F7,E7FE,E7FD,E7FC,C1D5,C7D9,C5FD,C5C3,C7ED,E8A3,E8A6,E8A5,E8A7,BAF7,E7F8,E8A4,C8F0,C9AA,E8A9,B9E5,D1FE,E8A8,E8AA,E8AD,E8AE,C1A7,E8AF,E8B0,E8AC,E8B4,E8AB,E8B1,E8B5,E8B2,E8B3,E8B7,E8B6,B9CF,F0AC,F0AD,C6B0,B0EA,C8BF,CDDF,CECD,EAB1,EAB2,C6BF,B4C9,EAB3,D5E7,DDF9,EAB4,EAB5,EAB6,B8CA,DFB0,C9F5,CCF0,C9FA,C9FB,D3C3,CBA6,B8A6,F0AE,B1C2,E5B8,CCEF,D3C9,BCD7,C9EA,B5E7,C4D0,B5E9,EEAE,BBAD,E7DE,EEAF,B3A9,EEB2,EEB1,BDE7,EEB0,CEB7,C5CF,C1F4,DBCE,EEB3,D0F3,C2D4,C6E8,B7AC,EEB4,B3EB,BBFB,EEB5,E7DC,EEB6,BDAE,F1E2,CAE8,D2C9,F0DA,F0DB,F0DC,C1C6,B8ED,BECE,F0DE,C5B1,F0DD,D1F1,F0E0,B0CC,BDEA,D2DF,F0DF,B4AF,B7E8,F0E6,F0E5,C6A3,F0E1,F0E2,B4C3,F0E3,D5EE,CCDB,BED2,BCB2,F0E8,F0E7,F0E4,B2A1,D6A2,D3B8,BEB7,C8AC,F0EA,D1F7,D6CC,BADB,F0E9,B6BB,CDB4,C6A6,C1A1,F0EB,F0EE,F0ED,F0F0,F0EC,BBBE,F0EF,CCB5,F0F2,B3D5,B1D4,F0F3,F0F4,F0F6,B4E1,F0F1,F0F7,F0FA,F0F8,F0F5,F0FD,F0F9,F0FC,F0FE,F1A1,CEC1,F1A4,F1A3,C1F6,F0FB,CADD,B4F1,B1F1,CCB1,F1A6,F1A7,F1AC,D5CE,F1A9,C8B3,F1A2,F1AB,F1A8,F1A5,F1AA,B0A9,F1AD,F1AF,F1B1,F1B0,F1AE,D1A2,F1B2,F1B3,B9EF,B5C7,B0D7,B0D9,D4ED,B5C4,BDD4,BBCA,F0A7,B8DE,F0A8,B0A8,F0A9,CDEE,F0AA,F0AB,C6A4,D6E5,F1E4,F1E5,C3F3,D3DB,D6D1,C5E8,D3AF,D2E6,EEC1,B0BB,D5B5,D1CE,BCE0,BAD0,BFF8,B8C7,B5C1,C5CC,CAA2,C3CB,EEC2,C4BF,B6A2,EDEC,C3A4,D6B1,CFE0,EDEF,C5CE,B6DC,CAA1,EDED,EDF0,EDF1,C3BC,BFB4,EDEE,EDF4,EDF2,D5E6,C3DF,EDF3,EDF6,D5A3,D1A3,EDF5,C3D0,EDF7,BFF4,BEEC,EDF8,CCF7,D1DB,D7C5,D5F6,EDFC,EDFB,EDF9,EDFA,EDFD,BEA6,CBAF,EEA1,B6BD,EEA2,C4C0,EDFE,BDDE,B2C7,B6C3,EEA5,D8BA,EEA3,EEA6,C3E9,B3F2,EEA7,EEA4,CFB9,EEA8,C2F7,EEA9,EEAA,DEAB,C6B3,C7C6,D6F5,B5C9,CBB2,EEAB,CDAB,EEAC,D5B0,EEAD,F6C4,DBC7,B4A3,C3AC,F1E6,CAB8,D2D3,D6AA,EFF2,BED8,BDC3,EFF3,B6CC,B0AB,CAAF,EDB6,EDB7,CEF9,B7AF,BFF3,EDB8,C2EB,C9B0,EDB9,C6F6,BFB3,EDBC,C5F8,D1D0,D7A9,EDBA,EDBB,D1E2,EDBF,EDC0,EDC4,EDC8,EDC6,EDCE,D5E8,EDC9,EDC7,EDBE,C5E9,C6C6,C9E9,D4D2,EDC1,EDC2,EDC3,EDC5,C0F9,B4A1,B9E8,EDD0,EDD1,EDCA,EDCF,CEF8,CBB6,EDCC,EDCD,CFF5,EDD2,C1F2,D3B2,EDCB,C8B7,BCEF,C5F0,EDD6,B5EF,C2B5,B0AD,CBE9,B1AE,EDD4,CDEB,B5E2,EDD5,EDD3,EDD7,B5FA,EDD8,EDD9,EDDC,B1CC,C5F6,BCEE,EDDA,CCBC,B2EA,EDDB,C4EB,B4C5,B0F5,EDDF,C0DA,B4E8,C5CD,EDDD,BFC4,EDDE,C4A5,EDE0,EDE1,EDE3,C1D7,BBC7,BDB8,EDE2,EDE4,EDE6,EDE5,EDE7,CABE,ECEA,C0F1,C9E7,ECEB,C6EE,ECEC,C6ED,ECED,ECF0,D7E6,ECF3,ECF1,ECEE,ECEF,D7A3,C9F1,CBEE,ECF4,ECF2,CFE9,ECF6,C6B1,BCC0,ECF5,B5BB,BBF6,ECF7,D9F7,BDFB,C2BB,ECF8,ECF9,B8A3,ECFA,ECFB,ECFC,D3ED,D8AE,C0EB,C7DD,BACC,D0E3,CBBD,CDBA,B8D1,B1FC,C7EF,D6D6,BFC6,C3EB,EFF5,C3D8,D7E2,EFF7,B3D3,C7D8,D1ED,D6C8,EFF8,EFF6,BBFD,B3C6,BDD5,D2C6,BBE0,CFA1,EFFC,EFFB,EFF9,B3CC,C9D4,CBB0,EFFE,B0DE,D6C9,EFFD,B3ED,F6D5,CEC8,F0A2,F0A1,B5BE,BCDA,BBFC,B8E5,C4C2,F0A3,CBEB,F0A6,D1A8,BEBF,C7EE,F1B6,F1B7,BFD5,B4A9,F1B8,CDBB,C7D4,D5AD,F1B9,F1BA,C7CF,D2A4,D6CF,F1BB,BDD1,B4B0,BEBD,B4DC,CED1,BFDF,F1BD,BFFA,F1BC,F1BF,F1BE,F1C0,F1C1,C1FE,C1A2,CAFA,D5BE,BEBA,BEB9,D5C2,BFA2,CDAF,F1B5,BDDF,B6CB,D6F1,F3C3,F3C4,B8CD,F3C6,F3C7,B0CA,F3C5,F3C9,CBF1,F3CB,D0A6,B1CA,F3C8,F3CF,B5D1,F3D7,F3D2,F3D4,F3D3,B7FB,B1BF,F3CE,F3CA,B5DA,F3D0,F3D1,F3D5,F3CD,BCE3,C1FD,F3D6,F3DA,F3CC,B5C8,BDEE,F3DC,B7A4,BFF0,D6FE,CDB2,B4F0,B2DF,F3D8,F3D9,C9B8,F3DD,F3DE,F3E1,F3DF,F3E3,F3E2,F3DB,BFEA,B3EF,F3E0,C7A9,BCF2,F3EB,B9BF,F3E4,B2AD,BBFE,CBE3,F3ED,F3E9,B9DC,F3EE,F3E5,F3E6,F3EA,C2E1,F3EC,F3EF,F3E8,BCFD,CFE4,F3F0,F3E7,F3F2,D7AD,C6AA,F3F3,F3F1,C2A8,B8DD,F3F5,F3F4,B4DB,F3F6,F3F7,F3F8,C0BA,C0E9,C5F1,F3FB,F3FA,B4D8,F3FE,F3F9,F3FC,F3FD,F4A1,F4A3,BBC9,F4A2,F4A4,B2BE,F4A6,F4A5,BCAE,C3D7,D9E1,C0E0,F4CC,D7D1,B7DB,F4CE,C1A3,C6C9,B4D6,D5B3,F4D0,F4CF,F4D1,CBDA,F4D2,D4C1,D6E0,B7E0,C1B8,C1BB,F4D3,BEAC,B4E2,F4D4,F4D5,BEAB,F4D6,F4DB,F4D7,F4DA,BAFD,F4D8,F4D9,B8E2,CCC7,F4DC,B2DA,C3D3,D4E3,BFB7,F4DD,C5B4,F4E9,CFB5,CEC9,CBD8,CBF7,BDF4,D7CF,C0DB,D0F5,F4EA,F4EB,F4EC,F7E3,B7B1,F4ED,D7EB,F4EE,E6F9,BEC0,E6FA,BAEC,E6FB,CFCB,E6FC,D4BC,BCB6,E6FD,E6FE,BCCD,C8D2,CEB3,E7A1,B4BF,E7A2,C9B4,B8D9,C4C9,D7DD,C2DA,B7D7,D6BD,CEC6,B7C4,C5A6,E7A3,CFDF,E7A4,E7A5,E7A6,C1B7,D7E9,C9F0,CFB8,D6AF,D6D5,E7A7,B0ED,E7A8,E7A9,C9DC,D2EF,BEAD,E7AA,B0F3,C8DE,BDE1,E7AB,C8C6,E7AC,BBE6,B8F8,D1A4,E7AD,C2E7,BEF8,BDCA,CDB3,E7AE,E7AF,BEEE,D0E5,CBE7,CCD0,BCCC,E7B0,BCA8,D0F7,E7B1,D0F8,E7B2,E7B3,B4C2,E7B4,E7B5,C9FE,CEAC,C3E0,E7B7,B1C1,B3F1,E7B8,E7B9,D7DB,D5C0,E7BA,C2CC,D7BA,E7BB,E7BC,E7BD,BCEA,C3E5,C0C2,E7BE,E7BF,BCA9,E7C0,E7C1,E7B6,B6D0,E7C2,E7C3,E7C4,BBBA,B5DE,C2C6,B1E0,E7C5,D4B5,E7C6,B8BF,E7C8,E7C7,B7EC,E7C9,B2F8,E7CA,E7CB,E7CC,E7CD,E7CE,E7CF,E7D0,D3A7,CBF5,E7D1,E7D2,E7D3,E7D4,C9C9,E7D5,E7D6,E7D7,E7D8,E7D9,BDC9,E7DA,F3BE,B8D7,C8B1,F3BF,F3C0,F3C1,B9DE,CDF8,D8E8,BAB1,C2DE,EEB7,B7A3,EEB9,EEB8,B0D5,EEBB,D5D6,D7EF,D6C3,EEBD,CAF0,EEBC,EEBE,EEC0,EEBF,D1F2,C7BC,C3C0,B8E1,C1E7,F4C6,D0DF,F4C7,CFDB,C8BA,F4C8,F4C9,F4CA,F4CB,D9FA,B8FE,E5F1,D3F0,F4E0,CECC,B3E1,F1B4,D2EE,F4E1,CFE8,F4E2,C7CC,B5D4,B4E4,F4E4,F4E3,F4E5,F4E6,F4E7,BAB2,B0BF,F4E8,B7AD,D2ED,D2AB,C0CF,BFBC,EBA3,D5DF,EAC8,F1F3,B6F8,CBA3,C4CD,F1E7,F1E8,B8FB,F1E9,BAC4,D4C5,B0D2,F1EA,F1EB,F1EC,F1ED,F1EE,F1EF,F1F1,F1F0,C5D5,F1F2,B6FA,F1F4,D2AE,DEC7,CBCA,B3DC,B5A2,B9A2,C4F4,F1F5,F1F6,C1C4,C1FB,D6B0,F1F7,F1F8,C1AA,C6B8,BEDB,F1F9,B4CF,F1FA,EDB2,EDB1,CBE0,D2DE,CBC1,D5D8,C8E2,C0DF,BCA1,EBC1,D0A4,D6E2,B6C7,B8D8,EBC0,B8CE,EBBF,B3A6,B9C9,D6AB,B7F4,B7CA,BCE7,B7BE,EBC6,EBC7,B0B9,BFCF,EBC5,D3FD,EBC8,EBC9,B7CE,EBC2,EBC4,C9F6,D6D7,D5CD,D0B2,EBCF,CEB8,EBD0,B5A8,B1B3,EBD2,CCA5,C5D6,EBD3,EBD1,C5DF,EBCE,CAA4,EBD5,B0FB,BAFA,D8B7,F1E3,EBCA,EBCB,EBCC,EBCD,EBD6,E6C0,EBD9,BFE8,D2C8,EBD7,EBDC,B8EC,EBD8,BDBA,D0D8,B0B7,EBDD,C4DC,D6AC,B4E0,C2F6,BCB9,EBDA,EBDB,D4E0,C6EA,C4D4,EBDF,C5A7,D9F5,B2B1,EBE4,BDC5,EBE2,EBE3,B8AC,CDD1,EBE5,EBE1,C1B3,C6A2,CCF3,EBE6,C0B0,D2B8,EBE7,B8AF,B8AD,EBE8,C7BB,CDF3,EBEA,EBEB,EBED,D0C8,EBF2,EBEE,EBF1,C8F9,D1FC,EBEC,EBE9,B8B9,CFD9,C4E5,EBEF,EBF0,CCDA,CDC8,B0F2,EBF6,EBF5,B2B2,B8E0,EBF7,B1EC,CCC5,C4A4,CFA5,EBF9,ECA2,C5F2,EBFA,C9C5,E2DF,EBFE,CDCE,ECA1,B1DB,D3B7,D2DC,EBFD,EBFB,B3BC,EAB0,D7D4,F4AB,B3F4,D6C1,D6C2,D5E9,BECA,F4A7,D2A8,F4A8,F4A9,F4AA,BECB,D3DF,C9E0,C9E1,F3C2,CAE6,CCF2,E2B6,CBB4,CEE8,D6DB,F4AD,F4AE,F4AF,F4B2,BABD,F4B3,B0E3,F4B0,F4B1,BDA2,B2D5,F4B6,F4B7,B6E6,B2B0,CFCF,F4B4,B4AC,F4B5,F4B8,F4B9,CDA7,F4BA,F4BB,F4BC,CBD2,F4BD,F4BE,F4BF,F4DE,C1BC,BCE8,C9AB,D1DE,E5F5,DCB3,D2D5,DCB4,B0AC,DCB5,BDDA,DCB9,D8C2,DCB7,D3F3,C9D6,DCBA,DCB6,DCBB,C3A2,DCBC,DCC5,DCBD,CEDF,D6A5,DCCF,DCCD,DCD2,BDE6,C2AB,DCB8,DCCB,DCCE,DCBE,B7D2,B0C5,DCC7,D0BE,DCC1,BBA8,B7BC,DCCC,DCC6,DCBF,C7DB,D1BF,DCC0,DCCA,DCD0,CEAD,DCC2,DCC3,DCC8,DCC9,B2D4,DCD1,CBD5,D4B7,DCDB,DCDF,CCA6,DCE6,C3E7,DCDC,BFC1,DCD9,B0FA,B9B6,DCE5,DCD3,DCC4,DCD6,C8F4,BFE0,C9BB,B1BD,D3A2,DCDA,DCD5,C6BB,DCDE,D7C2,C3AF,B7B6,C7D1,C3A9,DCE2,DCD8,DCEB,DCD4,DCDD,BEA5,DCD7,DCE0,DCE3,DCE4,DCF8,DCE1,DDA2,DCE7,BCEB,B4C4,C3A3,B2E7,DCFA,DCF2,DCEF,DCFC,DCEE,D2F0,B2E8,C8D7,C8E3,DCFB,DCED,DCF7,DCF5,BEA3,DCF4,B2DD,DCF3,BCF6,DCE8,BBC4,C0F3,BCD4,DCE9,DCEA,DCF1,DCF6,DCF9,B5B4,C8D9,BBE7,DCFE,DCFD,D3AB,DDA1,DDA3,DDA5,D2F1,DDA4,DDA6,DDA7,D2A9,BAC9,DDA9,DDB6,DDB1,DDB4,DDB0,C6CE,C0F2,C9AF,DCEC,DDAE,DDB7,DCF0,DDAF,DDB8,DDAC,DDB9,DDB3,DDAD,C4AA,DDA8,C0B3,C1AB,DDAA,DDAB,DDB2,BBF1,DDB5,D3A8,DDBA,DDBB,C3A7,DDD2,DDBC,DDD1,B9BD,BED5,BEFA,BACA,DDCA,DDC5,DDBF,B2CB,DDC3,DDCB,B2A4,DDD5,DDBE,C6D0,DDD0,DDD4,C1E2,B7C6,DDCE,DDCF,DDC4,DDBD,DDCD,CCD1,DDC9,DDC2,C3C8,C6BC,CEAE,DDCC,DDC8,DDC1,DDC6,C2DC,D3A9,D3AA,DDD3,CFF4,C8F8,DDE6,DDC7,DDE0,C2E4,DDE1,DDD7,D6F8,DDD9,DDD8,B8F0,DDD6,C6CF,B6AD,DDE2,BAF9,D4E1,DDE7,B4D0,DDDA,BFFB,DDE3,DDDF,DDDD,B5D9,DDDB,DDDC,DDDE,BDAF,DDE4,DDE5,DDF5,C3C9,CBE2,DDF2,D8E1,C6D1,DDF4,D5F4,DDF3,DDF0,DDEC,DDEF,DDE8,D0EE,C8D8,DDEE,DDE9,DDEA,CBF2,DDED,B1CD,C0B6,BCBB,DDF1,DDF7,DDF6,DDEB,C5EE,DDFB,DEA4,DEA3,DDF8,C3EF,C2FB,D5E1,CEB5,DDFD,B2CC,C4E8,CADF,C7BE,DDFA,DDFC,DDFE,DEA2,B0AA,B1CE,DEAC,DEA6,BDB6,C8EF,DEA1,DEA5,DEA9,DEA8,DEA7,DEAD,D4CC,DEB3,DEAA,DEAE,C0D9,B1A1,DEB6,DEB1,DEB2,D1A6,DEB5,DEAF,DEB0,D0BD,DEB4,CAED,DEB9,DEB8,DEB7,DEBB,BDE5,B2D8,C3EA,DEBA,C5BA,DEBC,CCD9,B7AA,D4E5,DEBD,DEBF,C4A2,DEC1,DEBE,DEC0,D5BA,DEC2,F2AE,BBA2,C2B2,C5B0,C2C7,F2AF,D0E9,D3DD,EBBD,B3E6,F2B0,F2B1,CAAD,BAE7,F2B3,F2B5,F2B4,CBE4,CFBA,F2B2,CAB4,D2CF,C2EC,CEC3,F2B8,B0F6,F2B7,F2BE,B2CF,D1C1,F2BA,F2BC,D4E9,F2BB,F2B6,F2BF,F2BD,F2B9,F2C7,F2C4,F2C6,F2CA,F2C2,F2C0,F2C5,D6FB,F2C1,C7F9,C9DF,F2C8,B9C6,B5B0,F2C3,F2C9,F2D0,F2D6,BBD7,F2D5,CDDC,D6EB,F2D2,F2D4,B8F2,F2CB,F2CE,C2F9,D5DD,F2CC,F2CD,F2CF,F2D3,F2D9,D3BC,B6EA,CAF1,B7E4,F2D7,F2D8,F2DA,F2DD,F2DB,F2DC,D1D1,F2D1,CDC9,CECF,D6A9,F2E3,C3DB,F2E0,C0AF,F2EC,F2DE,F2E1,F2E8,F2E2,F2E7,F2E6,F2E9,F2DF,F2E4,F2EA,D3AC,F2E5,B2F5,F2F2,D0AB,F2F5,BBC8,F2F9,F2F0,F2F6,F2F8,F2FA,F2F3,F2F1,BAFB,B5FB,F2EF,F2F7,F2ED,F2EE,F2EB,F3A6,F3A3,F3A2,F2F4,C8DA,F2FB,F3A5,C3F8,F2FD,F3A7,F3A9,F3A4,F2FC,F3AB,F3AA,C2DD,F3AE,F3B0,F3A1,F3B1,F3AC,F3AF,F2FE,F3AD,F3B2,F3B4,F3A8,F3B3,F3B5,D0B7,F3B8,D9F9,F3B9,F3B7,C8E4,F3B6,F3BA,F3BB,B4C0,EEC3,F3BC,F3BD,D1AA,F4AC,D0C6,D0D0,D1DC,CFCE,BDD6,D1C3,BAE2,E1E9,D2C2,F1C2,B2B9,B1ED,F1C3,C9C0,B3C4,D9F2,CBA5,F1C4,D6D4,F1C5,F4C0,F1C6,D4AC,F1C7,B0C0,F4C1,F4C2,B4FC,C5DB,CCBB,D0E4,CDE0,F1C8,D9F3,B1BB,CFAE,B8A4,F1CA,F1CB,B2C3,C1D1,D7B0,F1C9,F1CC,F1CE,D9F6,D2E1,D4A3,F4C3,C8B9,F4C4,F1CD,F1CF,BFE3,F1D0,F1D4,F1D6,F1D1,C9D1,C5E1,C2E3,B9FC,F1D3,F1D5,B9D3,F1DB,BAD6,B0FD,F1D9,F1D8,F1D2,F1DA,F1D7,C8EC,CDCA,F1DD,E5BD,F1DC,F1DE,F1DF,CFE5,F4C5,BDF3,F1E0,F1E1,CEF7,D2AA,F1FB,B8B2,BCFB,B9DB,B9E6,C3D9,CAD3,EAE8,C0C0,BEF5,EAE9,EAEA,EAEB,EAEC,EAED,EAEE,EAEF,BDC7,F5FB,F5FD,F5FE,F5FC,BDE2,F6A1,B4A5,F6A2,F6A3,ECB2,D1D4,D9EA,F6A4,EEBA,D5B2,D3FE,CCDC,CAC4,E5C0,F6A5,BEAF,C6A9,DAA5,BCC6,B6A9,B8BC,C8CF,BCA5,DAA6,DAA7,CCD6,C8C3,DAA8,C6FD,D1B5,D2E9,D1B6,BCC7,BDB2,BBE4,DAA9,DAAA,D1C8,DAAB,D0ED,B6EF,C2DB,CBCF,B7ED,C9E8,B7C3,BEF7,D6A4,DAAC,DAAD,C6C0,D7E7,CAB6,D5A9,CBDF,D5EF,DAAE,D6DF,B4CA,DAB0,DAAF,D2EB,DAB1,DAB2,DAB3,CAD4,DAB4,CAAB,DAB5,DAB6,B3CF,D6EF,DAB7,BBB0,B5AE,DAB8,DAB9,B9EE,D1AF,D2E8,DABA,B8C3,CFEA,B2EF,DABB,DABC,BDEB,CEDC,D3EF,DABD,CEF3,DABE,D3D5,BBE5,DABF,CBB5,CBD0,DAC0,C7EB,D6EE,DAC1,C5B5,B6C1,DAC2,B7CC,BFCE,DAC3,DAC4,CBAD,DAC5,B5F7,DAC6,C1C2,D7BB,DAC7,CCB8,D2EA,C4B1,DAC8,B5FD,BBD1,DAC9,D0B3,DACA,DACB,CEBD,DACC,DACD,DACE,B2F7,DAD1,DACF,D1E8,DAD0,C3D5,DAD2,DAD3,DAD4,DAD5,D0BB,D2A5,B0F9,DAD6,C7AB,DAD7,BDF7,C3A1,DAD8,DAD9,C3FD,CCB7,DADA,DADB,C0BE,C6D7,DADC,DADD,C7B4,DADE,DADF,B9C8,BBED,B6B9,F4F8,F4F9,CDE3,F5B9,EBE0,CFF3,BBBF,BAC0,D4A5,E1D9,F5F4,B1AA,B2F2,F5F5,F5F7,BAD1,F5F6,C3B2,F5F9,F5F8,B1B4,D5EA,B8BA,B9B1,B2C6,D4F0,CFCD,B0DC,D5CB,BBF5,D6CA,B7B7,CCB0,C6B6,B1E1,B9BA,D6FC,B9E1,B7A1,BCFA,EADA,EADB,CCF9,B9F3,EADC,B4FB,C3B3,B7D1,BAD8,EADD,D4F4,EADE,BCD6,BBDF,EADF,C1DE,C2B8,D4DF,D7CA,EAE0,EAE1,EAE4,EAE2,EAE3,C9DE,B8B3,B6C4,EAE5,CAEA,C9CD,B4CD,E2D9,C5E2,EAE6,C0B5,D7B8,EAE7,D7AC,C8FC,D8D3,D8CD,D4DE,D4F9,C9C4,D3AE,B8D3,B3E0,C9E2,F4F6,BAD5,F4F7,D7DF,F4F1,B8B0,D5D4,B8CF,C6F0,B3C3,F4F2,B3AC,D4BD,C7F7,F4F4,F4F3,CCCB,C8A4,F4F5,D7E3,C5BF,F5C0,F5BB,F5C3,F5C2,D6BA,F5C1,D4BE,F5C4,F5CC,B0CF,B5F8,F5C9,F5CA,C5DC,F5C5,F5C6,F5C7,F5CB,BEE0,F5C8,B8FA,F5D0,F5D3,BFE7,B9F2,F5BC,F5CD,C2B7,CCF8,BCF9,F5CE,F5CF,F5D1,B6E5,F5D2,F5D5,F5BD,F5D4,D3BB,B3EC,CCA4,F5D6,F5D7,BEE1,F5D8,CCDF,F5DB,B2C8,D7D9,F5D9,F5DA,F5DC,F5E2,F5E0,F5DF,F5DD,F5E1,F5DE,F5E4,F5E5,CCE3,E5BF,B5B8,F5E3,F5E8,CCA3,F5E6,F5E7,F5BE,B1C4,F5BF,B5C5,B2E4,F5EC,F5E9,B6D7,F5ED,F5EA,F5EB,B4DA,D4EA,F5EE,B3F9,F5EF,F5F1,F5F0,F5F2,F5F3,C9ED,B9AA,C7FB,B6E3,CCC9,EAA6,B3B5,D4FE,B9EC,D0F9,E9ED,D7AA,E9EE,C2D6,C8ED,BAE4,E9EF,E9F0,E9F1,D6E1,E9F2,E9F3,E9F5,E9F4,E9F6,E9F7,C7E1,E9F8,D4D8,E9F9,BDCE,E9FA,E9FB,BDCF,E9FC,B8A8,C1BE,E9FD,B1B2,BBD4,B9F5,E9FE,EAA1,EAA2,EAA3,B7F8,BCAD,CAE4,E0CE,D4AF,CFBD,D5B7,EAA4,D5DE,EAA5,D0C1,B9BC,B4C7,B1D9,C0B1,B1E6,B1E7,B1E8,B3BD,C8E8,E5C1,B1DF,C1C9,B4EF,C7A8,D3D8,C6F9,D1B8,B9FD,C2F5,D3AD,D4CB,BDFC,E5C2,B7B5,E5C3,BBB9,D5E2,BDF8,D4B6,CEA5,C1AC,B3D9,CCF6,E5C6,E5C4,E5C8,E5CA,E5C7,B5CF,C6C8,B5FC,E5C5,CAF6,E5C9,C3D4,B1C5,BCA3,D7B7,CDCB,CBCD,CACA,CCD3,E5CC,E5CB,C4E6,D1A1,D1B7,E5CD,E5D0,CDB8,D6F0,E5CF,B5DD,CDBE,E5D1,B6BA,CDA8,B9E4,CAC5,B3D1,CBD9,D4EC,E5D2,B7EA,E5CE,E5D5,B4FE,E5D6,E5D3,E5D4,D2DD,C2DF,B1C6,D3E2,B6DD,CBEC,E5D7,D3F6,B1E9,B6F4,E5DA,E5D8,E5D9,B5C0,D2C5,E5DC,E5DE,E5DD,C7B2,D2A3,E5DB,D4E2,D5DA,E5E0,D7F1,E5E1,B1DC,D1FB,E5E2,E5E4,E5E3,E5E5,D2D8,B5CB,E7DF,DAF5,DAF8,DAF6,DAF7,DAFA,D0CF,C4C7,B0EE,D0B0,DAF9,D3CA,BAAA,DBA2,C7F1,DAFC,DAFB,C9DB,DAFD,DBA1,D7DE,DAFE,C1DA,DBA5,D3F4,DBA7,DBA4,DBA8,BDBC,C0C9,DBA3,DBA6,D6A3,DBA9,DBAD,DBAE,DBAC,BAC2,BFA4,DBAB,DBAA,D4C7,B2BF,DBAF,B9F9,DBB0,B3BB,B5A6,B6BC,DBB1,B6F5,DBB2,B1C9,DBB4,DBB3,DBB5,DBB7,DBB6,DBB8,DBB9,DBBA,D3CF,F4FA,C7F5,D7C3,C5E4,F4FC,F4FD,F4FB,BEC6,D0EF,B7D3,D4CD,CCAA,F5A2,F5A1,BAA8,F4FE,CBD6,F5A4,C0D2,B3EA,CDAA,F5A5,F5A3,BDB4,F5A8,F5A9,BDCD,C3B8,BFE1,CBE1,F5AA,F5A6,F5A7,C4F0,F5AC,B4BC,D7ED,B4D7,F5AB,F5AE,F5AD,F5AF,D0D1,C3D1,C8A9,F5B0,F5B1,F5B2,F5B3,F5B4,F5B5,F5B7,F5B6,F5B8,B2C9,D3D4,CACD,C0EF,D6D8,D2B0,C1BF,BDF0,B8AA,BCF8,F6C6,F6C7,F6C8,F6C9,F6CA,F6CC,F6CB,F7E9,F6CD,F6CE,EEC4,EEC5,EEC6,D5EB,B6A4,EEC8,EEC7,EEC9,EECA,C7A5,EECB,EECC,B7B0,B5F6,EECD,EECF,EECE,B8C6,EED0,EED1,EED2,B6DB,B3AE,D6D3,C4C6,B1B5,B8D6,EED3,EED4,D4BF,C7D5,BEFB,CED9,B9B3,EED6,EED5,EED8,EED7,C5A5,EED9,EEDA,C7AE,EEDB,C7AF,EEDC,B2A7,EEDD,EEDE,EEDF,EEE0,EEE1,D7EA,EEE2,EEE3,BCD8,EEE4,D3CB,CCFA,B2AC,C1E5,EEE5,C7A6,C3AD,EEE6,EEE7,EEE8,EEE9,EEEA,EEEB,EEEC,EEED,EEEE,EEEF,EEF0,EEF1,EEF2,EEF4,EEF3,EEF5,CDAD,C2C1,EEF6,EEF7,EEF8,D5A1,EEF9,CFB3,EEFA,EEFB,EEFC,EEFD,EFA1,EEFE,EFA2,B8F5,C3FA,EFA3,EFA4,BDC2,D2BF,B2F9,EFA5,EFA6,EFA7,D2F8,EFA8,D6FD,EFA9,C6CC,EFAA,EFAB,C1B4,EFAC,CFFA,CBF8,EFAE,EFAD,B3FA,B9F8,EFAF,EFB0,D0E2,EFB1,EFB2,B7E6,D0BF,EFB3,EFB4,EFB5,C8F1,CCE0,EFB6,EFB7,EFB8,EFB9,EFBA,D5E0,EFBB,B4ED,C3AA,EFBC,EFBD,EFBE,EFBF,CEFD,EFC0,C2E0,B4B8,D7B6,BDF5,CFC7,EFC3,EFC1,EFC2,EFC4,B6A7,BCFC,BEE2,C3CC,EFC5,EFC6,EFC7,EFCF,EFC8,EFC9,EFCA,C7C2,EFF1,B6CD,EFCB,EFCC,EFCD,B6C6,C3BE,EFCE,EFD0,EFD1,EFD2,D5F2,EFD3,C4F7,EFD4,C4F8,EFD5,EFD6,B8E4,B0F7,EFD7,EFD8,EFD9,EFDA,EFDB,EFDC,EFDD,EFDE,BEB5,EFE1,EFDF,EFE0,EFE2,EFE3,C1CD,EFE4,EFE5,EFE6,EFE7,EFE8,EFE9,EFEA,EFEB,EFEC,C0D8,EFED,C1AD,EFEE,EFEF,EFF0,CFE2,B3A4,C3C5,E3C5,C9C1,E3C6,B1D5,CECA,B4B3,C8F2,E3C7,CFD0,E3C8,BCE4,E3C9,E3CA,C3C6,D5A2,C4D6,B9EB,CEC5,E3CB,C3F6,E3CC,B7A7,B8F3,BAD2,E3CD,E3CE,D4C4,E3CF,E3D0,D1CB,E3D1,E3D2,E3D3,E3D4,D1D6,E3D5,B2FB,C0BB,E3D6,C0AB,E3D7,E3D8,E3D9,E3DA,E3DB,B8B7,DAE2,B6D3,DAE4,DAE3,DAE6,C8EE,DAE5,B7C0,D1F4,D2F5,D5F3,BDD7,D7E8,DAE8,DAE7,B0A2,CDD3,DAE9,B8BD,BCCA,C2BD,C2A4,B3C2,DAEA,C2AA,C4B0,BDB5,CFDE,DAEB,C9C2,B1DD,DAEC,B6B8,D4BA,B3FD,DAED,D4C9,CFD5,C5E3,DAEE,DAEF,DAF0,C1EA,CCD5,CFDD,D3E7,C2A1,DAF1,CBE5,DAF2,CBE6,D2FE,B8F4,DAF3,B0AF,CFB6,D5CF,CBED,DAF4,E3C4,C1A5,F6BF,F6C0,F6C1,C4D1,C8B8,D1E3,D0DB,D1C5,BCAF,B9CD,EFF4,B4C6,D3BA,F6C2,B3FB,F6C3,B5F1,F6C5,D3EA,F6A7,D1A9,F6A9,F6A8,C1E3,C0D7,B1A2,CEED,D0E8,F6AB,CFF6,F6AA,D5F0,F6AC,C3B9,BBF4,F6AE,F6AD,C4DE,C1D8,CBAA,CFBC,F6AF,F6B0,F6B1,C2B6,B0D4,C5F9,F6B2,C7E0,F6A6,BEB8,BEB2,B5E5,B7C7,BFBF,C3D2,C3E6,D8CC,B8EF,BDF9,D1A5,B0D0,F7B0,F7B1,D0AC,B0B0,F7B2,F7B3,F7B4,C7CA,BECF,F7B7,F7B6,B1DE,F7B5,F7B8,F7B9,CEA4,C8CD,BAAB,E8B8,E8B9,E8BA,BEC2,D2F4,D4CF,C9D8,D2B3,B6A5,C7EA,F1FC,CFEE,CBB3,D0EB,E7EF,CDE7,B9CB,B6D9,F1FD,B0E4,CBCC,F1FE,D4A4,C2AD,C1EC,C6C4,BEB1,F2A1,BCD5,F2A2,F2A3,F2A4,D2C3,C6B5,CDC7,F2A5,D3B1,BFC5,CCE2,F2A6,F2A7,D1D5,B6EE,F2A8,F2A9,B5DF,F2AA,F2AB,B2FC,F2AC,F2AD,C8A7,B7E7,ECA9,ECAA,ECAB,ECAC,C6AE,ECAD,ECAE,B7C9,CAB3,E2B8,F7CF,F7D0,B2CD,F7D1,F7D3,F7D2,E2BB,BCA2,E2BC,E2BD,E2BE,E2BF,E2C0,E2C1,B7B9,D2FB,BDA4,CACE,B1A5,CBC7,E2C2,B6FC,C8C4,E2C3,BDC8,B1FD,E2C4,B6F6,E2C5,C4D9,E2C6,CFDA,B9DD,E2C7,C0A1,E2C8,B2F6,E2C9,C1F3,E2CA,E2CB,C2F8,E2CC,E2CD,E2CE,CAD7,D8B8,D9E5,CFE3,F0A5,DCB0,C2ED,D4A6,CDD4,D1B1,B3DB,C7FD,B2B5,C2BF,E6E0,CABB,E6E1,E6E2,BED4,E6E3,D7A4,CDD5,E6E5,BCDD,E6E4,E6E6,E6E7,C2EE,BDBE,E6E8,C2E6,BAA7,E6E9,E6EA,B3D2,D1E9,BFA5,E6EB,C6EF,E6EC,E6ED,E6EE,C6AD,E6EF,C9A7,E6F0,E6F1,E6F2,E5B9,E6F3,E6F4,C2E2,E6F5,E6F6,D6E8,E6F7,E6F8,B9C7,F7BB,F7BA,F7BE,F7BC,BAA1,F7BF,F7C0,F7C2,F7C1,F7C4,F7C3,F7C5,F7C6,F7C7,CBE8,B8DF,F7D4,F7D5,F7D6,F7D8,F7DA,F7D7,F7DB,F7D9,D7D7,F7DC,F7DD,F7DE,F7DF,F7E0,DBCB,D8AA,E5F7,B9ED,BFFD,BBEA,F7C9,C6C7,F7C8,F7CA,F7CC,F7CB,F7CD,CEBA,F7CE,C4A7,D3E3,F6CF,C2B3,F6D0,F6D1,F6D2,F6D3,F6D4,F6D6,B1AB,F6D7,F6D8,F6D9,F6DA,F6DB,F6DC,F6DD,F6DE,CFCA,F6DF,F6E0,F6E1,F6E2,F6E3,F6E4,C0F0,F6E5,F6E6,F6E7,F6E8,F6E9,F6EA,F6EB,F6EC,F6ED,F6EE,F6EF,F6F0,F6F1,F6F2,F6F3,F6F4,BEA8,F6F5,F6F6,F6F7,F6F8,C8FA,F6F9,F6FA,F6FB,F6FC,F6FD,F6FE,F7A1,F7A2,F7A3,F7A4,F7A5,F7A6,F7A7,F7A8,B1EE,F7A9,F7AA,F7AB,F7AC,F7AD,C1DB,F7AE,F7AF,C4F1,F0AF,BCA6,F0B0,C3F9,C5B8,D1BB,F0B1,F0B2,F0B3,F0B4,F0B5,D1BC,D1EC,F0B7,F0B6,D4A7,CDD2,F0B8,F0BA,F0B9,F0BB,F0BC,B8EB,F0BD,BAE8,F0BE,F0BF,BEE9,F0C0,B6EC,F0C1,F0C2,F0C3,F0C4,C8B5,F0C5,F0C6,F0C7,C5F4,F0C8,F0C9,F0CA,F7BD,F0CB,F0CC,F0CD,F0CE,F0CF,BAD7,F0D0,F0D1,F0D2,F0D3,F0D4,F0D5,F0D6,F0D8,D3A5,F0D7,F0D9,F5BA,C2B9,F7E4,F7E5,F7E6,F7E7,F7E8,C2B4,F7EA,F7EB,C2F3,F4F0,F4EF,C2E9,F7E1,F7E2,BBC6,D9E4,CAF2,C0E8,F0A4,BADA,C7AD,C4AC,F7EC,F7ED,F7EE,F7F0,F7EF,F7F1,F7F4,F7F3,F7F2,F7F5,F7F6,EDE9,EDEA,EDEB,F6BC,F6BD,F6BE,B6A6,D8BE,B9C4,D8BB,DCB1,CAF3,F7F7,F7F8,F7F9,F7FB,F7FA,B1C7,F7FC,F7FD,F7FE,C6EB,ECB4,B3DD,F6B3,F6B4,C1E4,F6B5,F6B6,F6B7,F6B8,F6B9,F6BA,C8A3,F6BB,C1FA,B9A8,EDE8,B9EA,D9DF,A3A1,A3A2,A3A3,A1E7,A3A5,A3A6,A3A7,A3A8,A3A9,A3AA,A3AB,A3AC,A3AD,A3AE,A3AF,A3B0,A3B1,A3B2,A3B3,A3B4,A3B5,A3B6,A3B7,A3B8,A3B9,A3BA,A3BB,A3BC,A3BD,A3BE,A3BF,A3C0,A3C1,A3C2,A3C3,A3C4,A3C5,A3C6,A3C7,A3C8,A3C9,A3CA,A3CB,A3CC,A3CD,A3CE,A3CF,A3D0,A3D1,A3D2,A3D3,A3D4,A3D5,A3D6,A3D7,A3D8,A3D9,A3DA,A3DB,A3DC,A3DD,A3DE,A3DF,A3E0,A3E1,A3E2,A3E3,A3E4,A3E5,A3E6,A3E7,A3E8,A3E9,A3EA,A3EB,A3EC,A3ED,A3EE,A3EF,A3F0,A3F1,A3F2,A3F3,A3F4,A3F5,A3F6,A3F7,A3F8,A3F9,A3FA,A3FB,A3FC,A3FD,A1AB,A1E9,A1EA,A3FE,A3A4"},_u2a_char:function(n){var t=n.toString(16),i;return t="000"+t.toUpperCase(),t=t.substr(t.length-4),i=this._unicode().indexOf(t),i!=-1&&(t=this._ansicode().substr(i,4)),parseInt(t,16)},_a2u_char:function(n){var t=n.toString(16),i;return t="000"+t.toUpperCase(),t=t.substr(t.length-4),i=this._ansicode().indexOf(t),i!=-1&&(t=this._unicode().substr(i,4)),parseInt(t,16)},_u2a:function(n){for(var t,i,f,e=n.length,r="",u=0;u<e;u++)t=n.charCodeAt(u),t<0&&(t+=65536),t>127&&(t=this._u2a_char(t)),t>255?(i=t&65280,i=i>>8,f=t&255,r+=String.fromCharCode(i)+String.fromCharCode(f)):r+=String.fromCharCode(t);return r},_a2u:function(n){for(var i,f=n.length,r="",u,t=0;t<f;t++)i=n.charCodeAt(t),u=i>127?this._a2u_char((i<<8)+n.charCodeAt(++t)):i,r+=String.fromCharCode(u);return r}};
//# sourceMappingURL=jquery.base64.min.js.map

///#source 1 1 /h5/libraries/jquery.cookie.min.js
/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(n){n.cookie=function(t,i,r){var l,o,s,h,e,u,f,a,c;if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||i===null||i===undefined))return r=n.extend({},r),(i===null||i===undefined)&&(r.expires=-1),typeof r.expires=="number"&&(l=r.expires,o=r.expires=new Date,o.setDate(o.getDate()+l)),i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("");for(r=i||{},s=r.raw?function(n){return n}:decodeURIComponent,h=document.cookie.split("; "),e=0;e<h.length;e++)if(u=h[e],f=u.indexOf("="),f>0&&(a=u.substr(0,f),c="",u.length-f>1&&(c=u.substr(f+1,u.length-f-1)),s(a)===t))return s(c||"");return null}})(jQuery);
//# sourceMappingURL=jquery.cookie.min.js.map

///#source 1 1 /h5/libraries/jquery.xml2json.min.js
window.jQuery&&function(n){n.extend({xml2json:function(t,i){function f(t,e){var h;if(!t)return null;var s="",o=null,c=null,l=t.nodeType,a=u(t.localName||t.nodeName),v=t.text||t.nodeValue||"";return t.childNodes&&t.childNodes.length>0&&n.each(t.childNodes,function(n,t){var e=t.nodeType,i=u(t.localName||t.nodeName),h=t.text||t.nodeValue||"";if(e!=8)if(e!=3&&e!=4&&i)o=o||{},o[i]?(o[i].length||(o[i]=r(o[i])),o[i]=r(o[i]),o[i][o[i].length]=f(t,!0),o[i].length=o[i].length):o[i]=f(t);else{if(h.match(/^\s+$/))return;s+=h.replace(/^\s+/,"").replace(/\s+$/,"")}}),t.attributes&&t.attributes.length>0&&(c={},o=o||{},n.each(t.attributes,function(n,t){var i=u(t.name),f=t.value;c[i]=f;o[i]?(o[cnn]=r(o[cnn]),o[i][o[i].length]=f,o[i].length=o[i].length):o[i]=f})),o&&(o=n.extend(s!=""?new String(s):{},o||{}),s=o.text?[o.text||""].concat([s]):s,s&&(o.text=s),s=""),h=o||s,i&&(s&&(h={}),s=h.text||s||"",s&&(h.text=s),e||(h=r(h))),h}var u,r,e,o;return t?(u=function(n){return String(n||"").replace(/-/g,"_")},r=function(t){return n.isArray(t)||(t=[t]),t.length=t.length,t},typeof t=="string"&&(t=n.text2xml(t)),!t.nodeType)?void 0:t.nodeType==3||t.nodeType==4?t.nodeValue:(e=t.nodeType==9?t.documentElement:t,o=f(e,!0),t=null,e=null,o):{}},text2xml:function(t){return n.parseXML(t)}})}(jQuery);
//# sourceMappingURL=jquery.xml2json.min.js.map

///#source 1 1 /h5/libraries/jquery-dotdotdot/jquery.dotdotdot.min.js
(function(n,t){function v(n,t,r){var e=n.children(),o=!1,u,s,f;for(n.empty(),u=0,s=e.length;u<s;u++)if(f=e.eq(u),n.append(f),r&&n.append(r),i(n,t)){f.remove();o=!0;break}else r&&r.detach();return o}function e(t,r,u,f,o){var s=!1,h="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",c="script, .dotdotdot-keep";return t.contents().detach().each(function(){var a=this,l=n(a);if(typeof a=="undefined")return!0;if(l.is(c))t.append(l);else{if(s)return!0;t.append(l);!o||l.is(f.after)||l.find(f.after).length||t[t.is(h)?"after":"append"](o);i(u,f)&&(s=a.nodeType==3?y(l,r,u,f,o):e(l,r,u,f,o),s||(l.detach(),s=!0));s||o&&o.detach()}}),r.addClass("is-truncated"),s}function y(t,f,e,s,c){var l=t[0],nt,k,d;if(!l)return!1;var y=h(l),tt=y.indexOf(" ")!==-1?" ":"",p=s.wrap=="letter"?"":tt,a=y.split(p),g=-1,w=-1,b=0,v=a.length-1;for(s.fallbackToLetter&&b==0&&v==0&&(p="",a=y.split(p),v=a.length-1);b<=v&&!(b==0&&v==0);){if(nt=Math.floor((b+v)/2),nt==w)break;w=nt;u(l,a.slice(0,w+1).join(p)+s.ellipsis);e.children().each(function(){n(this).toggle().toggle()});i(e,s)?(v=w,s.fallbackToLetter&&b==0&&v==0&&(p="",a=a[0].split(p),g=-1,w=-1,b=0,v=a.length-1)):(g=w,b=w)}return g==-1||a.length==1&&a[0].length==0?(k=t.parent(),t.detach(),d=c&&c.closest(k).length?c.length:0,k.contents().length>d?l=r(k.contents().eq(-1-d),f):(l=r(k,f,!0),d||k.detach()),l&&(y=o(h(l),s),u(l,y),d&&c&&n(l).parent().append(c))):(y=o(a.slice(0,g+1).join(p),s),u(l,y)),!0}function i(n,t){return n.innerHeight()>t.maxHeight}function o(t,i){while(n.inArray(t.slice(-1),i.lastCharacter.remove)>-1)t=t.slice(0,-1);return n.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function s(n){return{width:n.innerWidth(),height:n.innerHeight()}}function u(n,t){n.innerText?n.innerText=t:n.nodeValue?n.nodeValue=t:n.textContent&&(n.textContent=t)}function h(n){return n.innerText?n.innerText:n.nodeValue?n.nodeValue:n.textContent?n.textContent:""}function c(n){do n=n.previousSibling;while(n&&n.nodeType!==1&&n.nodeType!==3);return n}function r(t,i,u){var e=t&&t[0],f;if(e){if(!u){if(e.nodeType===3)return e;if(n.trim(t.text()))return r(t.contents().last(),i)}for(f=c(e);!f;){if(t=t.parent(),t.is(i)||!t.length)return!1;f=c(t[0])}if(f)return r(n(f),i)}return!1}function p(t,i){return t?typeof t=="string"?(t=n(t,i),t.length?t:!1):t.jquery?t:!1:!1}function w(n){for(var t,r=n.innerHeight(),u=["paddingTop","paddingBottom"],i=0,f=u.length;i<f;i++)t=parseInt(n.css(u[i]),10),isNaN(t)&&(t=0),r-=t;return r}var f,l,a;n.fn.dotdotdot||(n.fn.dotdotdot=function(t){var r;if(this.length==0)return n.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){n(this).dotdotdot(t)});r=this;r.data("dotdotdot")&&r.trigger("destroy.dot");r.data("dotdotdot-style",r.attr("style")||"");r.css("word-wrap","break-word");r.css("white-space")==="nowrap"&&r.css("white-space","normal");r.bind_events=function(){return r.bind("update.dot",function(t,f){r.removeClass("is-truncated");t.preventDefault();t.stopPropagation();switch(typeof u.height){case"number":u.maxHeight=u.height;break;case"function":u.maxHeight=u.height.call(r[0]);break;default:u.maxHeight=w(r)}u.maxHeight+=u.tolerance;typeof f!="undefined"&&((typeof f=="string"||"nodeType"in f&&f.nodeType===1)&&(f=n("<div />").append(f).contents()),f instanceof n&&(c=f));h=r.wrapInner('<div class="dotdotdot" />').children();h.contents().detach().end().append(c.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var s=!1,l=!1;return o.afterElement&&(s=o.afterElement.clone(!0),s.show(),o.afterElement.detach()),i(h,u)&&(l=u.wrap=="children"?v(h,u,s):e(h,r,h,u,s)),h.replaceWith(h.contents()),h=null,n.isFunction(u.callback)&&u.callback.call(r[0],l,c),o.isTruncated=l,l}).bind("isTruncated.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],o.isTruncated),o.isTruncated}).bind("originalContent.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],c),c}).bind("destroy.dot",function(n){n.preventDefault();n.stopPropagation();r.unwatch().unbind_events().contents().detach().end().append(c).attr("style",r.data("dotdotdot-style")||"").data("dotdotdot",!1)}),r};r.unbind_events=function(){return r.unbind(".dot"),r};r.watch=function(){if(r.unwatch(),u.watch=="window"){var t=n(window),i=t.width(),f=t.height();t.bind("resize.dot"+o.dotId,function(){i==t.width()&&f==t.height()&&u.windowResizeFix||(i=t.width(),f=t.height(),l&&clearInterval(l),l=setTimeout(function(){r.trigger("update.dot")},100))})}else a=s(r),l=setInterval(function(){if(r.is(":visible")){var n=s(r);(a.width!=n.width||a.height!=n.height)&&(r.trigger("update.dot"),a=n)}},500);return r};r.unwatch=function(){return n(window).unbind("resize.dot"+o.dotId),l&&clearInterval(l),r};var c=r.contents(),u=n.extend(!0,{},n.fn.dotdotdot.defaults,t),o={},a={},l=null,h=null;return u.lastCharacter.remove instanceof Array||(u.lastCharacter.remove=n.fn.dotdotdot.defaultArrays.lastCharacter.remove),u.lastCharacter.noEllipsis instanceof Array||(u.lastCharacter.noEllipsis=n.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),o.afterElement=p(u.after,r),o.isTruncated=!1,o.dotId=f++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),u.watch&&r.watch(),r},n.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},n.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},n.fn.dotdotdot.debug=function(){},f=1,l=n.fn.html,n.fn.html=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):l.apply(this,arguments)},a=n.fn.text,n.fn.text=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?(i=n("<div />").text(i).html(),this.trigger("update",[i])):a.apply(this,arguments)})})(jQuery);
//# sourceMappingURL=jquery.dotdotdot.min.js.map

///#source 1 1 /H5/libraries/jquery.mousewheel.js
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */

(function (factory) {
    if ( typeof define === 'function' && define.amd ) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        // Node/CommonJS style for Browserify
        module.exports = factory;
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function ($) {

    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],
        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?
                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],
        slice  = Array.prototype.slice,
        nullLowestDeltaTimeout, lowestDelta;

    if ( $.event.fixHooks ) {
        for ( var i = toFix.length; i; ) {
            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;
        }
    }

    var special = $.event.special.mousewheel = {
        version: '3.1.12',

        setup: function() {
            if ( this.addEventListener ) {
                for ( var i = toBind.length; i; ) {
                    this.addEventListener( toBind[--i], handler, false );
                }
            } else {
                this.onmousewheel = handler;
            }
            // Store the line height and page height for this particular element
            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));
            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));
        },

        teardown: function() {
            if ( this.removeEventListener ) {
                for ( var i = toBind.length; i; ) {
                    this.removeEventListener( toBind[--i], handler, false );
                }
            } else {
                this.onmousewheel = null;
            }
            // Clean up the data we added to the element
            $.removeData(this, 'mousewheel-line-height');
            $.removeData(this, 'mousewheel-page-height');
        },

        getLineHeight: function(elem) {
            var $elem = $(elem),
                $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();
            if (!$parent.length) {
                $parent = $('body');
            }
            return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;
        },

        getPageHeight: function(elem) {
            return $(elem).height();
        },

        settings: {
            adjustOldDeltas: true, // see shouldAdjustOldDeltas() below
            normalizeOffset: true  // calls getBoundingClientRect for each event
        }
    };

    $.fn.extend({
        mousewheel: function(fn) {
            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');
        },

        unmousewheel: function(fn) {
            return this.unbind('mousewheel', fn);
        }
    });


    function handler(event) {
        var orgEvent   = event || window.event,
            args       = slice.call(arguments, 1),
            delta      = 0,
            deltaX     = 0,
            deltaY     = 0,
            absDelta   = 0,
            offsetX    = 0,
            offsetY    = 0;
        event = $.event.fix(orgEvent);
        event.type = 'mousewheel';

        // Old school scrollwheel delta
        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }
        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }
        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }
        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }

        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event
        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {
            deltaX = deltaY * -1;
            deltaY = 0;
        }

        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy
        delta = deltaY === 0 ? deltaX : deltaY;

        // New school wheel delta (wheel event)
        if ( 'deltaY' in orgEvent ) {
            deltaY = orgEvent.deltaY * -1;
            delta  = deltaY;
        }
        if ( 'deltaX' in orgEvent ) {
            deltaX = orgEvent.deltaX;
            if ( deltaY === 0 ) { delta  = deltaX * -1; }
        }

        // No change actually happened, no reason to go any further
        if ( deltaY === 0 && deltaX === 0 ) { return; }

        // Need to convert lines and pages to pixels if we aren't already in pixels
        // There are three delta modes:
        //   * deltaMode 0 is by pixels, nothing to do
        //   * deltaMode 1 is by lines
        //   * deltaMode 2 is by pages
        if ( orgEvent.deltaMode === 1 ) {
            var lineHeight = $.data(this, 'mousewheel-line-height');
            delta  *= lineHeight;
            deltaY *= lineHeight;
            deltaX *= lineHeight;
        } else if ( orgEvent.deltaMode === 2 ) {
            var pageHeight = $.data(this, 'mousewheel-page-height');
            delta  *= pageHeight;
            deltaY *= pageHeight;
            deltaX *= pageHeight;
        }

        // Store lowest absolute delta to normalize the delta values
        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );

        if ( !lowestDelta || absDelta < lowestDelta ) {
            lowestDelta = absDelta;

            // Adjust older deltas if necessary
            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                lowestDelta /= 40;
            }
        }

        // Adjust older deltas if necessary
        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
            // Divide all the things by 40!
            delta  /= 40;
            deltaX /= 40;
            deltaY /= 40;
        }

        // Get a whole, normalized value for the deltas
        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);
        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);
        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);

        // Normalise offsetX and offsetY properties
        if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {
            var boundingRect = this.getBoundingClientRect();
            offsetX = event.clientX - boundingRect.left;
            offsetY = event.clientY - boundingRect.top;
        }

        // Add information to the event object
        event.deltaX = deltaX;
        event.deltaY = deltaY;
        event.deltaFactor = lowestDelta;
        event.offsetX = offsetX;
        event.offsetY = offsetY;
        // Go ahead and set deltaMode to 0 since we converted to pixels
        // Although this is a little odd since we overwrite the deltaX/Y
        // properties with normalized deltas.
        event.deltaMode = 0;

        // Add event and delta to the front of the arguments
        args.unshift(event, delta, deltaX, deltaY);

        // Clearout lowestDelta after sometime to better
        // handle multiple device types that give different
        // a different lowestDelta
        // Ex: trackpad = 3 and mouse wheel = 120
        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }
        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);

        return ($.event.dispatch || $.event.handle).apply(this, args);
    }

    function nullLowestDelta() {
        lowestDelta = null;
    }

    function shouldAdjustOldDeltas(orgEvent, absDelta) {
        // If this is an older event and the delta is divisable by 120,
        // then we are assuming that the browser is treating this as an
        // older mouse wheel event and that we should divide the deltas
        // by 40 to try and get a more usable deltaFactor.
        // Side note, this actually impacts the reported scroll distance
        // in older browsers and can cause scrolling to be slower than native.
        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.
        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;
    }

}));
///#source 1 1 /h5/libraries/angular/angular.min.js
/**
 * @license AngularJS v1.4.1
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t,i){"use strict";function y(n,t){return t=t||Error,function(){var f=2,i=arguments,o=i[0],u="["+(n?n+":":"")+o+"] ",s=i[1],e,r;for(u+=s.replace(/\{\d+\}/g,function(n){var r=+n.slice(1,-1),t=r+f;return t<i.length?fs(i[t]):n}),u+="\nhttp://errors.angularjs.org/1.4.1/"+(n?n+"/":"")+o,r=f,e="?";r<i.length;r++,e="&")u+=e+"p"+(r-f)+"="+encodeURIComponent(fs(i[r]));return new t(u)}}function ei(n){if(n==null||or(n))return!1;var t="length"in Object(n)&&n.length;return n.nodeType===wt&&t?!0:l(n)||a(n)||t===0||typeof t=="number"&&t>0&&t-1 in n}function r(n,t,i){var u,f,e;if(n)if(c(n))for(u in n)u!="prototype"&&u!="length"&&u!="name"&&(!n.hasOwnProperty||n.hasOwnProperty(u))&&t.call(i,n[u],u,n);else if(a(n)||ei(n))for(e=typeof n!="object",u=0,f=n.length;u<f;u++)(e||u in n)&&t.call(i,n[u],u,n);else if(n.forEach&&n.forEach!==r)n.forEach(t,i,n);else if(co(n))for(u in n)t.call(i,n[u],u,n);else if(typeof n.hasOwnProperty=="function")for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n);else for(u in n)tr.call(n,u)&&t.call(i,n[u],u,n);return n}function oo(n,t,i){for(var r=Object.keys(n).sort(),u=0;u<r.length;u++)t.call(i,n[r[u]],r[u]);return r}function so(n){return function(t,i){n(i,t)}}function eu(){return++ta}function ho(n,t){t?n.$$hashKey=t:delete n.$$hashKey}function cf(n,t,i){for(var u,h,e,l,r,f,v=n.$$hashKey,o=0,y=t.length;o<y;++o)if(u=t[o],s(u)||c(u))for(h=Object.keys(u),e=0,l=h.length;e<l;e++)r=h[e],f=u[r],i&&s(f)?(s(n[r])||(n[r]=a(f)?[]:{}),cf(n[r],[f],!0)):n[r]=f;return ho(n,v),n}function w(n){return cf(n,rr.call(arguments,1),!1)}function ia(n){return cf(n,rr.call(arguments,1),!0)}function it(n){return parseInt(n,10)}function lf(n,t){return w(Object.create(n),t)}function o(){}function fr(n){return n}function pt(n){return function(){return n}}function h(n){return typeof n=="undefined"}function e(n){return typeof n!="undefined"}function s(n){return n!==null&&typeof n=="object"}function co(n){return n!==null&&typeof n=="object"&&!eo(n)}function l(n){return typeof n=="string"}function k(n){return typeof n=="number"}function ot(n){return ti.call(n)==="[object Date]"}function c(n){return typeof n=="function"}function er(n){return ti.call(n)==="[object RegExp]"}function or(n){return n&&n.window===n}function sr(n){return n&&n.$evalAsync&&n.$watch}function ra(n){return ti.call(n)==="[object File]"}function ua(n){return ti.call(n)==="[object FormData]"}function fa(n){return ti.call(n)==="[object Blob]"}function hr(n){return typeof n=="boolean"}function ou(n){return n&&c(n.then)}function ao(n){return lo.test(ti.call(n))}function vo(n){return!!(n&&(n.nodeName||n.prop&&n.attr&&n.find))}function ea(n){for(var i={},r=n.split(","),t=0;t<r.length;t++)i[r[t]]=!0;return i}function bt(n){return v(n.nodeName||n[0]&&n[0].nodeName)}function cr(n,t){var i=n.indexOf(t);return i>=0&&n.splice(i,1),i}function ct(n,t,i,u){var o,h,f,e,c;if(or(n)||sr(n))throw fi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(ao(t))throw fi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t){if(n===t)throw fi("cpi","Can't copy! Source and destination are identical.");if(i=i||[],u=u||[],s(n)&&(i.push(n),u.push(t)),a(n))for(t.length=0,e=0;e<n.length;e++)t.push(ct(n[e],null,i,u));else{if(c=t.$$hashKey,a(t)?t.length=0:r(t,function(n,i){delete t[i]}),co(n))for(f in n)t[f]=ct(n[f],null,i,u);else if(n&&typeof n.hasOwnProperty=="function")for(f in n)n.hasOwnProperty(f)&&(t[f]=ct(n[f],null,i,u));else for(f in n)tr.call(n,f)&&(t[f]=ct(n[f],null,i,u));ho(t,c)}}else if(t=n,s(n)){if(i&&(o=i.indexOf(n))!==-1)return u[o];if(a(n))return ct(n,[],i,u);if(ao(n))t=new n.constructor(n);else if(ot(n))t=new Date(n.getTime());else if(er(n))t=new RegExp(n.source,n.toString().match(/[^\/]*$/)[0]),t.lastIndex=n.lastIndex;else return h=Object.create(eo(n)),ct(n,h,i,u);u&&(i.push(n),u.push(t))}return t}function lt(n,t){var i,u,r;if(a(n))for(t=t||[],i=0,u=n.length;i<u;i++)t[i]=n[i];else if(s(n)){t=t||{};for(r in n)r.charAt(0)==="$"&&r.charAt(1)==="$"||(t[r]=n[r])}return t||n}function st(n,t){if(n===t)return!0;if(n===null||t===null)return!1;if(n!==n&&t!==t)return!0;var f=typeof n,o=typeof t,e,r,u;if(f==o&&f=="object")if(a(n)){if(!a(t))return!1;if((e=n.length)==t.length){for(r=0;r<e;r++)if(!st(n[r],t[r]))return!1;return!0}}else{if(ot(n))return ot(t)?st(n.getTime(),t.getTime()):!1;if(er(n))return er(t)?n.toString()==t.toString():!1;if(sr(n)||sr(t)||or(n)||or(t)||a(t)||ot(t)||er(t))return!1;u=rt();for(r in n)if(r.charAt(0)!=="$"&&!c(n[r])){if(!st(n[r],t[r]))return!1;u[r]=!0}for(r in t)if(!(r in u)&&r.charAt(0)!=="$"&&t[r]!==i&&!c(t[r]))return!1;return!0}return!1}function ar(n,t,i){return n.concat(rr.call(t,i))}function vr(n,t){return rr.call(n,t||0)}function yo(n,t){var i=arguments.length>2?vr(arguments,2):[];return!c(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(n,ar(i,arguments,0)):t.apply(n,i)}:function(){return arguments.length?t.apply(n,arguments):t.call(n)}}function po(n,r){var u=r;return typeof n=="string"&&n.charAt(0)==="$"&&n.charAt(1)==="$"?u=i:or(r)?u="$WINDOW":r&&t===r?u="$DOCUMENT":sr(r)&&(u="$SCOPE"),u}function yr(n,t){return typeof n=="undefined"?i:(k(t)||(t=t?2:null),JSON.stringify(n,po,t))}function wo(n){return l(n)?JSON.parse(n):n}function bo(n,t){var i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(i)?t:i}function oa(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function vf(n,t,i){i=i?-1:1;var r=bo(t,n.getTimezoneOffset());return oa(n,i*(r-n.getTimezoneOffset()))}function kt(n){n=f(n).clone();try{n.empty()}catch(i){}var t=f("<div>").append(n).html();try{return n[0].nodeType===di?v(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(n,t){return"<"+v(t)})}catch(i){return v(t)}}function ko(n){try{return decodeURIComponent(n)}catch(t){}}function go(n){var i={},u,t;return r((n||"").split("&"),function(n){if(n&&(u=n.replace(/\+/g,"%20").split("="),t=ko(u[0]),e(t))){var r=e(u[1])?ko(u[1]):!0;tr.call(i,t)?a(i[t])?i[t].push(r):i[t]=[i[t],r]:i[t]=r}}),i}function yf(n){var t=[];return r(n,function(n,i){a(n)?r(n,function(n){t.push(at(i,!0)+(n===!0?"":"="+at(n,!0)))}):t.push(at(i,!0)+(n===!0?"":"="+at(n,!0)))}),t.length?t.join("&"):""}function su(n){return at(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function at(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function sa(n,t){for(var i,u=oi.length,r=0;r<u;++r)if(i=oi[r]+t,l(i=n.getAttribute(i)))return i;return null}function ha(n,t){var i,u,f={};r(oi,function(t){var r=t+"app";!i&&n.hasAttribute&&n.hasAttribute(r)&&(i=n,u=n.getAttribute(r))});r(oi,function(t){var f=t+"app",r;!i&&(r=n.querySelector("["+f.replace(":","\\:")+"]"))&&(i=r,u=r.getAttribute(f))});i&&(f.strictDi=sa(i,"strict-di")!==null,t(i,u?[u]:[],f))}function ns(i,u,e){var o;s(e)||(e={});o={strictDi:!1};e=w(o,e);var h=function(){var r,n;if(i=f(i),i.injector()){r=i[0]===t?"document":kt(i);throw fi("btstrpd","App Already Bootstrapped with this Element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"));}return u=u||[],u.unshift(["$provide",function(n){n.value("$rootElement",i)}]),e.debugInfoEnabled&&u.push(["$compileProvider",function(n){n.debugInfoEnabled(!0)}]),u.unshift("ng"),n=dr(u,e.strictDi),n.invoke(["$rootScope","$rootElement","$compile","$injector",function(n,t,i,r){n.$apply(function(){t.data("$injector",r);i(t)(n)})}]),n},l=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(n&&l.test(n.name)&&(e.debugInfoEnabled=!0,n.name=n.name.replace(l,"")),n&&!a.test(n.name))return h();n.name=n.name.replace(a,"");ft.resumeBootstrap=function(n){return r(n,function(n){u.push(n)}),h()};c(ft.resumeDeferredBootstrap)&&ft.resumeDeferredBootstrap()}function ca(){n.name="NG_ENABLE_DEBUG_INFO!"+n.name;n.location.reload()}function la(n){var t=ft.element(n).injector();if(!t)throw fi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function is(n,t){return t=t||"_",n.replace(ts,function(n,i){return(i?t:"")+n.toLowerCase()})}function aa(){var r,t;pf||(t=lr(),et=n.jQuery,e(t)&&(et=t===null?i:n[t]),et&&et.fn.on?(f=et,w(et.fn,{scope:si.scope,isolateScope:si.isolateScope,controller:si.controller,injector:si.injector,inheritedData:si.inheritedData}),r=et.cleanData,et.cleanData=function(n){var t,i,u;if(wf)wf=!1;else for(i=0;(u=n[i])!=null;i++)t=et._data(u,"events"),t&&t.$destroy&&et(u).triggerHandler("$destroy");r(n)}):f=b,ft.element=f,pf=!0)}function bf(n,t,i){if(!n)throw fi("areq","Argument '{0}' is {1}",t||"?",i||"required");return n}function bi(n,t,i){return i&&a(n)&&(n=n[n.length-1]),bf(c(n),t,"not a function, got "+(n&&typeof n=="object"?n.constructor.name||"Object":typeof n)),n}function ki(n,t){if(n==="hasOwnProperty")throw fi("badname","hasOwnProperty is not a valid {0} name",t);}function rs(n,t,i){var r;if(!t)return n;var u=t.split("."),f,e=n,o=u.length;for(r=0;r<o;r++)f=u[r],n&&(n=(e=n)[f]);return!i&&c(n)?yo(e,n):n}function hu(n){var t=n[0],r=n[n.length-1],i=[t];do{if(t=t.nextSibling,!t)break;i.push(t)}while(t!==r);return f(i)}function rt(){return Object.create(null)}function ya(n){function t(n,t,i){return n[t]||(n[t]=i())}var r=y("$injector"),u=y("ng"),i=t(n,"angular",Object);return i.$$minErr=i.$$minErr||y,t(i,"module",function(){var n={};return function(i,f,e){var o=function(n,t){if(n==="hasOwnProperty")throw u("badname","hasOwnProperty is not a valid {0} name",t);};return o(i,"module"),f&&n.hasOwnProperty(i)&&(n[i]=null),t(n,i,function(){function o(n,i,r,f){return f||(f=t),function(){return f[r||"push"]([n,i,arguments]),u}}function n(n,r){return function(f,e){return e&&c(e)&&(e.$$moduleName=i),t.push([n,r,arguments]),u}}if(!f)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],s=[],h=[],l=o("$injector","invoke","push",s),u={_invokeQueue:t,_configBlocks:s,_runBlocks:h,requires:f,name:i,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:o("$provide","value"),constant:o("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),config:l,run:function(n){return h.push(n),this}};return e&&l(e),u})}})}function pa(n){var t=[];return JSON.stringify(n,function(n,i){if(i=po(n,i),s(i)){if(t.indexOf(i)>=0)return"<<already seen>>";t.push(i)}return i})}function fs(n){return typeof n=="function"?n.toString().replace(/ \{[\s\S]*$/,""):typeof n=="undefined"?"undefined":typeof n!="string"?pa(n):n}function wa(t){w(t,{bootstrap:ns,copy:ct,extend:w,merge:ia,equals:st,element:f,forEach:r,injector:dr,noop:o,bind:yo,toJson:yr,fromJson:wo,identity:fr,isUndefined:h,isDefined:e,isString:l,isFunction:c,isObject:s,isNumber:k,isElement:vo,isArray:a,version:es,isDate:ot,lowercase:v,uppercase:ir,callbacks:{counter:0},getTestability:la,$$minErr:y,$$csp:wi,reloadWithDebugInfo:ca});ur=ya(n);try{ur("ngLocale")}catch(i){ur("ngLocale",[]).provider("$locale",rp)}ur("ng",["ngLocale"],["$provide",function(n){n.provider({$$sanitizeUri:gp});n.provider("$compile",bs).directive({a:yc,input:rl,textarea:rl,form:tb,script:ed,select:hd,style:ld,option:cd,ngBind:wb,ngBindHtml:kb,ngBindTemplate:bb,ngClass:gb,ngClassEven:tk,ngClassOdd:nk,ngCloak:ik,ngController:rk,ngForm:ib,ngHide:nd,ngIf:fk,ngInclude:ek,ngInit:sk,ngNonBindable:yk,ngPluralize:kk,ngRepeat:dk,ngShow:gk,ngStyle:td,ngSwitch:id,ngSwitchWhen:rd,ngSwitchDefault:ud,ngOptions:bk,ngTransclude:fd,ngModel:lk,ngList:hk,ngChange:db,pattern:vl,ngPattern:vl,required:al,ngRequired:al,minlength:pl,ngMinlength:pl,maxlength:yl,ngMaxlength:yl,ngValue:pb,ngModelOptions:vk}).directive({ngInclude:ok}).directive(tu).directive(ul);n.provider({$anchorScroll:bv,$animate:iy,$$animateQueue:ty,$$AnimateRunner:ny,$browser:fy,$cacheFactory:ey,$controller:hy,$document:cy,$exceptionHandler:ly,$filter:uc,$interpolate:tp,$interval:ip,$http:ky,$httpParamSerializer:py,$httpParamSerializerJQLike:wy,$httpBackend:gy,$location:op,$log:sp,$parse:pp,$rootScope:dp,$q:wp,$$q:bp,$sce:iw,$sceDelegate:tw,$sniffer:rw,$templateCache:oy,$templateRequest:uw,$$testability:fw,$timeout:ew,$window:ow,$$rAF:kp,$$asyncCallback:ry,$$jqLite:lv,$$HashMap:av,$$cookieReader:sw})}])}function ka(){return++ba}function br(n){return n.replace(da,function(n,t,i,r){return r?i.toUpperCase():i}).replace(ga,"Moz$1")}function ne(n){return!iv.test(n)}function os(n){var t=n.nodeType;return t===wt||!t||t===us}function fv(n){for(var t in pr[n.ng339])return!0;return!1}function ss(n,t){var i,o,f,u=t.createDocumentFragment(),e=[],s;if(ne(n))e.push(t.createTextNode(n));else{for(i=i||u.appendChild(t.createElement("div")),o=(rv.exec(n)||["",""])[1].toLowerCase(),f=vt[o]||vt._default,i.innerHTML=f[1]+n.replace(uv,"<$1><\/$2>")+f[2],s=f[0];s--;)i=i.lastChild;e=ar(e,i.childNodes);i=u.firstChild;i.textContent=""}return u.textContent="",u.innerHTML="",r(e,function(n){u.appendChild(n)}),u}function ev(n,i){i=i||t;var r;return(r=tv.exec(n))?[i.createElement(r[1])]:(r=ss(n,i))?r.childNodes:[]}function b(n){if(n instanceof b)return n;var t;if(l(n)&&(n=p(n),t=!0),!(this instanceof b)){if(t&&n.charAt(0)!="<")throw gf("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new b(n)}t?re(this,ev(n)):re(this,n)}function te(n){return n.cloneNode(!0)}function lu(n,t){var r,i,u;if(t||au(n),n.querySelectorAll)for(r=n.querySelectorAll("*"),i=0,u=r.length;i<u;i++)au(r[i])}function hs(n,t,i,u){if(e(u))throw gf("offargs","jqLite#off() does not support the `selector` argument");var f=vu(n),o=f&&f.events,s=f&&f.handle;if(s)if(t)r(t.split(" "),function(t){if(e(i)){var r=o[t];if(cr(r||[],i),r&&r.length>0)return}wr(n,t,s);delete o[t]});else for(t in o)t!=="$destroy"&&wr(n,t,s),delete o[t]}function au(n,t){var u=n.ng339,r=u&&pr[u];if(r){if(t){delete r.data[t];return}r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),hs(n));delete pr[u];n.ng339=i}}function vu(n,t){var r=n.ng339,u=r&&pr[r];return t&&!u&&(n.ng339=r=ka(),u=pr[r]={events:{},data:{},handle:i}),u}function ie(n,t,i){if(os(n)){var u=e(i),f=!u&&t&&!s(t),h=!t,o=vu(n,!f),r=o&&o.data;if(u)r[t]=i;else{if(h)return r;if(f)return r&&r[t];w(r,t)}}}function yu(n,t){return n.getAttribute?(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function pu(n,t){t&&n.setAttribute&&r(t.split(" "),function(t){n.setAttribute("class",p((" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+p(t)+" "," ")))})}function wu(n,t){if(t&&n.setAttribute){var i=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(n){n=p(n);i.indexOf(" "+n+" ")===-1&&(i+=n+" ")});n.setAttribute("class",p(i))}}function re(n,t){var i,r;if(t)if(t.nodeType)n[n.length++]=t;else if(i=t.length,typeof i=="number"&&t.window!==t){if(i)for(r=0;r<i;r++)n[n.length++]=t[r]}else n[n.length++]=t}function cs(n,t){return bu(n,"$"+(t||"ngController")+"Controller")}function bu(n,t,r){var e,u,o;for(n.nodeType==us&&(n=n.documentElement),e=a(t)?t:[t];n;){for(u=0,o=e.length;u<o;u++)if((r=f.data(n,e[u]))!==i)return r;n=n.parentNode||n.nodeType===df&&n.host}}function ls(n){for(lu(n,!0);n.firstChild;)n.removeChild(n.firstChild)}function ue(n,t){t||lu(n);var i=n.parentNode;i&&i.removeChild(n)}function ov(t,i){if(i=i||n,i.document.readyState==="complete")i.setTimeout(t);else f(i).on("load",t)}function as(n,t){var i=kr[t.toLowerCase()];return i&&fe[bt(n)]&&i}function sv(n,t){var i=n.nodeName;return(i==="INPUT"||i==="TEXTAREA")&&ee[t]}function hv(n,t){var i=function(i,r){var u,f,o,e;if(i.isDefaultPrevented=function(){return i.defaultPrevented},u=t[r||i.type],f=u?u.length:0,f)for(h(i.immediatePropagationStopped)&&(o=i.stopImmediatePropagation,i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0;i.stopPropagation&&i.stopPropagation();o&&o.call(i)}),i.isImmediatePropagationStopped=function(){return i.immediatePropagationStopped===!0},f>1&&(u=lt(u)),e=0;e<f;e++)i.isImmediatePropagationStopped()||u[e].call(n,i)};return i.elem=n,i}function lv(){this.$get=function(){return w(b,{hasClass:function(n,t){return n.attr&&(n=n[0]),yu(n,t)},addClass:function(n,t){return n.attr&&(n=n[0]),wu(n,t)},removeClass:function(n,t){return n.attr&&(n=n[0]),pu(n,t)}})}}function hi(n,t){var r=n&&n.$$hashKey,i;return r?(typeof r=="function"&&(r=n.$$hashKey()),r):(i=typeof n,i=="function"||i=="object"&&n!==null?n.$$hashKey=i+":"+(t||eu)():i+":"+n)}function gi(n,t){if(t){var i=0;this.nextUid=function(){return++i}}r(n,this.put,this)}function pv(n){var i=n.toString().replace(ys,""),t=i.match(vs);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function wv(n,t,i){var u,e,o,f;if(typeof n=="function"){if(!(u=n.$inject)){if(u=[],n.length){if(t){l(i)&&i||(i=n.name||pv(n));throw ci("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);}e=n.toString().replace(ys,"");o=e.match(vs);r(o[1].split(vv),function(n){n.replace(yv,function(n,t,i){u.push(i)})})}n.$inject=u}}else a(n)?(f=n.length-1,bi(n[f],"fn"),u=n.slice(0,f)):bi(n,"fn",!0);return u}function dr(n,t){function v(n){return function(t,i){if(s(t))r(t,so(n));else return n(t,i)}}function d(n,t){if(ki(n,"service"),(c(t)||a(t))&&(t=u.instantiate(t)),!t.$get)throw ci("pget","Provider '{0}' must define $get factory method.",n);return o[n+y]=t}function tt(n,t){return function(){var i=f.invoke(t,this);if(h(i))throw ci("undef","Provider '{0}' must return a value from $get factory method.",n);return i}}function b(n,t,i){return d(n,{$get:i!==!1?tt(n,t):t})}function it(n,t){return b(n,["$injector",function(n){return n.instantiate(t)}])}function rt(n,t){return b(n,pt(t),!1)}function ut(n,t){ki(n,"constant");o[n]=t;w[n]=t}function et(n,t){var i=u.get(n+y),r=i.$get;i.$get=function(){var n=f.invoke(r,i);return f.invoke(t,null,{$delegate:n})}}function g(n){var t=[],i;return r(n,function(n){function f(n){for(var i,r,t=0,f=n.length;t<f;t++)i=n[t],r=u.get(i[0]),r[i[1]].apply(r,i[2])}if(!k.get(n)){k.put(n,!0);try{l(n)?(i=ur(n),t=t.concat(g(i.requires)).concat(i._runBlocks),f(i._invokeQueue),f(i._configBlocks)):c(n)?t.push(u.invoke(n)):a(n)?t.push(u.invoke(n)):bi(n,"module")}catch(r){a(n)&&(n=n[n.length-1]);r.message&&r.stack&&r.stack.indexOf(r.message)==-1&&(r=r.message+"\n"+r.stack);throw ci("modulerr","Failed to instantiate module {0} due to:\n{1}",n,r.stack||r.message||r);}}}),t}function nt(n,i){function r(t,r){if(n.hasOwnProperty(t)){if(n[t]===p)throw ci("cdep","Circular dependency found: {0}",t+" <- "+e.join(" <- "));return n[t]}try{return e.unshift(t),n[t]=p,n[t]=i(t,r)}catch(u){n[t]===p&&delete n[t];throw u;}finally{e.shift()}}function u(n,i,u,f){typeof u=="string"&&(f=u,u=null);for(var h=[],c=dr.$$annotate(n,t,f),e,o=0,s=c.length;o<s;o++){if(e=c[o],typeof e!="string")throw ci("itkn","Incorrect injection token! Expected service name as string, got {0}",e);h.push(u&&u.hasOwnProperty(e)?u[e]:r(e,f))}return a(n)&&(n=n[s]),n.apply(i,h)}function f(n,t,i){var f=Object.create((a(n)?n[n.length-1]:n).prototype||null),r=u(n,f,t,i);return s(r)||c(r)?r:f}return{invoke:u,instantiate:f,get:r,annotate:dr.$$annotate,has:function(t){return o.hasOwnProperty(t+y)||n.hasOwnProperty(t)}}}t=t===!0;var p={},y="Provider",e=[],k=new gi([],!0),o={$provide:{provider:v(d),factory:v(b),service:v(it),value:v(rt),constant:v(ut),decorator:et}},u=o.$injector=nt(o,function(n,t){ft.isString(t)&&e.push(t);throw ci("unpr","Unknown provider: {0}",e.join(" <- "));}),w={},f=w.$injector=nt(w,function(n,t){var r=u.get(n+y,t);return f.invoke(r.$get,r,i,n)});return r(g(n),function(n){n&&f.invoke(n)}),f}function bv(){var n=!0;this.disableAutoScrolling=function(){n=!1};this.$get=["$window","$location","$rootScope",function(t,i,r){function o(n){var t=null;return Array.prototype.some.call(n,function(n){if(bt(n)==="a")return t=n,!0}),t}function s(){var n=f.yOffset,i,r;return c(n)?n=n():vo(n)?(i=n[0],r=t.getComputedStyle(i),n=r.position!=="fixed"?0:i.getBoundingClientRect().bottom):k(n)||(n=0),n}function u(n){var i,r;n?(n.scrollIntoView(),i=s(),i&&(r=n.getBoundingClientRect().top,t.scrollBy(0,r-i))):t.scrollTo(0,0)}function f(n){n=l(n)?n:i.hash();var t;n?(t=e.getElementById(n))?u(t):(t=o(e.getElementsByName(n)))?u(t):n==="top"&&u(null):u(null)}var e=t.document;return n&&r.$watch(function(){return i.hash()},function(n,t){(n!==t||n!=="")&&ov(function(){r.$evalAsync(f)})}),f}]}function gr(n,t){return!n&&!t?"":n?t?(a(n)&&(n=n.join(" ")),a(t)&&(t=t.join(" ")),n+" "+t):n:t}function dv(n){for(var i,t=0;t<n.length;t++)if(i=n[t],i.nodeType===kv)return i}function gv(n){l(n)&&(n=n.split(" "));var t=rt();return r(n,function(n){n.length&&(t[n]=!0)}),t}function li(n){return s(n)?n:{}}function ry(){this.$get=["$$rAF","$timeout",function(n,t){return n.supported?function(t){return n(t)}:function(n){return t(n,0,!1)}}]}function uy(n,t,i,u){function k(n){try{n.apply(null,vr(arguments,1))}finally{if(l--,l===0)while(w.length)try{w.pop()()}catch(t){i.error(t)}}}function et(n){var t=n.indexOf("#");return t===-1?"":n.substr(t+1)}function tt(){it();rt()}function ht(){try{return y.state}catch(n){}}function it(){s=ht();s=h(s)?null:s;st(s,b)&&(s=b);b=s}function rt(){(v!==e.url()||a!==s)&&(v=e.url(),a=s,r(g,function(n){n(e.url(),s)}))}var e=this,ct=t[0],c=n.location,y=n.history,ut=n.setTimeout,ft=n.clearTimeout,p={},l,w,g,nt,b;e.isMock=!1;l=0;w=[];e.$$completeOutstandingRequest=k;e.$$incOutstandingRequestCount=function(){l++};e.notifyWhenNoOutstandingRequests=function(n){l===0?n():w.push(n)};var s,a,v=c.href,ot=t.find("base"),d=null;it();a=s;e.url=function(t,i,r){var o,f;return h(r)&&(r=null),c!==n.location&&(c=n.location),y!==n.history&&(y=n.history),t?(o=a===r,v===t&&(!u.history||o))?e:(f=v&&ai(v)===ai(t),v=t,a=r,!u.history||f&&o?((!f||d)&&(d=t),i?c.replace(t):f?c.hash=et(t):c.href=t):(y[i?"replaceState":"pushState"](r,"",t),it(),a=s),e):d||c.href.replace(/%27/g,"'")};e.state=function(){return s};g=[];nt=!1;b=null;e.onUrlChange=function(t){if(!nt){if(u.history)f(n).on("popstate",tt);f(n).on("hashchange",tt);nt=!0}return g.push(t),t};e.$$applicationDestroyed=function(){f(n).off("hashchange popstate",tt)};e.$$checkUrlChange=rt;e.baseHref=function(){var n=ot.attr("href");return n?n.replace(/^(https?\:)?\/\/[^\/]*/,""):""};e.defer=function(n,t){var i;return l++,i=ut(function(){delete p[i];k(n)},t||0),p[i]=!0,i};e.defer.cancel=function(n){return p[n]?(delete p[n],ft(n),k(o),!0):!1}}function fy(){this.$get=["$window","$log","$sniffer","$document",function(n,t,i,r){return new uy(n,r,t,i)}]}function ey(){this.$get=function(){function t(t,i){function a(n){n!=f&&(r?r==n&&(r=n.n):r=n,c(n.n,n.p),c(n,f),f=n,f.n=null)}function c(n,t){n!=t&&(n&&(n.p=t),t&&(t.n=n))}if(t in n)throw y("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var o=0,l=w({},i,{id:t}),e={},s=i&&i.capacity||Number.MAX_VALUE,u={},f=null,r=null;return n[t]={put:function(n,t){if(!h(t)){if(s<Number.MAX_VALUE){var i=u[n]||(u[n]={key:n});a(i)}return n in e||o++,e[n]=t,o>s&&this.remove(r.key),t}},get:function(n){if(s<Number.MAX_VALUE){var t=u[n];if(!t)return;a(t)}return e[n]},remove:function(n){if(s<Number.MAX_VALUE){var t=u[n];if(!t)return;t==f&&(f=t.p);t==r&&(r=t.n);c(t.n,t.p);delete u[n]}delete e[n];o--},removeAll:function(){e={};o=0;u={};f=r=null},destroy:function(){e=null;l=null;u=null;delete n[t]},info:function(){return w({},l,{size:o})}}}var n={};return t.info=function(){var t={};return r(n,function(n,i){t[i]=n.info()}),t},t.get=function(t){return n[t]},t}}function oy(){this.$get=["$cacheFactory",function(n){return n("templates")}]}function bs(n,u){function k(n,t,i){var f=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,u={};return r(n,function(n,r){var e=n.match(f);if(!e)throw nt("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,n,i?"controller bindings definition":"isolate scope definition");u[r]={mode:e[1][0],collection:e[2]==="*",optional:e[3]==="?",attrName:e[4]||r}}),u}function ft(n,t){var i={isolateScope:null,bindToController:null},r,u;if(s(n.scope)&&(n.bindToController===!0?(i.bindToController=k(n.scope,t,!0),i.isolateScope={}):i.isolateScope=k(n.scope,t,!1)),s(n.bindToController)&&(i.bindToController=k(n.bindToController,t,!0)),s(i.bindToController))if(r=n.controller,u=n.controllerAs,r){if(!sy(r,u))throw nt("noident","Cannot bind to controller without identifier for directive '{0}'.",t);}else throw nt("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return i}function ot(n){var t=n.charAt(0);if(!t||t!==v(t))throw nt("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",n);if(n!==n.trim())throw nt("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",n);}var y={},b="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,tt=ea("ngSrc,ngSrcset,src,srcset"),it=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,ut=/^(on[a-z]+|formaction)$/,h;this.directive=function ht(t,i){return ki(t,"directive"),l(t)?(ot(t),bf(i,"directiveFactory"),y.hasOwnProperty(t)||(y[t]=[],n.factory(t+b,["$injector","$exceptionHandler",function(n,i){var u=[];return r(y[t],function(r,f){var e,o;try{e=n.invoke(r);c(e)?e={compile:pt(e)}:!e.compile&&e.link&&(e.compile=pt(e.link));e.priority=e.priority||0;e.index=f;e.name=e.name||t;e.require=e.require||e.controller&&e.name;e.restrict=e.restrict||"EA";o=e.$$bindings=ft(e,e.name);s(o.isolateScope)&&(e.$$isolateBindings=o.isolateScope);e.$$moduleName=r.$$moduleName;u.push(e)}catch(h){i(h)}}),u}])),y[t].push(i)):r(t,so(ht)),this};this.aHrefSanitizationWhitelist=function(n){return e(n)?(u.aHrefSanitizationWhitelist(n),this):u.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(n){return e(n)?(u.imgSrcSanitizationWhitelist(n),this):u.imgSrcSanitizationWhitelist()};h=!0;this.debugInfoEnabled=function(n){return e(n)?(h=n,this):h};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(n,u,e,k,ft,ot,ht,ct,lt,at,vt){function gt(n,t){try{n.addClass(t)}catch(i){}}function yt(n,t,i,u,e){var s,o;return n instanceof f||(n=f(n)),r(n,function(t,i){t.nodeType==di&&t.nodeValue.match(/\S+/)&&(n[i]=f(t).wrap("<span><\/span>").parent()[0])}),s=ui(n,t,n,i,u,e),yt.$$addScopeClass(n),o=null,function(t,i,r){var u,c;bf(t,"scope");r=r||{};var e=r.parentBoundTranscludeFn,h=r.transcludeControllers,l=r.futureParentElement;if(e&&e.$$boundTransclude&&(e=e.$$boundTransclude),o||(o=ir(l)),u=o!=="html"?f(ei(o,f("<div>").append(n).html())):i?si.clone.call(n):n,h)for(c in h)u.data("$"+c+"Controller",h[c].instance);return yt.$$addScopeInfo(u,t),i&&i(u,t),s&&s(t,u,u,e),u}}function ir(n){var t=n&&n[0];return t?bt(t)!=="foreignobject"&&t.toString().match(/SVG/)?"svg":"html":"html"}function ui(n,t,r,u,e,o){function b(n,r,u,e){var o,l,a,c,s,b,y,k,v,d,w;if(p)for(d=r.length,v=new Array(d),s=0;s<h.length;s+=3)y=h[s],v[y]=r[y];else v=r;for(s=0,b=h.length;s<b;)a=v[h[s++]],o=h[s++],l=h[s++],o?(o.scope?(c=n.$new(),yt.$$addScopeInfo(f(a),c),w=o.$$destroyBindings,w&&(o.$$destroyBindings=null,c.$on("$destroyed",w))):c=n,k=o.transcludeOnThisElement?ni(n,o.transclude,e):!o.templateOnThisElement&&e?e:!e&&t?ni(n,t):null,o(l,c,a,u,k,o)):l&&l(n,a.childNodes,i,e)}for(var h=[],l,a,s,v,y,w,p,c=0;c<n.length;c++)l=new ri,a=fi(n[c],[],l,c===0?u:i,e),s=a.length?yi(a,n[c],l,t,r,null,[],[],o):null,s&&s.scope&&yt.$$addScopeClass(l.$$element),y=s&&s.terminal||!(v=n[c].childNodes)||!v.length?null:ui(v,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t),(s||y)&&(h.push(c,s,y),w=!0,p=p||s),o=null;return w?b:null}function ni(n,t,i){return function(r,u,f,e,o){return r||(r=n.$new(!1,o),r.$$transcluded=!0),t(r,u,{parentBoundTranscludeFn:i,transcludeControllers:f,futureParentElement:e})}}function fi(n,t,i,r,u){var it=n.nodeType,rt=i.$attr,o,h,k,nt,tt;switch(it){case wt:ti(t,dt(bt(n)),"E",r,u);for(var a,e,f,c,v,y,w=n.attributes,b=0,ut=w&&w.length;b<ut;b++)k=!1,nt=!1,a=w[b],e=a.name,v=p(a.value),c=dt(e),(y=nr.test(c))&&(e=e.replace(oe,"").substr(8).replace(/_(.)/g,function(n,t){return t.toUpperCase()})),tt=c.replace(/(Start|End)$/,""),rr(tt)&&c===tt+"Start"&&(k=e,nt=e.substr(0,e.length-5)+"end",e=e.substr(0,e.length-6)),f=dt(e.toLowerCase()),rt[f]=e,(y||!i.hasOwnProperty(f))&&(i[f]=v,as(n,f)&&(i[f]=!0)),lr(n,t,v,f,y),ti(t,f,"A",r,u,k,nt);if(h=n.className,s(h)&&(h=h.animVal),l(h)&&h!=="")while(o=g.exec(h))f=dt(o[2]),ti(t,f,"C",r,u)&&(i[f]=p(o[3])),h=h.substr(o.index+o[0].length);break;case di:if(pi===11)while(n.parentNode&&n.nextSibling&&n.nextSibling.nodeType===di)n.nodeValue=n.nodeValue+n.nextSibling.nodeValue,n.parentNode.removeChild(n.nextSibling);or(t,n.nodeValue);break;case kf:try{o=d.exec(n.nodeValue);o&&(f=dt(o[1]),ti(t,f,"M",r,u)&&(i[f]=p(o[2])))}catch(ft){}}return t.sort(er),t}function ai(n,t,i){var r=[],u=0;if(t&&n.hasAttribute&&n.hasAttribute(t)){do{if(!n)throw nt("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,i);n.nodeType==wt&&(n.hasAttribute(t)&&u++,n.hasAttribute(i)&&u--);r.push(n);n=n.nextSibling}while(u>0)}else r.push(n);return f(r)}function vi(n,t,i){return function(r,u,f,e,o){return u=ai(u[0],t,i),n(r,u,f,e,o)}}function yi(n,r,u,o,h,v,y,w,b){function nr(n,t,i,r){n&&(i&&(n=vi(n,i,r)),n.require=k.require,n.directiveName=ut,(d===k||k.$$isolateScope)&&(n=ki(n,{isolateScope:!0})),y.push(n));t&&(i&&(t=vi(t,i,r)),t.require=k.require,t.directiveName=ut,(d===k||k.$$isolateScope)&&(t=ki(t,{isolateScope:!0})),w.push(t))}function yi(n,t,i,r){var u,s,f,c;if(l(t)){var e=t.match(it),o=t.substring(e[0].length),h=e[1]||e[3],v=e[2]==="?";if(h==="^^"?i=i.parent():(u=r&&r[o],u=u&&u.instance),u||(s="$"+o+"Controller",u=h?i.inheritedData(s):i.data(s)),!u&&!v)throw nt("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,n);}else if(a(t))for(u=[],f=0,c=t.length;f<c;f++)u[f]=yi(n,t[f],i,r);return u||null}function rr(n,t,i,r,u,f){var h=rt(),c,s;for(c in r){var e=r[c],l={$scope:e===d||e.$$isolateScope?u:f,$element:n,$attrs:t,$transclude:i},o=e.controller;o=="@"&&(o=t[e.name]);s=ot(o,l,!0,e.controllerAs);h[e.name]=s;bt||n.data("$"+e.name+"Controller",s.instance)}return h}function ct(n,t,e,o,s,h){function ot(n,t,r){var u;return sr(n)||(r=t,t=n,n=i),bt&&(u=b),r||(r=bt?c.parent():c),s(n,t,u,r,rt)}var a,ut,l,v,p,b,nt,c,k,g,it,ft,tt,rt;if(r===e?(k=u,c=u.$$element):(c=f(e),k=new ri(c,u)),d&&(p=t.$new(!0)),s&&(nt=ot,nt.$$boundTransclude=s),ht&&(b=rr(c,k,nt,ht,p,t)),d&&(yt.$$addScopeInfo(c,p,!0,!(et&&(et===d||et===d.$$originalDirective))),yt.$$addScopeClass(c,!0),p.$$isolateBindings=d.$$isolateBindings,oi(t,k,p,p.$$isolateBindings,d,p)),b){g=d||lt;g&&b[g.name]&&(it=g.$$bindings.bindToController,v=b[g.name],v&&v.identifier&&it&&(ft=v,h.$$destroyBindings=oi(t,k,v.instance,it,g)));for(a in b)v=b[a],tt=v(),tt!==v.instance&&(v.instance=tt,c.data("$"+a+"Controller",tt),v===ft&&(h.$$destroyBindings(),h.$$destroyBindings=oi(t,k,tt,it,g)))}for(a=0,ut=y.length;a<ut;a++)l=y[a],gi(l,l.isolateScope?p:t,c,k,l.require&&yi(l.directiveName,l.require,c,b),nt);for(rt=t,d&&(d.template||d.templateUrl===null)&&(rt=p),n&&n(rt,e.childNodes,i,s),a=w.length-1;a>=0;a--)l=w[a],gi(l,l.isolateScope?p:t,c,k,l.require&&yi(l.directiveName,l.require,c,b),nt)}var st,ui,gt,si;b=b||{};var vt=-Number.MAX_VALUE,lt,ht=b.controllerDirectives,d=b.newIsolateScopeDirective,et=b.templateDirective,ni=b.nonTlbTranscludeDirective,hi=!1,ci=!1,bt=b.hasElementTranscludeDirective,g=u.$$element=f(r),k,ut,ft,ti=v,dt=o,at,tt;for(st=0,ui=n.length;st<ui;st++){if(k=n[st],gt=k.$$start,si=k.$$end,gt&&(g=ai(r,gt,si)),ft=i,vt>k.priority)break;if((tt=k.scope)&&(k.templateUrl||(s(tt)?(pt("new/isolated scope",d||lt,k,g),d=k):pt("new/isolated scope",d,k,g)),lt=lt||k),ut=k.name,!k.templateUrl&&k.controller&&(tt=k.controller,ht=ht||rt(),pt("'"+ut+"' controller",ht[ut],k,g),ht[ut]=k),(tt=k.transclude)&&(hi=!0,k.$$tlb||(pt("transclusion",ni,k,g),ni=k),tt=="element"?(bt=!0,vt=k.priority,ft=g,g=u.$$element=f(t.createComment(" "+ut+": "+u[ut]+" ")),r=g[0],ii(h,vr(ft),r),dt=yt(ft,o,vt,ti&&ti.name,{nonTlbTranscludeDirective:ni})):(ft=f(te(r)).contents(),g.empty(),dt=yt(ft,o))),k.template)if(ci=!0,pt("template",et,k,g),et=k,tt=c(k.template)?k.template(g,u):k.template,tt=li(tt),k.replace){if(ti=k,ft=ne(tt)?[]:ds(ei(k.templateNamespace,p(tt))),r=ft[0],ft.length!=1||r.nodeType!==wt)throw nt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",ut,"");ii(h,g,r);var pi={$attr:{}},di=fi(r,[],pi),tr=n.splice(st+1,n.length-(st+1));d&&wi(di);n=n.concat(di).concat(tr);bi(u,pi);ui=n.length}else g.html(tt);if(k.templateUrl)ci=!0,pt("template",et,k,g),et=k,k.replace&&(ti=k),ct=ur(n.splice(st,n.length-st),g,u,h,hi&&dt,y,w,{controllerDirectives:ht,newIsolateScopeDirective:d,templateDirective:et,nonTlbTranscludeDirective:ni}),ui=n.length;else if(k.compile)try{at=k.compile(g,u,dt);c(at)?nr(null,at,gt,si):at&&nr(at.pre,at.post,gt,si)}catch(ir){e(ir,kt(g))}k.terminal&&(ct.terminal=!0,vt=Math.max(vt,k.priority))}return ct.scope=lt&&lt.scope===!0,ct.transcludeOnThisElement=hi,ct.templateOnThisElement=ci,ct.transclude=dt,b.hasElementTranscludeDirective=bt,ct}function wi(n){for(var t=0,i=n.length;t<i;t++)n[t]=lf(n[t],{$$isolateScope:!0})}function ti(t,r,u,f,o,s,h){var l;if(r===o)return null;if(l=null,y.hasOwnProperty(r))for(var c,v=n.get(r+b),a=0,p=v.length;a<p;a++)try{c=v[a];(f===i||f>c.priority)&&c.restrict.indexOf(u)!=-1&&(s&&(c=lf(c,{$$start:s,$$end:h})),t.push(c),l=c)}catch(w){e(w)}return l}function rr(t){if(y.hasOwnProperty(t))for(var r,u=n.get(t+b),i=0,f=u.length;i<f;i++)if(r=u[i],r.multiElement)return!0;return!1}function bi(n,t){var u=t.$attr,f=n.$attr,i=n.$$element;r(n,function(i,r){r.charAt(0)!="$"&&(t[r]&&t[r]!==i&&(i+=(r==="style"?";":" ")+t[r]),n.$set(r,i,!0,u[r]))});r(t,function(t,r){r=="class"?(gt(i,t),n["class"]=(n["class"]?n["class"]+" ":"")+t):r=="style"?(i.attr("style",i.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):r.charAt(0)=="$"||n.hasOwnProperty(r)||(n[r]=t,f[r]=u[r])})}function ur(n,t,i,u,e,o,h,l){var y=[],v,w,b=t[0],a=n.shift(),g=lf(a,{templateUrl:null,transclude:null,replace:null,$$originalDirective:a}),d=c(a.templateUrl)?a.templateUrl(t,i):a.templateUrl,tt=a.templateNamespace;return t.empty(),k(lt.getTrustedResourceUrl(d)).then(function(c){var k,rt,ut,st,ft,ct;if(c=li(c),a.replace){if(ut=ne(c)?[]:ds(ei(tt,p(c))),k=ut[0],ut.length!=1||k.nodeType!==wt)throw nt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a.name,d);rt={$attr:{}};ii(u,t,k);ft=fi(k,[],rt);s(a.scope)&&wi(ft);n=ft.concat(n);bi(i,rt)}else k=b,t.html(c);for(n.unshift(g),v=yi(n,k,i,e,t,a,o,h,l),r(u,function(n,i){n==k&&(u[i]=t[0])}),w=ui(t[0].childNodes,e);y.length;){var et=y.shift(),ot=y.shift(),lt=y.shift(),ht=y.shift(),it=t[0];et.$$destroyed||(ot!==b&&(ct=ot.className,l.hasElementTranscludeDirective&&a.replace||(it=te(k)),ii(lt,f(ot),it),gt(f(it),ct)),st=v.transcludeOnThisElement?ni(et,v.transclude,ht):ht,v(w,et,it,u,st,v))}y=null}),function(n,t,i,r,u){var f=u;t.$$destroyed||(y?y.push(t,i,r,f):(v.transcludeOnThisElement&&(f=ni(t,v.transclude,u)),v(w,t,i,r,f,v)))}}function er(n,t){var i=t.priority-n.priority;return i!==0?i:n.name!==t.name?n.name<t.name?-1:1:n.index-t.index}function pt(n,t,i,r){function u(n){return n?" (module: "+n+")":""}if(t)throw nt("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,u(t.$$moduleName),i.name,u(i.$$moduleName),n,kt(r));}function or(n,t){var i=u(t,!0);i&&n.push({priority:0,compile:function(n){var t=n.parent(),r=!!t.length;return r&&yt.$$addBindingClass(t),function(n,t){var u=t.parent();r||yt.$$addBindingClass(u);yt.$$addBindingInfo(u,i.expressions);n.$watch(i,function(n){t[0].nodeValue=n})}}})}function ei(n,i){n=v(n||"html");switch(n){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+n+">"+i+"<\/"+n+">",r.childNodes[0].childNodes;default:return i}}function hr(n,t){if(t=="srcdoc")return lt.HTML;var i=bt(n);if(t=="xlinkHref"||i=="form"&&t=="action"||i!="img"&&(t=="src"||t=="ngSrc"))return lt.RESOURCE_URL}function lr(n,t,i,r,f){var o=hr(n,r),e;if(f=tt[r]||f,e=u(i,!0,o,f),e){if(r==="multiple"&&bt(n)==="select")throw nt("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",kt(n));t.push({priority:100,compile:function(){return{pre:function(n,t,s){var c=s.$$observers||(s.$$observers={}),h;if(ut.test(r))throw nt("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");(h=s[r],h!==i&&(e=h&&u(h,!0,o,f),i=h),e)&&(s[r]=e(n),(c[r]||(c[r]=[])).$$inter=!0,(s.$$observers&&s.$$observers[r].$$scope||n).$watch(e,function(n,t){r==="class"&&n!=t?s.$updateClass(n,t):s.$set(r,n)}))}}}})}}function ii(n,i,r){var u=i[0],a=i.length,v=u.parentNode,e,y,c,s,w,l;if(n)for(e=0,y=n.length;e<y;e++)if(n[e]==u){n[e++]=r;for(var o=e,h=o+a-1,p=n.length;o<p;o++,h++)h<p?n[o]=n[h]:delete n[o];n.length-=a-1;n.context===u&&(n.context=r);break}for(v&&v.replaceChild(r,u),c=t.createDocumentFragment(),c.appendChild(u),f.hasData(u)&&(f(r).data(f(u).data()),et?(wf=!0,et.cleanData([u])):delete f.cache[u[f.expando]]),s=1,w=i.length;s<w;s++)l=i[s],f(l).remove(),c.appendChild(l),delete i[s];i[0]=r;i.length=1}function ki(n,t){return w(function(){return n.apply(null,arguments)},n,t)}function gi(n,t,i,r,u,f){try{n(t,i,r,u,f)}catch(o){e(o,kt(i))}}function oi(n,t,f,e,s,h){var c,l;return(r(e,function(r,e){var h=r.attrName,y=r.optional,k=r.mode,a,l,w,p,v,b;tr.call(t,h)||(t[h]=i);switch(k){case"@":t[h]||y||(f[e]=i);t.$observe(h,function(n){f[e]=n});t.$$observers[h].$$scope=n;t[h]&&(f[e]=u(t[h])(n));break;case"=":if(y&&!t[h])return;l=ft(t[h]);p=l.literal?st:function(n,t){return n===t||n!==n&&t!==t};w=l.assign||function(){a=f[e]=l(n);throw nt("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[h],s.name);};a=f[e]=l(n);v=function(t){return p(t,f[e])||(p(t,a)?w(n,t=f[e]):f[e]=t),a=t};v.$stateful=!0;b=r.collection?n.$watchCollection(t[h],v):n.$watch(ft(t[h],v),null,l.literal);c=c||[];c.push(b);break;case"&":if(l=ft(t[h]),l===o&&y)break;f[e]=function(t){return l(n,t)}}}),l=c?function(){for(var n=0,t=c.length;n<t;++n)c[n]()}:o,h&&l!==o)?(h.$on("$destroy",l),o):l}var ri=function(n,t){if(t)for(var u=Object.keys(t),r,i=0,f=u.length;i<f;i++)r=u[i],this[r]=t[r];else this.$attr={};this.$$element=n};ri.prototype={$normalize:dt,$addClass:function(n){n&&n.length>0&&at.addClass(this.$$element,n)},$removeClass:function(n){n&&n.length>0&&at.removeClass(this.$$element,n)},$updateClass:function(n,t){var r=ks(n,t),i;r&&r.length&&at.addClass(this.$$element,r);i=ks(t,n);i&&i.length&&at.removeClass(this.$$element,i)},$set:function(n,t,u,f){var w=this.$$element[0],b=as(w,n),a=sv(w,n),k=n,h,s,v,l,y;if(b?(this.$$element.prop(n,t),f=b):a&&(this[a]=t,k=a),this[n]=t,f?this.$attr[n]=f:(f=this.$attr[n],f||(this.$attr[n]=f=is(n,"-"))),h=bt(this.$$element),h==="a"&&n==="href"||h==="img"&&n==="src")this[n]=t=vt(t,n==="src");else if(h==="img"&&n==="srcset"){var o="",d=p(t),g=/\s/.test(d)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,c=d.split(g),nt=Math.floor(c.length/2);for(s=0;s<nt;s++)v=s*2,o+=vt(p(c[v]),!0),o+=" "+p(c[v+1]);l=p(c[s*2]).split(/\s/);o+=vt(p(l[0]),!0);l.length===2&&(o+=" "+p(l[1]));this[n]=t=o}u!==!1&&(t===null||t===i?this.$$element.removeAttr(f):this.$$element.attr(f,t));y=this.$$observers;y&&r(y[k],function(n){try{n(t)}catch(i){e(i)}})},$observe:function(n,t){var i=this,u=i.$$observers||(i.$$observers=rt()),r=u[n]||(u[n]=[]);return r.push(t),ht.$evalAsync(function(){!r.$$inter&&i.hasOwnProperty(n)&&t(i[n])}),function(){cr(r,t)}}};var hi=u.startSymbol(),ci=u.endSymbol(),li=hi=="{{"||ci=="}}"?fr:function(n){return n.replace(/\{\{/g,hi).replace(/}}/g,ci)},nr=/^ngAttr[A-Z]/;return yt.$$addBindingInfo=h?function(n,t){var i=n.data("$binding")||[];a(t)?i=i.concat(t):i.push(t);n.data("$binding",i)}:o,yt.$$addBindingClass=h?function(n){gt(n,"ng-binding")}:o,yt.$$addScopeInfo=h?function(n,t,i,r){var u=i?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";n.data(u,t)}:o,yt.$$addScopeClass=h?function(n,t){gt(n,t?"ng-isolate-scope":"ng-scope")}:o,yt}]}function dt(n){return br(n.replace(oe,""))}function ks(n,t){var u="",e=n.split(/\s+/),o=t.split(/\s+/),i,f,r;n:for(i=0;i<e.length;i++){for(f=e[i],r=0;r<o.length;r++)if(f==o[r])continue n;u+=(u.length>0?" ":"")+f}return u}function ds(n){var t,i;if(n=f(n),t=n.length,t<=1)return n;while(t--)i=n[t],i.nodeType===kf&&gl.call(n,t,1);return n}function sy(n,t){if(t&&l(t))return t;if(l(n)){var i=se.exec(n);if(i)return i[3]}}function hy(){var n={},t=!1;this.register=function(t,i){ki(t,"controller");s(t)?w(n,t):n[t]=i};this.allowGlobals=function(){t=!0};this.$get=["$injector","$window",function(r,u){function f(n,t,i,r){if(!(n&&s(n.$scope)))throw y("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);n.$scope[t]=i}return function(e,o,h,v){var y,k,p,b,d;if(h=h===!0,v&&l(v)&&(b=v),l(e)){if(k=e.match(se),!k)throw gs("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);p=k[1];b=b||k[3];e=n.hasOwnProperty(p)?n[p]:rs(o.$scope,p,!0)||(t?rs(u,p,!0):i);bi(e,p,!0)}return h?(d=(a(e)?e[e.length-1]:e).prototype,y=Object.create(d||null),b&&f(o,b,y,p||e.name),w(function(){var n=r.invoke(e,y,o,p);return n!==y&&(s(n)||c(n))&&(y=n,b&&f(o,b,y,p||e.name)),y},{instance:y,identifier:b})):(y=r.instantiate(e,o,p),b&&f(o,b,y,p||e.name),y)}}]}function cy(){this.$get=["$window",function(n){return f(n.document)}]}function ly(){this.$get=["$log",function(n){return function(){n.error.apply(n,arguments)}}]}function ce(n){return s(n)?ot(n)?n.toISOString():yr(n):n}function py(){this.$get=function(){return function(n){if(!n)return"";var t=[];return oo(n,function(n,i){n===null||h(n)||(a(n)?r(n,function(n){t.push(at(i)+"="+at(ce(n)))}):t.push(at(i)+"="+at(ce(n))))}),t.join("&")}}}function wy(){this.$get=function(){return function(n){function t(n,u,f){n===null||h(n)||(a(n)?r(n,function(n){t(n,u+"[]")}):s(n)&&!ot(n)?oo(n,function(n,i){t(n,u+(f?"":"[")+i+(f?"":"]"))}):i.push(at(u)+"="+at(ce(n))))}if(!n)return"";var i=[];return t(n,"",!0),i.join("&")}}}function le(n,t){var i,r;return l(n)&&(i=n.replace(yy,"").trim(),i&&(r=t("Content-Type"),(r&&r.indexOf(nh)===0||by(i))&&(n=wo(i)))),n}function by(n){var t=n.match(ay);return t&&vy[t[0]].test(n)}function th(n){function u(n,i){n&&(t[n]=t[n]?t[n]+", "+i:i)}var t=rt(),i;return l(n)?r(n.split("\n"),function(n){i=n.indexOf(":");u(v(p(n.substr(0,i))),p(n.substr(i+1)))}):s(n)&&r(n,function(n,t){u(v(t),p(n))}),t}function ih(n){var t;return function(i){if(t||(t=th(n)),i){var r=t[v(i)];return r===void 0&&(r=null),r}return t}}function rh(n,t,i,u){return c(u)?u(n,t,i):(r(u,function(r){n=r(n,t,i)}),n)}function ae(n){return 200<=n&&n<300}function ky(){var n=this.defaults={transformResponse:[le],transformRequest:[function(n){return s(n)&&!ra(n)&&!fa(n)&&!ua(n)?yr(n):n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:lt(he),put:lt(he),patch:lt(he)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1,u;this.useApplyAsync=function(n){return e(n)?(t=!!n,this):t};u=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(f,o,p,b,k,d){function g(t){function a(n){var t=w({},n);return t.data=n.data?rh(n.data,n.headers,n.status,u.transformResponse):n.data,ae(n.status)?t:k.reject(t)}function b(n,t){var i,u={};return r(n,function(n,r){c(n)?(i=n(t),i!=null&&(u[r]=i)):u[r]=n}),u}function g(t){var i=n.headers,u=w({},t.headers),r,f,e;i=w({},i.common,i[v(t.method)]);n:for(r in i){f=v(r);for(e in u)if(v(e)===f)continue n;u[r]=i[r]}return b(u,lt(t))}var u,o,s;if(!ft.isObject(t))throw y("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);u=w({method:"get",transformRequest:n.transformRequest,transformResponse:n.transformResponse,paramSerializer:n.paramSerializer},t);u.headers=g(t);u.method=ir(u.method);u.paramSerializer=l(u.paramSerializer)?d.get(u.paramSerializer):u.paramSerializer;var p=function(t){var u=t.headers,f=rh(t.data,ih(u),i,t.transformRequest);return h(f)&&r(u,function(n,t){v(t)==="content-type"&&delete u[t]}),h(t.withCredentials)&&!h(n.withCredentials)&&(t.withCredentials=n.withCredentials),ut(t,f).then(a,a)},e=[p,i],f=k.when(u);for(r(nt,function(n){(n.request||n.requestError)&&e.unshift(n.request,n.requestError);(n.response||n.responseError)&&e.push(n.response,n.responseError)});e.length;)o=e.shift(),s=e.shift(),f=f.then(o,s);return f.success=function(n){return bi(n,"fn"),f.then(function(t){n(t.data,t.status,t.headers,u)}),f},f.error=function(n){return bi(n,"fn"),f.then(null,function(t){n(t.data,t.status,t.headers,u)}),f},f}function it(){r(arguments,function(n){g[n]=function(t,i){return g(w({},i||{},{method:n,url:t}))}})}function rt(){r(arguments,function(n){g[n]=function(t,i,r){return g(w({},r||{},{method:n,url:t,data:i}))}})}function ut(r,u){function ut(n,i,r,u){function f(){y(i,n,r,u)}l&&(ae(n)?l.put(v,[n,i,th(r),u]):l.remove(v));t?b.$applyAsync(f):(f(),b.$$phase||b.$apply())}function y(n,t,i,u){t=Math.max(t,0);(ae(t)?p.resolve:p.reject)({data:n,status:t,headers:ih(i),config:r,statusText:u})}function it(n){y(n.data,n.status,lt(n.headers()),n.statusText)}function rt(){var n=g.pendingRequests.indexOf(r);n!==-1&&g.pendingRequests.splice(n,1)}var p=k.defer(),w=p.promise,l,c,nt=r.headers,v=et(r.url,r.paramSerializer(r.params)),d;return g.pendingRequests.push(r),w.then(rt,rt),(r.cache||n.cache)&&r.cache!==!1&&(r.method==="GET"||r.method==="JSONP")&&(l=s(r.cache)?r.cache:s(n.cache)?n.cache:tt),l&&(c=l.get(v),e(c)?ou(c)?c.then(it,it):a(c)?y(c[1],c[0],lt(c[2]),c[3]):y(c,200,{},"OK"):l.put(v,w)),h(c)&&(d=ic(r.url)?o()[r.xsrfCookieName||n.xsrfCookieName]:i,d&&(nt[r.xsrfHeaderName||n.xsrfHeaderName]=d),f(r.method,v,u,ut,nt,r.timeout,r.withCredentials,r.responseType)),w}function et(n,t){return t.length>0&&(n+=(n.indexOf("?")==-1?"?":"&")+t),n}var tt=p("$http"),nt;return n.paramSerializer=l(n.paramSerializer)?d.get(n.paramSerializer):n.paramSerializer,nt=[],r(u,function(n){nt.unshift(l(n)?d.get(n):d.invoke(n))}),g.pendingRequests=[],it("get","delete","head","jsonp"),rt("post","put","patch"),g.defaults=n,g}]}function dy(){return new n.XMLHttpRequest}function gy(){this.$get=["$browser","$window","$document",function(n,t,i){return np(n,dy,n.defer,t.angular.callbacks,i[0])}]}function np(n,t,u,f,s){function h(n,t,i){var r=s.createElement("script"),u=null;return r.type="text/javascript",r.src=n,r.async=!0,u=function(n){wr(r,"load",u);wr(r,"error",u);s.body.removeChild(r);r=null;var e=-1,o="unknown";n&&(n.type!=="load"||f[t].called||(n={type:"error"}),o=n.type,e=n.type==="error"?404:200);i&&i(e,o)},cu(r,"load",u),cu(r,"error",u),s.body.appendChild(r),u}return function(s,c,l,a,y,p,w,b){function rt(){g&&g();k&&k.abort()}function it(t,r,f,e,s){tt!==i&&u.cancel(tt);g=k=null;t(r,f,e,s);n.$$completeOutstandingRequest(o)}var d,g,k,nt,tt;if(n.$$incOutstandingRequestCount(),c=c||n.url(),v(s)=="jsonp")d="_"+(f.counter++).toString(36),f[d]=function(n){f[d].data=n;f[d].called=!0},g=h(c.replace("JSON_CALLBACK","angular.callbacks."+d),d,function(n,t){it(a,n,f[d].data,"",t);f[d]=o});else{if(k=t(),k.open(s,c,!0),r(y,function(n,t){e(n)&&k.setRequestHeader(t,n)}),k.onload=function(){var i=k.statusText||"",t="response"in k?k.response:k.responseText,n=k.status===1223?204:k.status;n===0&&(n=t?200:ui(c).protocol=="file"?404:0);it(a,n,t,k.getAllResponseHeaders(),i)},nt=function(){it(a,-1,null,null,"")},k.onerror=nt,k.onabort=nt,w&&(k.withCredentials=!0),b)try{k.responseType=b}catch(ut){if(b!=="json")throw ut;}k.send(l)}p>0?tt=u(rt,p):ou(p)&&p.then(rt)}}function tp(){var n="{{",t="}}";this.startSymbol=function(t){return t?(n=t,this):n};this.endSymbol=function(n){return n?(t=n,this):t};this.$get=["$parse","$exceptionHandler","$sce",function(i,r,u){function s(n){return"\\\\\\"+n}function l(i){return i.replace(v,n).replace(y,t)}function p(n){if(n==null)return"";switch(typeof n){case"string":break;case"number":n=""+n;break;default:n=yr(n)}return n}function f(f,s,v,y){function ot(n){try{return n=et(n),y&&!e(n)?n:p(n)}catch(t){r(ii.interr(f,t))}}var rt,et;y=!!y;for(var d,nt,b=0,g=[],tt=[],ut=f.length,it,k=[],ft=[];b<ut;)if((d=f.indexOf(n,b))!=-1&&(nt=f.indexOf(t,d+o))!=-1)b!==d&&k.push(l(f.substring(b,d))),it=f.substring(d+o,nt),g.push(it),tt.push(i(it,ot)),b=nt+a,ft.push(k.length),k.push("");else{b!==ut&&k.push(l(f.substring(b)));break}return v&&k.length>1&&ii.throwNoconcat(f),!s||g.length?(rt=function(n){for(var t=0,i=g.length;t<i;t++){if(y&&h(n[t]))return;k[ft[t]]=n[t]}return k.join("")},et=function(n){return v?u.getTrusted(v,n):u.valueOf(n)},w(function(n){var t=0,i=g.length,u=new Array(i);try{for(;t<i;t++)u[t]=tt[t](n);return rt(u)}catch(e){r(ii.interr(f,e))}},{exp:f,expressions:g,$$watchDelegate:function(n,t){var i;return n.$watchGroup(tt,function(r,u){var f=rt(r);c(t)&&t.call(this,f,r!==u?i:f,n);i=f})}})):void 0}var o=n.length,a=t.length,v=new RegExp(n.replace(/./g,s),"g"),y=new RegExp(t.replace(/./g,s),"g");return f.startSymbol=function(){return n},f.endSymbol=function(){return t},f}]}function ip(){this.$get=["$rootScope","$window","$q","$$q",function(n,t,i,r){function f(f,o,s,h){var v=arguments.length>4,p=v?vr(arguments,4):[],w=t.setInterval,b=t.clearInterval,a=0,y=e(h)&&!h,l=(y?r:i).defer(),c=l.promise;return s=e(s)?s:0,c.then(null,null,v?function(){f.apply(null,p)}:f),c.$$intervalId=w(function(){l.notify(a++);s>0&&a>=s&&(l.resolve(a),b(c.$$intervalId),delete u[c.$$intervalId]);y||n.$apply()},o),u[c.$$intervalId]=l,c}var u={};return f.cancel=function(n){return n&&n.$$intervalId in u?(u[n.$$intervalId].reject("canceled"),t.clearInterval(n.$$intervalId),delete u[n.$$intervalId],!0):!1},f}]}function rp(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(n){return n===1?"one":"other"}}}}function ve(n){for(var t=n.split("/"),i=t.length;i--;)t[i]=su(t[i]);return t.join("/")}function uh(n,t){var i=ui(n);t.$$protocol=i.protocol;t.$$host=i.hostname;t.$$port=it(i.port)||fp[i.protocol]||null}function fh(n,t){var r=n.charAt(0)!=="/",i;r&&(n="/"+n);i=ui(n);t.$$path=decodeURIComponent(r&&i.pathname.charAt(0)==="/"?i.pathname.substring(1):i.pathname);t.$$search=go(i.search);t.$$hash=decodeURIComponent(i.hash);t.$$path&&t.$$path.charAt(0)!="/"&&(t.$$path="/"+t.$$path)}function gt(n,t){if(t.indexOf(n)===0)return t.substr(n.length)}function ai(n){var t=n.indexOf("#");return t==-1?n:n.substr(0,t)}function du(n){return n.replace(/(#.+)|#$/,"$1")}function ye(n){return n.substr(0,ai(n).lastIndexOf("/")+1)}function ep(n){return n.substring(0,n.indexOf("/",n.indexOf("//")+2))}function pe(n,t){this.$$html5=!0;t=t||"";var r=ye(n);uh(n,this);this.$$parse=function(n){var t=gt(r,n);if(!l(t))throw ku("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',n,r);fh(t,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var n=yf(this.$$search),t=this.$$hash?"#"+su(this.$$hash):"";this.$$url=ve(this.$$path)+(n?"?"+n:"")+t;this.$$absUrl=r+this.$$url.substr(1)};this.$$parseLinkUrl=function(u,f){if(f&&f[0]==="#")return this.hash(f.slice(1)),!0;var e,s,o;return(e=gt(n,u))!==i?(s=e,o=(e=gt(t,e))!==i?r+(gt("/",e)||e):n+s):(e=gt(r,u))!==i?o=r+e:r==u+"/"&&(o=r),o&&this.$$parse(o),!!o}}function we(n,t){var i=ye(n);uh(n,this);this.$$parse=function(r){function e(n,t,i){var u=/^\/[A-Z]:(\/.*)/,r;return(t.indexOf(i)===0&&(t=t.replace(i,"")),u.exec(t))?n:(r=u.exec(n),r?r[1]:n)}var f=gt(n,r)||gt(i,r),u;f.charAt(0)==="#"?(u=gt(t,f),h(u)&&(u=f)):u=this.$$html5?f:"";fh(u,this);this.$$path=e(this.$$path,u,n);this.$$compose()};this.$$compose=function(){var i=yf(this.$$search),r=this.$$hash?"#"+su(this.$$hash):"";this.$$url=ve(this.$$path)+(i?"?"+i:"")+r;this.$$absUrl=n+(this.$$url?t+this.$$url:"")};this.$$parseLinkUrl=function(t){return ai(n)==ai(t)?(this.$$parse(t),!0):!1}}function eh(n,t){this.$$html5=!0;we.apply(this,arguments);var i=ye(n);this.$$parseLinkUrl=function(r,u){if(u&&u[0]==="#")return this.hash(u.slice(1)),!0;var f,e;return n==ai(r)?f=r:(e=gt(i,r))?f=n+t+e:i===r+"/"&&(f=i),f&&this.$$parse(f),!!f};this.$$compose=function(){var i=yf(this.$$search),r=this.$$hash?"#"+su(this.$$hash):"";this.$$url=ve(this.$$path)+(i?"?"+i:"")+r;this.$$absUrl=n+t+this.$$url}}function gu(n){return function(){return this[n]}}function sh(n,t){return function(i){return h(i)?this[n]:(this[n]=t(i),this.$$compose(),this)}}function op(){var t="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(n){return e(n)?(t=n,this):t};this.html5Mode=function(t){return hr(t)?(n.enabled=t,this):s(t)?(hr(t.enabled)&&(n.enabled=t.enabled),hr(t.requireBase)&&(n.requireBase=t.requireBase),hr(t.rewriteLinks)&&(n.rewriteLinks=t.rewriteLinks),this):n};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,r,u,e,o){function w(n,t,i){var u=h.url(),f=h.$$state;try{r.url(n,t,i);h.$$state=r.state()}catch(e){h.url(u);h.$$state=f;throw e;}}function b(n,t){i.$broadcast("$locationChangeSuccess",h.absUrl(),n,h.$$state,t)}var h,a,y=r.baseHref(),c=r.url(),v,p,l;if(n.enabled){if(!y&&n.requireBase)throw ku("nobase","$location in HTML5 mode requires a <base> tag to be present!");v=ep(c)+(y||"/");a=u.history?pe:eh}else v=ai(c),a=we;h=new a(v,"#"+t);h.$$parseLinkUrl(c,c);h.$$state=r.state();p=/^\s*(javascript|mailto):/i;e.on("click",function(t){var u,c,l;if(n.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&t.which!=2&&t.button!=2){for(u=f(t.target);bt(u[0])!=="a";)if(u[0]===e[0]||!(u=u.parent())[0])return;(c=u.prop("href"),l=u.attr("href")||u.attr("xlink:href"),s(c)&&c.toString()==="[object SVGAnimatedString]"&&(c=ui(c.animVal).href),p.test(c))||!c||u.attr("target")||t.isDefaultPrevented()||h.$$parseLinkUrl(c,l)&&(t.preventDefault(),h.absUrl()!=r.url()&&(i.$apply(),o.angular["ff-684208-preventDefault"]=!0))}});du(h.absUrl())!=du(c)&&r.url(h.absUrl(),!0);l=!0;r.onUrlChange(function(n,t){i.$evalAsync(function(){var r=h.absUrl(),u=h.$$state,f;(h.$$parse(n),h.$$state=t,f=i.$broadcast("$locationChangeStart",n,r,t,u).defaultPrevented,h.absUrl()===n)&&(f?(h.$$parse(r),h.$$state=u,w(r,!1,u)):(l=!1,b(r,u)))});i.$$phase||i.$digest()});return i.$watch(function(){var t=du(r.url()),e=du(h.absUrl()),n=r.state(),o=h.$$replace,f=t!==e||h.$$html5&&u.history&&n!==h.$$state;(l||f)&&(l=!1,i.$evalAsync(function(){var r=h.absUrl(),u=i.$broadcast("$locationChangeStart",r,t,h.$$state,n).defaultPrevented;h.absUrl()===r&&(u?(h.$$parse(t),h.$$state=n):(f&&w(r,o,n===h.$$state?null:h.$$state),b(t,n)))}));h.$$replace=!1}),h}]}function sp(){var n=!0,t=this;this.debugEnabled=function(t){return e(t)?(n=t,this):n};this.$get=["$window",function(i){function f(n){return n instanceof Error&&(n.stack?n=n.message&&n.stack.indexOf(n.message)===-1?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n}function u(n){var t=i.console||{},u=t[n]||t.log||o,e=!1;try{e=!!u.apply}catch(s){}return e?function(){var n=[];return r(arguments,function(t){n.push(f(t))}),u.apply(t,n)}:function(n,t){u(n,t==null?"":t)}}return{log:u("log"),info:u("info"),warn:u("warn"),error:u("error"),debug:function(){var i=u("debug");return function(){n&&i.apply(t,arguments)}}()}}]}function ri(n,t){if(n==="__defineGetter__"||n==="__defineSetter__"||n==="__lookupGetter__"||n==="__lookupSetter__"||n==="__proto__")throw ut("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return n}function yt(n,t){if(n)if(n.constructor===n)throw ut("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);else if(n.window===n)throw ut("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);else if(n.children&&(n.nodeName||n.prop&&n.attr&&n.find))throw ut("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);else if(n===Object)throw ut("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t);return n}function hh(n,t){if(n)if(n.constructor===n)throw ut("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);else if(n===hp||n===cp||n===lp)throw ut("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t);}function ap(n,t){return typeof n!="undefined"?n:t}function lh(n,t){return typeof n=="undefined"?t:typeof t=="undefined"?n:n+t}function ah(n,t){var i=n(t);return!i.$stateful}function d(n,t){var i,f;switch(n.type){case u.Program:i=!0;r(n.body,function(n){d(n.expression,t);i=i&&n.expression.constant});n.constant=i;break;case u.Literal:n.constant=!0;n.toWatch=[];break;case u.UnaryExpression:d(n.argument,t);n.constant=n.argument.constant;n.toWatch=n.argument.toWatch;break;case u.BinaryExpression:d(n.left,t);d(n.right,t);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.left.toWatch.concat(n.right.toWatch);break;case u.LogicalExpression:d(n.left,t);d(n.right,t);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.constant?[]:[n];break;case u.ConditionalExpression:d(n.test,t);d(n.alternate,t);d(n.consequent,t);n.constant=n.test.constant&&n.alternate.constant&&n.consequent.constant;n.toWatch=n.constant?[]:[n];break;case u.Identifier:n.constant=!1;n.toWatch=[n];break;case u.MemberExpression:d(n.object,t);n.computed&&d(n.property,t);n.constant=n.object.constant&&(!n.computed||n.property.constant);n.toWatch=[n];break;case u.CallExpression:i=n.filter?ah(t,n.callee.name):!1;f=[];r(n.arguments,function(n){d(n,t);i=i&&n.constant;n.constant||f.push.apply(f,n.toWatch)});n.constant=i;n.toWatch=n.filter&&ah(t,n.callee.name)?f:[n];break;case u.AssignmentExpression:d(n.left,t);d(n.right,t);n.constant=n.left.constant&&n.right.constant;n.toWatch=[n];break;case u.ArrayExpression:i=!0;f=[];r(n.elements,function(n){d(n,t);i=i&&n.constant;n.constant||f.push.apply(f,n.toWatch)});n.constant=i;n.toWatch=f;break;case u.ObjectExpression:i=!0;f=[];r(n.properties,function(n){d(n.value,t);i=i&&n.value.constant;n.value.constant||f.push.apply(f,n.value.toWatch)});n.constant=i;n.toWatch=f;break;case u.ThisExpression:n.constant=!1;n.toWatch=[]}}function vh(n){if(n.length==1){var r=n[0].expression,t=r.toWatch;return t.length!==1?t:t[0]!==r?t:i}}function yh(n){return n.type===u.Identifier||n.type===u.MemberExpression}function ph(n){if(n.body.length===1&&yh(n.body[0].expression))return{type:u.AssignmentExpression,left:n.body[0].expression,right:{type:u.NGValueParameter},operator:"="}}function wh(n){return n.body.length===0||n.body.length===1&&(n.body[0].expression.type===u.Literal||n.body[0].expression.type===u.ArrayExpression||n.body[0].expression.type===u.ObjectExpression)}function bh(n){return n.constant}function kh(n,t){this.astBuilder=n;this.$filter=t}function dh(n,t){this.astBuilder=n;this.$filter=t}function rf(n,t,i,r){var e,u,o,f;for(yt(n,r),e=t.split("."),o=0;e.length>1;o++)u=ri(e.shift(),r),f=yt(n[u],r),f||(f={},n[u]=f),n=f;return u=ri(e.shift(),r),yt(n[u],r),n[u]=i,i}function uf(n){return n=="constructor"}function be(n){return c(n.valueOf)?n.valueOf():gh.call(n)}function pp(){var n=rt(),t=rt();this.$get=["$filter","$sniffer",function(u,f){function s(n,t){return n==null||t==null?n===t:typeof n=="object"&&(n=be(n),typeof n=="object")?!1:n===t||n!==n&&t!==t}function h(n,t,r,u,f){var e=u.inputs,h,a,c,l,o,v;if(e.length===1)return a=s,e=e[0],n.$watch(function(n){var t=e(n);return s(t,a)||(h=u(n,i,i,[t]),a=t&&be(t)),h},t,r,f);for(c=[],l=[],o=0,v=e.length;o<v;o++)c[o]=s,l[o]=null;return n.$watch(function(n){for(var r,f=!1,t=0,o=e.length;t<o;t++)r=e[t](n),(f||(f=!s(r,c[t])))&&(l[t]=r,c[t]=r&&be(r));return f&&(h=u(n,i,i,l)),h},t,r,f)}function l(n,t,i,r){var u,f;return u=n.$watch(function(n){return r(n)},function(n,i,r){f=n;c(t)&&t.apply(this,arguments);e(n)&&r.$$postDigest(function(){e(f)&&u()})},i)}function a(n,t,i,u){function s(n){var t=!0;return r(n,function(n){e(n)||(t=!1)}),t}var f,o;return f=n.$watch(function(n){return u(n)},function(n,i,r){o=n;c(t)&&t.call(this,n,i,r);s(n)&&r.$$postDigest(function(){s(o)&&f()})},i)}function w(n,t,i,r){var u;return u=n.$watch(function(n){return r(n)},function(){c(t)&&t.apply(this,arguments);u()},i)}function v(n,t){if(!t)return n;var r=n.$$watchDelegate,u=r!==a&&r!==l,i=u?function(i,r,u,f){var e=n(i,r,u,f);return t(e,i,r)}:function(i,r,u,f){var o=n(i,r,u,f),s=t(o,i,r);return e(o)?s:o};return n.$$watchDelegate&&n.$$watchDelegate!==h?i.$$watchDelegate=n.$$watchDelegate:t.$stateful||(i.$$watchDelegate=h,i.inputs=n.inputs?n.inputs:[n]),i}var y={csp:f.csp,expensiveChecks:!1},p={csp:f.csp,expensiveChecks:!0};return function(i,r,f){var e,b,s,c;switch(typeof i){case"string":if(i=i.trim(),s=i,c=f?t:n,e=c[s],!e){i.charAt(0)===":"&&i.charAt(1)===":"&&(b=!0,i=i.substring(2));var k=f?p:y,d=new nf(k),g=new tf(d,u,k);e=g.parse(i);e.constant?e.$$watchDelegate=w:b?e.$$watchDelegate=e.literal?a:l:e.inputs&&(e.$$watchDelegate=h);c[s]=e}return v(e,r);case"function":return v(i,r);default:return o}}}]}function wp(){this.$get=["$rootScope","$exceptionHandler",function(n,t){return nc(function(t){n.$evalAsync(t)},t)}]}function bp(){this.$get=["$browser","$exceptionHandler",function(n,t){return nc(function(t){n.defer(t)},t)}]}function nc(n,t){function k(n,t,i){function u(t){return function(i){r||(r=!0,t.call(n,i))}}var r=!1;return[u(t),u(i)]}function p(){this.$$state={status:0}}function o(n,t){return function(i){t.call(n,i)}}function g(n){var e,r,f,u,o;for(f=n.pending,n.processScheduled=!1,n.pending=i,u=0,o=f.length;u<o;++u){r=f[u][0];e=f[u][n.status];try{c(e)?r.resolve(e(n.value)):n.status===1?r.resolve(n.value):r.reject(n.value)}catch(s){r.reject(s);t(s)}}}function h(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,n(function(){g(t)}))}function u(){this.promise=new p;this.resolve=o(this,this.resolve);this.reject=o(this,this.reject);this.notify=o(this,this.notify)}function it(n){var i=new u,f=0,t=a(n)?[]:{};return r(n,function(n,r){f++;l(n).then(function(n){t.hasOwnProperty(r)||(t[r]=n,--f||i.resolve(t))},function(n){t.hasOwnProperty(r)||i.reject(n)})}),f===0&&i.resolve(t),i.promise}var v=y("$q",TypeError),d=function(){return new u},f;p.prototype={then:function(n,t,i){var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,n,t,i]),this.$$state.status>0&&h(this.$$state),r.promise},"catch":function(n){return this.then(null,n)},"finally":function(n,t){return this.then(function(t){return w(t,!0,n)},function(t){return w(t,!1,n)},t)}};u.prototype={resolve:function(n){this.promise.$$state.status||(n===this.promise?this.$$reject(v("qcycle","Expected promise to be resolved with value other than itself '{0}'",n)):this.$$resolve(n))},$$resolve:function(n){var i,r=k(this,this.$$resolve,this.$$reject);try{(s(n)||c(n))&&(i=n&&n.then);c(i)?(this.promise.$$state.status=-1,i.call(n,r[0],r[1],this.notify)):(this.promise.$$state.value=n,this.promise.$$state.status=1,h(this.promise.$$state))}catch(u){r[1](u);t(u)}},reject:function(n){this.promise.$$state.status||this.$$reject(n)},$$reject:function(n){this.promise.$$state.value=n;this.promise.$$state.status=2;h(this.promise.$$state)},notify:function(i){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&n(function(){for(var u,f,n=0,e=r.length;n<e;n++){f=r[n][0];u=r[n][3];try{f.notify(c(u)?u(i):i)}catch(o){t(o)}}})}};var nt=function(n){var t=new u;return t.reject(n),t.promise},e=function(n,t){var i=new u;return t?i.resolve(n):i.reject(n),i.promise},w=function(n,t,i){var r=null;try{c(i)&&(r=i())}catch(u){return e(u,!1)}return ou(r)?r.then(function(){return e(n,t)},function(n){return e(n,!1)}):e(n,t)},l=function(n,t,i,r){var f=new u;return f.resolve(n),f.promise.then(t,i,r)},tt=l;return f=function b(n){function i(n){t.resolve(n)}function r(n){t.reject(n)}if(!c(n))throw v("norslvr","Expected resolverFn, got '{0}'",n);if(!(this instanceof b))return new b(n);var t=new u;return n(i,r),t.promise},f.defer=d,f.reject=nt,f.when=l,f.resolve=tt,f.all=it,f}function kp(){this.$get=["$window","$timeout",function(n,t){function c(){for(var t,n=0;n<i.length;n++)t=i[n],t&&(i[n]=null,t());u=i.length=0}function o(n){var t=i.length;return u++,i.push(n),t===0&&(r=h(c)),function(){t>=0&&(i[t]=null,t=null,--u==0&&r&&(r(),r=null,i.length=0))}}var f=n.requestAnimationFrame||n.webkitRequestAnimationFrame,s=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,e=!!f,h=e?function(n){var t=f(n);return function(){s(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}},r,u,i;return o.supported=e,u=0,i=[],o}]}function dp(){function f(n){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=eu();this.$$ChildScope=null}return t.prototype=n,t}var i=10,u=y("$rootScope"),n=null,t=null;this.digestTtl=function(n){return arguments.length&&(i=n),i};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(e,l,a,v){function ut(n){n.currentScope.$$destroyed=!0}function w(){this.$id=eu();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function nt(n){if(y.$$phase)throw u("inprog","{0} already in progress",y.$$phase);y.$$phase=n}function d(){y.$$phase=null}function g(n,t){do n.$$watchersCount+=t;while(n=n.$parent)}function tt(n,t,i){do n.$$listenerCount[i]-=t,n.$$listenerCount[i]===0&&delete n.$$listenerCount[i];while(n=n.$parent)}function it(){}function rt(){while(k.length)try{k.shift()()}catch(n){l(n)}t=null}function ft(){t===null&&(t=v.defer(function(){y.$apply(rt)}))}w.prototype={constructor:w,$new:function(n,t){var i;return t=t||this,n?(i=new w,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=f(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(n||t!=this)&&i.$on("$destroy",ut),i},$watch:function(t,i,r,u){var f=a(t);if(f.$$watchDelegate)return f.$$watchDelegate(this,i,r,f,t);var s=this,e=s.$$watchers,h={fn:i,last:it,get:f,exp:u||t,eq:!!r};return n=null,c(i)||(h.fn=o),e||(e=s.$$watchers=[]),e.unshift(h),g(this,1),function(){cr(e,h)>=0&&g(s,-1);n=null}},$watchGroup:function(n,t){function c(){o=!1;h?(h=!1,t(i,i,u)):t(i,f,u)}var f=new Array(n.length),i=new Array(n.length),e=[],u=this,o=!1,h=!0,s;return n.length?n.length===1?this.$watch(n[0],function(n,r,u){i[0]=n;f[0]=r;t(i,n===r?i:f,u)}):(r(n,function(n,t){var r=u.$watch(n,function(n,r){i[t]=n;f[t]=r;o||(o=!0,u.$evalAsync(c))});e.push(r)}),function(){while(e.length)e.shift()()}):(s=!0,u.$evalAsync(function(){s&&t(i,i,u)}),function(){s=!1})},$watchCollection:function(n,t){function y(n){var a,e,y,t,o,v;if(i=n,!h(i)){if(s(i))if(ei(i))for(r!==c&&(r=c,f=r.length=0,u++),a=i.length,f!==a&&(u++,r.length=f=a),v=0;v<a;v++)o=r[v],t=i[v],y=o!==o&&t!==t,y||o===t||(u++,r[v]=t);else{r!==l&&(r=l={},f=0,u++);a=0;for(e in i)i.hasOwnProperty(e)&&(a++,t=i[e],o=r[e],e in r?(y=o!==o&&t!==t,y||o===t||(u++,r[e]=t)):(f++,r[e]=t,u++));if(f>a){u++;for(e in r)i.hasOwnProperty(e)||(f--,delete r[e])}}else r!==i&&(r=i,u++);return u}}function b(){var n,r;if(v?(v=!1,t(i,i,o)):t(i,e,o),p)if(s(i))if(ei(i))for(e=new Array(i.length),n=0;n<i.length;n++)e[n]=i[n];else{e={};for(r in i)tr.call(i,r)&&(e[r]=i[r])}else e=i}y.$stateful=!0;var o=this,i,r,e,p=t.length>1,u=0,w=a(n,y),c=[],l={},v=!0,f=0;return this.$watch(w,b)},$digest:function(){var r,e,o,k,g,s,tt=i,ut,f,ft=this,h=[],a,w;nt("$digest");v.$$checkUrlChange();this===y&&t!==null&&(v.defer.cancel(t),rt());n=null;do{for(s=!1,f=ft;p.length;){try{w=p.shift();w.scope.$eval(w.expression,w.locals)}catch(et){l(et)}n=null}n:do{if(k=f.$$watchers)for(g=k.length;g--;)try{if(r=k[g],r){var lt=(e=r.get(f))!==(o=r.last),ot=new Date,at=st(e,o),ht=new Date;ht-ot>10&&console.warn("Seismic > It takes too long time to execute equals, please notice this performance! - ("+(ht-ot)+"ms)",r);var vt=typeof e=="number"&&typeof o=="number"&&isNaN(e)&&isNaN(o),yt=!(r.eq?at:vt),pt=lt&&yt;if(pt)s=!0,n=r,r.last=r.eq?ct(e,null):e,r.fn(e,o===it?e:o,f),tt<5&&(a=4-tt,h[a]||(h[a]=[]),h[a].push({msg:c(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:e,oldVal:o}));else if(r===n){s=!1;break n}}}catch(et){l(et)}if(!(ut=f.$$watchersCount&&f.$$childHead||f!==ft&&f.$$nextSibling))while(f!==ft&&!(ut=f.$$nextSibling))f=f.$parent}while(f=ut);if((s||p.length)&&!tt--){d();throw u("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,h);}}while(s||p.length);for(d();b.length;)try{b.shift()()}catch(et){l(et)}},$destroy:function(){var n,t;if(!this.$$destroyed){n=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===y&&v.$$applicationDestroyed();g(this,-this.$$watchersCount);for(t in this.$$listenerCount)tt(this,this.$$listenerCount[t],t);n&&n.$$childHead==this&&(n.$$childHead=this.$$nextSibling);n&&n.$$childTail==this&&(n.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o;this.$on=this.$watch=this.$watchGroup=function(){return o};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(n,t){return a(n)(this,t)},$evalAsync:function(n,t){y.$$phase||p.length||v.defer(function(){p.length&&y.$digest()});p.push({scope:this,expression:n,locals:t})},$$postDigest:function(n){b.push(n)},$apply:function(n){try{return nt("$apply"),this.$eval(n)}catch(t){l(t)}finally{d();try{y.$digest()}catch(t){l(t);throw t;}}},$applyAsync:function(n){function i(){t.$eval(n)}var t=this;n&&k.push(i);ft()},$on:function(n,t){var r=this.$$listeners[n],i,u;r||(this.$$listeners[n]=r=[]);r.push(t);i=this;do i.$$listenerCount[n]||(i.$$listenerCount[n]=0),i.$$listenerCount[n]++;while(i=i.$parent);return u=this,function(){var i=r.indexOf(t);i!==-1&&(r[i]=null,tt(u,1,n))}},$emit:function(n){var o=[],u,r=this,e=!1,t={name:n,targetScope:r,stopPropagation:function(){e=!0},preventDefault:function(){t.defaultPrevented=!0},defaultPrevented:!1},s=ar([t],arguments,1),i,f;do{for(u=r.$$listeners[n]||o,t.currentScope=r,i=0,f=u.length;i<f;i++){if(!u[i]){u.splice(i,1);i--;f--;continue}try{u[i].apply(null,s)}catch(h){l(h)}}if(e)return t.currentScope=null,t;r=r.$parent}while(r);return t.currentScope=null,t},$broadcast:function(n){var r=this,t=r,e=r,u={name:n,targetScope:r,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},s,f,i,o;if(!r.$$listenerCount[n])return u;for(s=ar([u],arguments,1);t=e;){for(u.currentScope=t,f=t.$$listeners[n]||[],i=0,o=f.length;i<o;i++){if(!f[i]){f.splice(i,1);i--;o--;continue}try{f[i].apply(null,s)}catch(h){l(h)}}if(!(e=t.$$listenerCount[n]&&t.$$childHead||t!==r&&t.$$nextSibling))while(t!==r&&!(e=t.$$nextSibling))t=t.$parent}return u.currentScope=null,u}};var y=new w,p=y.$$asyncQueue=[],b=y.$$postDigestQueue=[],k=y.$$applyAsyncQueue=[];return y}]}function gp(){var n=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return e(t)?(n=t,this):n};this.imgSrcSanitizationWhitelist=function(n){return e(n)?(t=n,this):t};this.$get=function(){return function(i,r){var f=r?t:n,u;return(u=ui(i).href,u!==""&&!u.match(f))?"unsafe:"+u:i}}}function nw(n){if(n==="self")return n;if(l(n)){if(n.indexOf("***")>-1)throw ni("iwcard","Illegal sequence *** in string matcher.  String: {0}",n);return n=af(n).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+n+"$")}if(er(n))return new RegExp("^"+n.source+"$");throw ni("imatcher",'Matchers may only be "self", string patterns or RegExp objects');}function tc(n){var t=[];return e(n)&&r(n,function(n){t.push(nw(n))}),t}function tw(){this.SCE_CONTEXTS=ht;var n=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(n=tc(t)),n};this.resourceUrlBlacklist=function(n){return arguments.length&&(t=tc(n)),t};this.$get=["$injector",function(r){function s(n,t){return n==="self"?ic(t):!!n.exec(t.href)}function h(i){for(var e=ui(i.toString()),f=!1,r=0,u=n.length;r<u;r++)if(s(n[r],e)){f=!0;break}if(f)for(r=0,u=t.length;r<u;r++)if(s(t[r],e)){f=!1;break}return f}function f(n){var t=function(n){this.$$unwrapTrustedValue=function(){return n}};return n&&(t.prototype=new n),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function c(n,t){var r=u.hasOwnProperty(n)?u[n]:null;if(!r)throw ni("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",n,t);if(t===null||t===i||t==="")return t;if(typeof t!="string")throw ni("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",n);return new r(t)}function l(n){return n instanceof e?n.$$unwrapTrustedValue():n}function a(n,t){if(t===null||t===i||t==="")return t;var r=u.hasOwnProperty(n)?u[n]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(n===ht.RESOURCE_URL){if(h(t))return t;throw ni("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString());}else if(n===ht.HTML)return o(t);throw ni("unsafe","Attempting to use an unsafe value in a safe context.");}var o=function(){throw ni("unsafe","Attempting to use an unsafe value in a safe context.");},e,u;return r.has("$sanitize")&&(o=r.get("$sanitize")),e=f(),u={},u[ht.HTML]=f(e),u[ht.CSS]=f(e),u[ht.URL]=f(e),u[ht.JS]=f(e),u[ht.RESOURCE_URL]=f(u[ht.URL]),{trustAs:c,getTrusted:a,valueOf:l}}]}function iw(){var n=!0;this.enabled=function(t){return arguments.length&&(n=!!t),n};this.$get=["$parse","$sceDelegate",function(t,i){var u;if(n&&pi<8)throw ni("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");u=lt(ht);u.isEnabled=function(){return n};u.trustAs=i.trustAs;u.getTrusted=i.getTrusted;u.valueOf=i.valueOf;n||(u.trustAs=u.getTrusted=function(n,t){return t},u.valueOf=fr);u.parseAs=function(n,i){var r=t(i);return r.literal&&r.constant?r:t(i,function(t){return u.getTrusted(n,t)})};var f=u.parseAs,e=u.getTrusted,o=u.trustAs;return r(ht,function(n,t){var i=v(t);u[br("parse_as_"+i)]=function(t){return f(n,t)};u[br("get_trusted_"+i)]=function(t){return e(n,t)};u[br("trust_as_"+i)]=function(t){return o(n,t)}}),u}]}function rw(){this.$get=["$window","$document",function(n,t){var e={},o=it((/android (\d+)/.exec(v((n.navigator||{}).userAgent))||[])[1]),y=/Boxee/i.test((n.navigator||{}).userAgent),s=t[0]||{},i,r=s.body&&s.body.style,u=!1,f=!1,c,a;if(r){for(a in r)if(c=/^(Moz|webkit|ms)(?=[A-Z])/.exec(a)){i=c[0];i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in r&&"webkit");u=!!("transition"in r||i+"Transition"in r);f=!!("animation"in r||i+"Animation"in r);!o||u&&f||(u=l(r.webkitTransition),f=l(r.webkitAnimation))}return{history:!!(n.history&&n.history.pushState&&!(o<4)&&!y),hasEvent:function(n){if(n==="input"&&pi<=11)return!1;if(h(e[n])){var t=s.createElement("div");e[n]="on"+n in t}return e[n]},csp:wi(),vendorPrefix:i,transitions:u,animations:f,android:o}}]}function uw(){this.$get=["$templateCache","$http","$q",function(n,t,i){function r(u,f){function s(n){if(!f)throw nt("tpload","Failed to load template: {0} (HTTP status: {1} {2})",u,n.status,n.statusText);return i.reject(n)}var e,o;return r.totalPendingRequests++,e=t.defaults&&t.defaults.transformResponse,a(e)?e=e.filter(function(n){return n!==le}):e===le&&(e=null),o={cache:n,transformResponse:e},t.get(u,o)["finally"](function(){r.totalPendingRequests--}).then(function(t){return n.put(u,t.data),t.data},s)}return r.totalPendingRequests=0,r}]}function fw(){this.$get=["$rootScope","$browser","$location",function(n,t,i){var u={};return u.findBindings=function(n,t,i){var f=n.getElementsByClassName("ng-binding"),u=[];return r(f,function(n){var f=ft.element(n).data("$binding");f&&r(f,function(r){if(i){var f=new RegExp("(^|\\s)"+af(t)+"(\\s|\\||$)");f.test(r)&&u.push(n)}else r.indexOf(t)!=-1&&u.push(n)})}),u},u.findModels=function(n,t,i){for(var u=["ng-","data-ng-","ng\\:"],r=0;r<u.length;++r){var e=i?"=":"*=",o="["+u[r]+"model"+e+'"'+t+'"]',f=n.querySelectorAll(o);if(f.length)return f}},u.getLocation=function(){return i.url()},u.setLocation=function(t){t!==i.url()&&(i.url(t),n.$digest())},u.whenStable=function(n){t.notifyWhenNoOutstandingRequests(n)},u}]}function ew(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,t,i,r,u){function s(s,h,l){c(s)||(l=h,h=s,s=o);var w=vr(arguments,3),p=e(l)&&!l,a=(p?r:i).defer(),v=a.promise,y;return y=t.defer(function(){try{a.resolve(s.apply(null,w))}catch(t){a.reject(t);u(t)}finally{delete f[v.$$timeoutId]}p||n.$apply()},h),v.$$timeoutId=y,f[y]=a,v}var f={};return s.cancel=function(n){return n&&n.$$timeoutId in f?(f[n.$$timeoutId].reject("canceled"),delete f[n.$$timeoutId],t.defer.cancel(n.$$timeoutId)):!1},s}]}function ui(n){var t=n;return pi&&(g.setAttribute("href",t),t=g.href),g.setAttribute("href",t),{href:g.href,protocol:g.protocol?g.protocol.replace(/:$/,""):"",host:g.host,search:g.search?g.search.replace(/^\?/,""):"",hash:g.hash?g.hash.replace(/^#/,""):"",hostname:g.hostname,port:g.port,pathname:g.pathname.charAt(0)==="/"?g.pathname:"/"+g.pathname}}function ic(n){var t=l(n)?ui(n):n;return t.protocol===ke.protocol&&t.host===ke.host}function ow(){this.$get=pt(n)}function rc(n){function u(n){try{return decodeURIComponent(n)}catch(t){return n}}var f=n[0]||{},t={},r="";return function(){var s,n,e,o,h,c=f.cookie||"";if(c!==r)for(r=c,s=r.split("; "),t={},e=0;e<s.length;e++)n=s[e],o=n.indexOf("="),o>0&&(h=u(n.substring(0,o)),t[h]===i&&(t[h]=u(n.substring(o+1))));return t}}function sw(){this.$get=rc}function uc(n){function t(u,f){if(s(u)){var e={};return r(u,function(n,i){e[i]=t(i,n)}),e}return n.factory(u+i,f)}var i="Filter";this.register=t;this.$get=["$injector",function(n){return function(t){return n.get(t+i)}}];t("currency",fc);t("date",cc);t("filter",hw);t("json",dw);t("limitTo",gw);t("lowercase",lc);t("number",ec);t("orderBy",vc);t("uppercase",ac)}function hw(){return function(n,t,i){if(!ei(n)){if(n==null)return n;throw y("filter")("notarray","Expected array but received: {0}",n);}var f=de(t),r,u;switch(f){case"function":r=t;break;case"boolean":case"null":case"number":case"string":u=!0;case"object":r=lw(t,i,u);break;default:return n}return Array.prototype.filter.call(n,r)}}function cw(n){return c(n.toString)&&n.toString!==Object.prototype.toString}function lw(n,t,i){var r=s(n)&&"$"in n;return t===!0?t=st:c(t)||(t=function(n,t){return h(n)?!1:n===null||t===null?n===t:s(t)||s(n)&&!cw(n)?!1:(n=v(""+n),t=v(""+t),n.indexOf(t)!==-1)}),function(u){return r&&!s(u)?vi(u,n.$,t,!1):vi(u,n,t,i)}}function vi(n,t,i,r,u){var v=de(n),s=de(t),f,e,o,l;if(s==="string"&&t.charAt(0)==="!")return!vi(n,t.substring(1),i,r);if(a(n))return n.some(function(n){return vi(n,t,i,r)});switch(v){case"object":if(r){for(f in n)if(f.charAt(0)!=="$"&&vi(n[f],t,i,!0))return!0;return u?!1:vi(n,t,i,!1)}if(s==="object"){for(f in t)if((e=t[f],!c(e)&&!h(e))&&(o=f==="$",l=o?n:n[f],!vi(l,e,i,o,o)))return!1;return!0}return i(n,t);case"function":return!1;default:return i(n,t)}}function de(n){return n===null?"null":typeof n}function fc(n){var t=n.NUMBER_FORMATS;return function(n,i,r){return h(i)&&(i=t.CURRENCY_SYM),h(r)&&(r=t.PATTERNS[1].maxFrac),n==null?n:oc(n,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,i)}}function ec(n){var t=n.NUMBER_FORMATS;return function(n,i){return n==null?n:oc(n,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function oc(n,t,i,r,u){var a,l,y,d,o,c;if(s(n)||(a=n<0,n=Math.abs(n),l=n===Infinity,!l&&!isFinite(n)))return"";var v=n+"",e="",b=!1,k=[];if(l&&(e=""),l||v.indexOf("e")===-1||(y=v.match(/([\d\.]+)e(-?)(\d+)/),y&&y[2]=="-"&&y[3]>u+1?n=0:(e=v,b=!0)),l||b)u>0&&n<1&&(e=n.toFixed(u),n=parseFloat(e));else{d=(v.split(ge)[1]||"").length;h(u)&&(u=Math.min(Math.max(t.minFrac,d),t.maxFrac));n=+(Math.round(+(n.toString()+"e"+u)).toString()+"e"+-u);o=(""+n).split(ge);c=o[0];o=o[1]||"";var f,p=0,w=t.lgSize,g=t.gSize;if(c.length>=w+g)for(p=c.length-w,f=0;f<p;f++)(p-f)%g==0&&f!==0&&(e+=i),e+=c.charAt(f);for(f=p;f<c.length;f++)(c.length-f)%w==0&&f!==0&&(e+=i),e+=c.charAt(f);while(o.length<u)o+="0";u&&u!=="0"&&(e+=r+o.substr(0,u))}return n===0&&(a=!1),k.push(a?t.negPre:t.posPre,e,a?t.negSuf:t.posSuf),k.join("")}function ff(n,t,i){var r="";for(n<0&&(r="-",n=-n),n=""+n;n.length<t;)n="0"+n;return i&&(n=n.substr(n.length-t)),r+n}function tt(n,t,i,r){return i=i||0,function(u){var f=u["get"+n]();return(i>0||f>-i)&&(f+=i),f===0&&i==-12&&(f=12),ff(f,t,r)}}function ef(n,t){return function(i,r){var u=i["get"+n](),f=ir(t?"SHORT"+n:n);return r[f][u]}}function aw(n,t,i){var r=-1*i,u=r>=0?"+":"";return u+(ff(Math[r>0?"floor":"ceil"](r/60),2)+ff(Math.abs(r%60),2))}function sc(n){var t=new Date(n,0,1).getDay();return new Date(n,0,(t<=4?5:12)-t)}function vw(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function hc(n){return function(t){var i=sc(t.getFullYear()),r=vw(t),u=+r-+i,f=1+Math.round(u/6048e5);return ff(f,n)}}function yw(n,t){return n.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function no(n,t){return n.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function pw(n,t){return n.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function cc(n){function i(n){var i;if(i=n.match(t)){var r=new Date(0),u=0,f=0,e=i[8]?r.setUTCFullYear:r.setFullYear,o=i[8]?r.setUTCHours:r.setHours;i[9]&&(u=it(i[9]+i[10]),f=it(i[9]+i[11]));e.call(r,it(i[1]),it(i[2])-1,it(i[3]));var s=it(i[4]||0)-u,h=it(i[5]||0)-f,c=it(i[6]||0),l=Math.round(parseFloat("0."+(i[7]||0))*1e3);return o.call(r,s,h,c,l),r}return n}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,u,f){var c="",e=[],o,s,h;if(u=u||"mediumDate",u=n.DATETIME_FORMATS[u]||u,l(t)&&(t=kw.test(t)?it(t):i(t)),k(t)&&(t=new Date(t)),!ot(t)||!isFinite(t.getTime()))return t;while(u)s=bw.exec(u),s?(e=ar(e,s,1),u=e.pop()):(e.push(u),u=null);return h=t.getTimezoneOffset(),f&&(h=bo(f,t.getTimezoneOffset()),t=vf(t,f,!0)),r(e,function(i){o=ww[i];c+=o?o(t,n.DATETIME_FORMATS,h):i.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function dw(){return function(n,t){return h(t)&&(t=2),yr(n,t)}}function gw(){return function(n,t,i){return(t=Math.abs(Number(t))===Infinity?Number(t):it(t),isNaN(t))?n:(k(n)&&(n=n.toString()),!a(n)&&!l(n))?n:(i=!i||isNaN(i)?0:it(i),i=i<0&&i>=-n.length?n.length+i:i,t>=0?n.slice(i,i+t):i===0?n.slice(t,n.length):n.slice(Math.max(0,i+t),i))}}function vc(n){return function(t,i,r){function s(n,t){for(var u,r=0;r<i.length;r++)if(u=i[r](n,t),u!==0)return u;return 0}function u(n,t){return t?function(t,i){return n(i,t)}:n}function e(n){switch(typeof n){case"number":case"boolean":case"string":return!0;default:return!1}}function o(n){return n===null?"null":typeof n.valueOf=="function"&&(n=n.valueOf(),e(n))?n:typeof n.toString=="function"&&(n=n.toString(),e(n))?n:""}function f(n,t){var i=typeof n,r=typeof t;return i===r&&i==="object"&&(n=o(n),t=o(t)),i===r?(i==="string"&&(n=n.toLowerCase(),t=t.toLowerCase()),n===t)?0:n<t?-1:1:i<r?-1:1}return ei(t)?(i=a(i)?i:[i],i.length===0&&(i=["+"]),i=i.map(function(t){var r=!1,i=t||fr,e;if(l(t)){if((t.charAt(0)=="+"||t.charAt(0)=="-")&&(r=t.charAt(0)=="-",t=t.substring(1)),t==="")return u(f,r);if(i=n(t),i.constant)return e=i(),u(function(n,t){return f(n[e],t[e])},r)}return u(function(n,t){return f(i(n),i(t))},r)}),rr.call(t).sort(u(s,r))):t}}function yi(n){return c(n)&&(n={link:n}),n.restrict=n.restrict||"AC",pt(n)}function nb(n,t){n.$name=t}function pc(n,t,u,f,e){var o=this,s=[],h=o.$$parentForm=n.parent().controller("form")||iu;o.$error={};o.$$success={};o.$pending=i;o.$name=e(t.name||t.ngForm||"")(u);o.$dirty=!1;o.$pristine=!0;o.$valid=!0;o.$invalid=!1;o.$submitted=!1;h.$addControl(o);o.$rollbackViewValue=function(){r(s,function(n){n.$rollbackViewValue()})};o.$commitViewValue=function(){r(s,function(n){n.$commitViewValue()})};o.$addControl=function(n){ki(n.$name,"input");s.push(n);n.$name&&(o[n.$name]=n)};o.$$renameControl=function(n,t){var i=n.$name;o[i]===n&&delete o[i];o[t]=n;n.$name=t};o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name];r(o.$pending,function(t,i){o.$setValidity(i,null,n)});r(o.$error,function(t,i){o.$setValidity(i,null,n)});r(o.$$success,function(t,i){o.$setValidity(i,null,n)});cr(s,n)};sl({ctrl:this,$element:n,set:function(n,t,i){var r=n[t],u;r?(u=r.indexOf(i),u===-1&&r.push(i)):n[t]=[i]},unset:function(n,t,i){var r=n[t];r&&(cr(r,i),r.length===0&&delete n[t])},parentForm:h,$animate:f});o.$setDirty=function(){f.removeClass(n,nr);f.addClass(n,sf);o.$dirty=!0;o.$pristine=!1;h.$setDirty()};o.$setPristine=function(){f.setClass(n,nr,sf+" "+to);o.$dirty=!1;o.$pristine=!0;o.$submitted=!1;r(s,function(n){n.$setPristine()})};o.$setUntouched=function(){r(s,function(n){n.$setUntouched()})};o.$setSubmitted=function(){f.addClass(n,to);o.$submitted=!0;h.$setSubmitted()}}function ro(n){n.$formatters.push(function(t){return n.$isEmpty(t)?t:t.toString()})}function ob(n,t,i,r,u,f){ru(n,t,i,r,u,f);ro(r)}function ru(n,t,i,r,u,f){var c=v(t[0].type),s,o,e,h;if(!u.android){s=!1;t.on("compositionstart",function(){s=!0});t.on("compositionend",function(){s=!1;o()})}if(o=function(n){if(e&&(f.defer.cancel(e),e=null),!s){var u=t.val(),o=n&&n.type;c==="password"||i.ngTrim&&i.ngTrim==="false"||(u=p(u));(r.$viewValue!==u||u===""&&r.$$hasNativeValidators)&&r.$setViewValue(u,o)}},u.hasEvent("input"))t.on("input",o);else{h=function(n,t,i){e||(e=f.defer(function(){e=null;t&&t.value===i||o(n)}))};t.on("keydown",function(n){var t=n.keyCode;t===91||15<t&&t<19||37<=t&&t<=40||h(n,this,this.value)});if(u.hasEvent("paste"))t.on("paste cut",h)}t.on("change",o);r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function sb(n,t){var i;if(ot(n))return n;if(l(n)&&(io.lastIndex=0,i=io.exec(n),i)){var r=+i[1],s=+i[2],u=0,f=0,e=0,o=0,h=sc(r),c=(s-1)*7;return t&&(u=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getMilliseconds()),new Date(r,0,h.getDate()+c,u,f,e,o)}return NaN}function of(n,t){return function(i,u){var e,f;if(ot(i))return i;if(l(i)){if(i.charAt(0)=='"'&&i.charAt(i.length-1)=='"'&&(i=i.substring(1,i.length-1)),rb.test(i))return new Date(i);if(n.lastIndex=0,e=n.exec(i),e)return e.shift(),f=u?{yyyy:u.getFullYear(),MM:u.getMonth()+1,dd:u.getDate(),HH:u.getHours(),mm:u.getMinutes(),ss:u.getSeconds(),sss:u.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(n,i){i<t.length&&(f[t[i]]=+n)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,f.sss*1e3||0)}return NaN}}function uu(n,t,r,u){return function(f,o,s,c,l,a,v){function k(n){return n&&!(n.getTime&&n.getTime()!==n.getTime())}function d(n){return e(n)?ot(n)?n:r(n):i}var y,p,w,b;tl(f,o,s,c);ru(f,o,s,c,l,a);y=c&&c.$options&&c.$options.timezone;c.$$parserName=n;c.$parsers.push(function(n){if(c.$isEmpty(n))return null;if(t.test(n)){var u=r(n,p);return y&&(u=vf(u,y)),u}return i});c.$formatters.push(function(n){if(n&&!ot(n))throw hf("datefmt","Expected `{0}` to be a date",n);return k(n)?(p=n,p&&y&&(p=vf(p,y,!0)),v("date")(n,u,y)):(p=null,"")});(e(s.min)||s.ngMin)&&(c.$validators.min=function(n){return!k(n)||h(w)||r(n)>=w},s.$observe("min",function(n){w=d(n);c.$validate()}));(e(s.max)||s.ngMax)&&(c.$validators.max=function(n){return!k(n)||h(b)||r(n)<=b},s.$observe("max",function(n){b=d(n);c.$validate()}))}}function tl(n,t,r,u){var f=t[0],e=u.$$hasNativeValidators=s(f.validity);e&&u.$parsers.push(function(n){var r=t.prop(bl)||{};return r.badInput&&!r.typeMismatch?i:n})}function hb(n,t,r,u,f,o){var s,c;tl(n,t,r,u);ru(n,t,r,u,f,o);u.$$parserName="number";u.$parsers.push(function(n){return u.$isEmpty(n)?null:eb.test(n)?parseFloat(n):i});u.$formatters.push(function(n){if(!u.$isEmpty(n)){if(!k(n))throw hf("numfmt","Expected `{0}` to be a number",n);n=n.toString()}return n});(e(r.min)||r.ngMin)&&(u.$validators.min=function(n){return u.$isEmpty(n)||h(s)||n>=s},r.$observe("min",function(n){e(n)&&!k(n)&&(n=parseFloat(n,10));s=k(n)&&!isNaN(n)?n:i;u.$validate()}));(e(r.max)||r.ngMax)&&(u.$validators.max=function(n){return u.$isEmpty(n)||h(c)||n<=c},r.$observe("max",function(n){e(n)&&!k(n)&&(n=parseFloat(n,10));c=k(n)&&!isNaN(n)?n:i;u.$validate()}))}function cb(n,t,i,r,u,f){ru(n,t,i,r,u,f);ro(r);r.$$parserName="url";r.$validators.url=function(n,t){var i=n||t;return r.$isEmpty(i)||ub.test(i)}}function lb(n,t,i,r,u,f){ru(n,t,i,r,u,f);ro(r);r.$$parserName="email";r.$validators.email=function(n,t){var i=n||t;return r.$isEmpty(i)||fb.test(i)}}function ab(n,t,i,r){h(i.name)&&t.attr("name",eu());var u=function(n){t[0].checked&&r.$setViewValue(i.value,n&&n.type)};t.on("click",u);r.$render=function(){var n=i.value;t[0].checked=n==r.$viewValue};i.$observe("value",r.$render)}function il(n,t,i,r,u){var f;if(e(r)){if(f=n(r),!f.constant)throw y("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,r);return f(t)}return u}function vb(n,t,i,r,u,f,e,o){var s=il(o,n,"ngTrueValue",i.ngTrueValue,!0),h=il(o,n,"ngFalseValue",i.ngFalseValue,!1),c=function(n){r.$setViewValue(t[0].checked,n&&n.type)};t.on("click",c);r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(n){return n===!1};r.$formatters.push(function(n){return st(n,s)});r.$parsers.push(function(n){return n?s:h})}function uo(n,t){return n="ngClass"+n,["$animate",function(i){function f(n,t){var f=[],i,u,r;n:for(i=0;i<n.length;i++){for(u=n[i],r=0;r<t.length;r++)if(u==t[r])continue n;f.push(u)}return f}function u(n){var t=[];return a(n)?(r(n,function(n){t=t.concat(u(n))}),t):l(n)?n.split(" "):s(n)?(r(n,function(n,i){n&&(t=t.concat(i.split(" ")))}),t):n}return{restrict:"AC",link:function(e,o,s){function l(n){var t=c(n,1);s.$addClass(t)}function v(n){var t=c(n,-1);s.$removeClass(t)}function c(n,t){var i=o.data("$classCounts")||rt(),u=[];return r(n,function(n){(t>0||i[n])&&(i[n]=(i[n]||0)+t,i[n]===+(t>0)&&u.push(n))}),o.data("$classCounts",i),u.join(" ")}function y(n,t){var r=f(t,n),u=f(n,t);r=c(r,1);u=c(u,-1);r&&r.length&&i.addClass(o,r);u&&u.length&&i.removeClass(o,u)}function a(n){var i,r;(t===!0||e.$index%2===t)&&(i=u(n||[]),h?st(n,h)||(r=u(h),y(r,i)):l(i));h=lt(n)}var h;e.$watch(s[n],a,!0);s.$observe("class",function(){a(e.$eval(s[n]))});n!=="ngClass"&&e.$watch("$index",function(i,r){var o=i&1,f;o!==(r&1)&&(f=u(e.$eval(s[n])),o===t?l(f):v(f))})}}}]}function sl(n){function l(n,r,e){r===i?a("$pending",n,e):v("$pending",n,e);hr(r)?r?(u(t.$error,n,e),o(t.$$success,n,e)):(o(t.$error,n,e),u(t.$$success,n,e)):(u(t.$error,n,e),u(t.$$success,n,e));t.$pending?(f(ol,!0),t.$valid=t.$invalid=i,s("",null)):(f(ol,!1),t.$valid=hl(t.$error),t.$invalid=!t.$valid,s("",t.$valid));var h;h=t.$pending&&t.$pending[n]?i:t.$error[n]?!1:t.$$success[n]?!0:null;s(n,h);c.$setValidity(n,h,t)}function a(n,i,r){t[n]||(t[n]={});o(t[n],i,r)}function v(n,r,f){t[n]&&u(t[n],r,f);hl(t[n])&&(t[n]=i)}function f(n,t){t&&!r[n]?(h.addClass(e,n),r[n]=!0):!t&&r[n]&&(h.removeClass(e,n),r[n]=!1)}function s(n,t){n=n?"-"+is(n,"-"):"";f(fu+n,t===!0);f(fl+n,t===!1)}var t=n.ctrl,e=n.$element,r={},o=n.set,u=n.unset,c=n.parentForm,h=n.$animate;r[fl]=!(r[fu]=e.hasClass(fu));t.$setValidity=l}function hl(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}var wl=/^\/(.+)\/([a-z]*)$/,bl="validity",v=function(n){return l(n)?n.toLowerCase():n},tr=Object.prototype.hasOwnProperty,ir=function(n){return l(n)?n.toUpperCase():n},kl=function(n){return l(n)?n.replace(/[A-Z]/g,function(n){return String.fromCharCode(n.charCodeAt(0)|32)}):n},dl=function(n){return l(n)?n.replace(/[a-z]/g,function(n){return String.fromCharCode(n.charCodeAt(0)&-33)}):n},a,lo,p,af,wi,lr,oi,ts,pf,wf,es,si,kr,fe,ee,oe,gs,se,ii,oh,ut,nu,ch,nf,u,tf,vp,yp,gh,ni,ht,nt,g,ke,ge,lc,ac,yc,tu,iu,to;"i"!=="I".toLowerCase()&&(v=kl,ir=dl);var pi,f,et,rr=[].slice,gl=[].splice,na=[].push,ti=Object.prototype.toString,eo=Object.getPrototypeOf,fi=y("ng"),ft=n.angular||(n.angular={}),ur,ta=0;pi=t.documentMode;o.$inject=[];fr.$inject=[];a=Array.isArray;lo=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/;p=function(n){return l(n)?n.trim():n};af=function(n){return n.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};wi=function(){if(e(wi.isActive_))return wi.isActive_;var n=!!(t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]"));if(!n)try{new Function("")}catch(i){n=!0}return wi.isActive_=n};lr=function(){if(e(lr.name_))return lr.name_;for(var r,f=oi.length,i,u,n=0;n<f;++n)if(i=oi[n],r=t.querySelector("["+i.replace(":","\\:")+"jq]")){u=r.getAttribute(i+"jq");break}return lr.name_=u};oi=["ng-","data-ng-","ng:","x-ng-"];ts=/[A-Z]/g;pf=!1;var wt=1,va=2,di=3,kf=8,us=9,df=11;es={full:"1.4.1",major:1,minor:4,dot:1,codeName:"hyperionic-illumination"};b.expando="ng339";var pr=b.cache={},ba=1,cu=function(n,t,i){n.addEventListener(t,i,!1)},wr=function(n,t,i){n.removeEventListener(t,i,!1)};b._data=function(n){return this.cache[n[this.expando]]||{}};var da=/([\:\-\_]+(.))/g,ga=/^moz([A-Z])/,nv={mouseleave:"mouseout",mouseenter:"mouseover"},gf=y("jqLite");var tv=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,iv=/<|&#?\w+;/,rv=/<([\w:]+)/,uv=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt={option:[1,'<select multiple="multiple">',"<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};vt.optgroup=vt.option;vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead;vt.th=vt.td;si=b.prototype={ready:function(i){function r(){u||(u=!0,i())}var u=!1;if(t.readyState==="complete")setTimeout(r);else{this.on("DOMContentLoaded",r);b(n).on("load",r)}},toString:function(){var n=[];return r(this,function(t){n.push(""+t)}),"["+n.join(", ")+"]"},eq:function(n){return n>=0?f(this[n]):f(this[this.length+n])},length:0,push:na,sort:[].sort,splice:[].splice};kr={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(n){kr[v(n)]=n});fe={};r("input,select,option,textarea,button,form,details".split(","),function(n){fe[n]=!0});ee={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:ie,removeData:au,hasData:fv},function(n,t){b[t]=n});r({data:ie,inheritedData:bu,scope:function(n){return f.data(n,"$scope")||bu(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return f.data(n,"$isolateScope")||f.data(n,"$isolateScopeNoTemplate")},controller:cs,injector:function(n){return bu(n,"$injector")},removeAttr:function(n,t){n.removeAttribute(t)},hasClass:yu,css:function(n,t,i){if(t=br(t),e(i))n.style[t]=i;else return n.style[t]},attr:function(n,t,r){var f=n.nodeType,u,s;if(f!==di&&f!==va&&f!==kf)if(u=v(t),kr[u])if(e(r))r?(n[t]=!0,n.setAttribute(t,u)):(n[t]=!1,n.removeAttribute(u));else return n[t]||(n.attributes.getNamedItem(t)||o).specified?u:i;else if(e(r))n.setAttribute(t,r);else if(n.getAttribute)return s=n.getAttribute(t,2),s===null?i:s},prop:function(n,t,i){if(e(i))n[t]=i;else return n[t]},text:function(){function n(n,t){if(h(t)){var i=n.nodeType;return i===wt||i===di?n.textContent:""}n.textContent=t}return n.$dv="",n}(),val:function(n,t){if(h(t)){if(n.multiple&&bt(n)==="select"){var i=[];return r(n.options,function(n){n.selected&&i.push(n.value||n.text)}),i.length===0?null:i}return n.value}n.value=t},html:function(n,t){if(h(t))return n.innerHTML;lu(n,!0);n.innerHTML=t},empty:ls},function(n,t){b.prototype[t]=function(t,r){var u,h,e=this.length,f,l,o,c;if(n!==ls&&(n.length==2&&n!==yu&&n!==cs?t:r)===i){if(s(t)){for(u=0;u<e;u++)if(n===ie)n(this[u],t);else for(h in t)n(this[u],h,t[h]);return this}for(f=n.$dv,l=f===i?Math.min(e,1):e,o=0;o<l;o++)c=n(this[o],t,r),f=f?f+c:c;return f}for(u=0;u<e;u++)n(this[u],t,r);return this}});r({removeData:au,on:function cv(n,t,i,r){var h,c,o;if(e(r))throw gf("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(os(n)){var s=vu(n,!0),u=s.events,f=s.handle;for(f||(f=s.handle=hv(n,u)),h=t.indexOf(" ")>=0?t.split(" "):[t],c=h.length;c--;)t=h[c],o=u[t],o||(u[t]=[],t==="mouseenter"||t==="mouseleave"?cv(n,nv[t],function(n){var r=this,i=n.relatedTarget;i&&(i===r||r.contains(i))||f(n,t)}):t!=="$destroy"&&cu(n,t,f),o=u[t]),o.push(i)}},off:hs,one:function(n,t,i){n=f(n);n.on(t,function r(){n.off(t,i);n.off(t,r)});n.on(t,i)},replaceWith:function(n,t){var i,u=n.parentNode;lu(n);r(new b(t),function(t){i?u.insertBefore(t,i.nextSibling):u.replaceChild(t,n);i=t})},children:function(n){var t=[];return r(n.childNodes,function(n){n.nodeType===wt&&t.push(n)}),t},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(n,t){var r=n.nodeType,i,u,f;if(r===wt||r===df)for(t=new b(t),i=0,u=t.length;i<u;i++)f=t[i],n.appendChild(f)},prepend:function(n,t){if(n.nodeType===wt){var i=n.firstChild;r(new b(t),function(t){n.insertBefore(t,i)})}},wrap:function(n,t){t=f(t).eq(0).clone()[0];var i=n.parentNode;i&&i.replaceChild(t,n);t.appendChild(n)},remove:ue,detach:function(n){ue(n,!0)},after:function(n,t){var u=n,e=n.parentNode,i,f,r;for(t=new b(t),i=0,f=t.length;i<f;i++)r=t[i],e.insertBefore(r,u.nextSibling),u=r},addClass:wu,removeClass:pu,toggleClass:function(n,t,i){t&&r(t.split(" "),function(t){var r=i;h(r)&&(r=!yu(n,t));(r?wu:pu)(n,t)})},parent:function(n){var t=n.parentNode;return t&&t.nodeType!==df?t:null},next:function(n){return n.nextElementSibling},find:function(n,t){return n.getElementsByTagName?n.getElementsByTagName(t):[]},clone:te,triggerHandler:function(n,t,i){var u,f,e,s=t.type||t,h=vu(n),c=h&&h.events,l=c&&c[s];l&&(u={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:o,type:s,target:n},t.type&&(u=w(u,t)),f=lt(l),e=i?[u].concat(i):[u],r(f,function(t){u.isImmediatePropagationStopped()||t.apply(n,e)}))}},function(n,t){b.prototype[t]=function(t,i,r){for(var u,o=0,s=this.length;o<s;o++)h(u)?(u=n(this[o],t,i,r),e(u)&&(u=f(u))):re(u,n(this[o],t,i,r));return e(u)?u:this};b.prototype.bind=b.prototype.on;b.prototype.unbind=b.prototype.off});gi.prototype={put:function(n,t){this[hi(n,this.nextUid)]=t},get:function(n){return this[hi(n,this.nextUid)]},remove:function(n){var t=this[n=hi(n,this.nextUid)];return delete this[n],t}};var av=[function(){this.$get=[function(){return gi}]}],vs=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,vv=/,/,yv=/^\s*(_?)(\S+?)\1\s*$/,ys=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,ci=y("$injector");dr.$$annotate=wv;var ps=y("$animate"),kv=1,ws="ng-animate";var ny=function(){this.$get=["$q","$$rAF",function(n,t){function i(){}return i.all=o,i.chain=o,i.prototype={end:o,cancel:o,resume:o,pause:o,complete:o,then:function(i,r){return n(function(n){t(function(){n()})}).then(i,r)}},i}]},ty=function(){var n=new gi,t=[];this.$get=["$$AnimateRunner","$rootScope",function(i,u){function f(i,f,e){var o=n.get(i);(o||(n.put(i,o={}),t.push(i)),f&&r(f.split(" "),function(n){n&&(o[n]=!0)}),e&&r(e.split(" "),function(n){n&&(o[n]=!1)}),t.length>1)||u.$$postDigest(function(){r(t,function(t){var f=n.get(t);if(f){var e=gv(t.attr("class")),i="",u="";r(f,function(n,t){var r=!!e[t];n!==r&&(n?i+=(i.length?" ":"")+t:u+=(u.length?" ":"")+t)});r(t,function(n){i&&wu(n,i);u&&pu(n,u)});n.remove(t)}});t.length=0})}return{enabled:o,on:o,off:o,pin:o,push:function(n,t,r,u){return u&&u(),r=r||{},r.from&&n.css(r.from),r.to&&n.css(r.to),(r.addClass||r.removeClass)&&f(n,r.addClass,r.removeClass),new i}}}]},iy=["$provide",function(n){var t=this;this.$$registeredAnimations=Object.create(null);this.register=function(i,r){if(i&&i.charAt(0)!==".")throw ps("notcsel","Expecting class selector starting with '.' got '{0}'.",i);var u=i+"-animation";t.$$registeredAnimations[i.substr(1)]=u;n.factory(u,r)};this.classNameFilter=function(n){if(arguments.length===1&&(this.$$classNameFilter=n instanceof RegExp?n:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+ws+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw ps("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ws);}return this.$$classNameFilter};this.$get=["$$animateQueue",function(n){function t(n,t,i){if(i){var r=dv(i);!r||r.parentNode||r.previousElementSibling||(i=null)}i?i.after(n):t.prepend(n)}return{on:n.on,off:n.off,pin:n.pin,enabled:n.enabled,cancel:function(n){n.end&&n.end()},enter:function(i,r,u,e){return r=r&&f(r),u=u&&f(u),r=r||u.parent(),t(i,r,u),n.push(i,"enter",li(e))},move:function(i,r,u,e){return r=r&&f(r),u=u&&f(u),r=r||u.parent(),t(i,r,u),n.push(i,"move",li(e))},leave:function(t,i){return n.push(t,"leave",li(i),function(){t.remove()})},addClass:function(t,i,r){return r=li(r),r.addClass=gr(r.addclass,i),n.push(t,"addClass",r)},removeClass:function(t,i,r){return r=li(r),r.removeClass=gr(r.removeClass,i),n.push(t,"removeClass",r)},setClass:function(t,i,r,u){return u=li(u),u.addClass=gr(u.addClass,i),u.removeClass=gr(u.removeClass,r),n.push(t,"setClass",u)},animate:function(t,i,r,u,f){return f=li(f),f.from=f.from?w(f.from,i):i,f.to=f.to?w(f.to,r):r,u=u||"ng-inline-animate",f.tempClasses=gr(f.tempClasses,u),n.push(t,"animate",f)}}}]}];nt=y("$compile");bs.$inject=["$provide","$$sanitizeUriProvider"];oe=/^((?:x|data)[\:\-_])/i;gs=y("$controller");se=/^(\S+)(\s+as\s+(\w+))?$/;var nh="application/json",he={"Content-Type":nh+";charset=utf-8"},ay=/^\[|^\{(?!\{)/,vy={"[":/]$/,"{":/}$/},yy=/^\)\]\}',?\n/;ii=ft.$interpolateMinErr=y("$interpolate");ii.throwNoconcat=function(n){throw ii("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",n);};ii.interr=function(n,t){return ii("interr","Can't interpolate: {0}\n{1}",n,t.toString())};var up=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,fp={http:80,https:443,ftp:21},ku=y("$location");oh={$$html5:!1,$$replace:!1,absUrl:gu("$$absUrl"),url:function(n){if(h(n))return this.$$url;var t=up.exec(n);return(t[1]||n==="")&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||n==="")&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:gu("$$protocol"),host:gu("$$host"),port:gu("$$port"),path:sh("$$path",function(n){return n=n!==null?n.toString():"",n.charAt(0)=="/"?n:"/"+n}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(l(n)||k(n))n=n.toString(),this.$$search=go(n);else if(s(n))n=ct(n,{}),r(n,function(t,i){t==null&&delete n[i]}),this.$$search=n;else throw ku("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:h(t)||t===null?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:sh("$$hash",function(n){return n!==null?n.toString():""}),replace:function(){return this.$$replace=!0,this}};r([eh,we,pe],function(n){n.prototype=Object.create(oh);n.prototype.state=function(t){if(!arguments.length)return this.$$state;if(n!==pe||!this.$$html5)throw ku("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=h(t)?null:t,this}});ut=y("$parse");var hp=Function.prototype.call,cp=Function.prototype.apply,lp=Function.prototype.bind;nu=rt();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(n){nu[n]=!0});ch={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};nf=function(n){this.options=n};nf.prototype={constructor:nf,lex:function(n){var t,r;for(this.text=n,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),t==='"'||t==="'")this.readString(t);else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var i=t+this.peek(),u=i+this.peek(2),o=nu[t],f=nu[i],e=nu[u];o||f||e?(r=e?u:f?i:t,this.tokens.push({index:this.index,text:r,operator:!0}),this.index+=r.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(n,t){return t.indexOf(n)!==-1},peek:function(n){var t=n||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(n){return"0"<=n&&n<="9"&&typeof n=="string"},isWhitespace:function(n){return n===" "||n==="\r"||n==="\t"||n==="\n"||n==='\v'||n===" "},isIdent:function(n){return"a"<=n&&n<="z"||"A"<=n&&n<="Z"||"_"===n||n==="$"},isExpOperator:function(n){return n==="-"||n==="+"||this.isNumber(n)},throwError:function(n,t,i){i=i||this.index;var r=e(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw ut("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",n,r,this.text);},readNumber:function(){for(var n="",r=this.index,t,i;this.index<this.text.length;){if(t=v(this.text.charAt(this.index)),t=="."||this.isNumber(t))n+=t;else if(i=this.peek(),t=="e"&&this.isExpOperator(i))n+=t;else if(this.isExpOperator(t)&&i&&this.isNumber(i)&&n.charAt(n.length-1)=="e")n+=t;else if(!this.isExpOperator(t)||i&&this.isNumber(i)||n.charAt(n.length-1)!="e")break;else this.throwError("Invalid exponent");this.index++}this.tokens.push({index:r,text:n,constant:!0,value:Number(n)})},readIdent:function(){for(var t=this.index,n;this.index<this.text.length;){if(n=this.text.charAt(this.index),!(this.isIdent(n)||this.isNumber(n)))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(n){var f=this.index,t,r,o;this.index++;for(var i="",e=n,u=!1;this.index<this.text.length;){if(t=this.text.charAt(this.index),e+=t,u)t==="u"?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,i+=String.fromCharCode(parseInt(r,16))):(o=ch[t],i=i+(o||t)),u=!1;else if(t==="\\")u=!0;else{if(t===n){this.index++;this.tokens.push({index:f,text:e,constant:!0,value:i});return}i+=t}this.index++}this.throwError("Unterminated quote",f)}};u=function(n,t){this.lexer=n;this.options=t};u.Program="Program";u.ExpressionStatement="ExpressionStatement";u.AssignmentExpression="AssignmentExpression";u.ConditionalExpression="ConditionalExpression";u.LogicalExpression="LogicalExpression";u.BinaryExpression="BinaryExpression";u.UnaryExpression="UnaryExpression";u.CallExpression="CallExpression";u.MemberExpression="MemberExpression";u.Identifier="Identifier";u.Literal="Literal";u.ArrayExpression="ArrayExpression";u.Property="Property";u.ObjectExpression="ObjectExpression";u.ThisExpression="ThisExpression";u.NGValueParameter="NGValueParameter";u.prototype={ast:function(n){this.text=n;this.tokens=this.lexer.lex(n);var t=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var n=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&n.push(this.expressionStatement()),!this.expect(";"))return{type:u.Program,body:n}},expressionStatement:function(){return{type:u.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var n=this.expression(),t;t=this.expect("|");)n=this.filter(n);return n},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary();return this.expect("=")&&(n={type:u.AssignmentExpression,left:n,right:this.assignment(),operator:"="}),n},ternary:function(){var n=this.logicalOR(),t,i;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(i=this.expression(),{type:u.ConditionalExpression,test:n,alternate:t,consequent:i}):n},logicalOR:function(){for(var n=this.logicalAND();this.expect("||");)n={type:u.LogicalExpression,operator:"||",left:n,right:this.logicalAND()};return n},logicalAND:function(){for(var n=this.equality();this.expect("&&");)n={type:u.LogicalExpression,operator:"&&",left:n,right:this.equality()};return n},equality:function(){for(var n=this.relational(),t;t=this.expect("==","!=","===","!==");)n={type:u.BinaryExpression,operator:t.text,left:n,right:this.relational()};return n},relational:function(){for(var n=this.additive(),t;t=this.expect("<",">","<=",">=");)n={type:u.BinaryExpression,operator:t.text,left:n,right:this.additive()};return n},additive:function(){for(var n=this.multiplicative(),t;t=this.expect("+","-");)n={type:u.BinaryExpression,operator:t.text,left:n,right:this.multiplicative()};return n},multiplicative:function(){for(var n=this.unary(),t;t=this.expect("*","/","%");)n={type:u.BinaryExpression,operator:t.text,left:n,right:this.unary()};return n},unary:function(){var n;return(n=this.expect("+","-","!"))?{type:u.UnaryExpression,operator:n.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var n,t;for(this.expect("(")?(n=this.filterChain(),this.consume(")")):this.expect("[")?n=this.arrayDeclaration():this.expect("{")?n=this.object():this.constants.hasOwnProperty(this.peek().text)?n=ct(this.constants[this.consume().text]):this.peek().identifier?n=this.identifier():this.peek().constant?n=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)t.text==="("?(n={type:u.CallExpression,callee:n,arguments:this.parseArguments()},this.consume(")")):t.text==="["?(n={type:u.MemberExpression,object:n,property:this.expression(),computed:!0},this.consume("]")):t.text==="."?n={type:u.MemberExpression,object:n,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return n},filter:function(n){for(var t=[n],i={type:u.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return i},parseArguments:function(){var n=[];if(this.peekToken().text!==")")do n.push(this.expression());while(this.expect(","));return n},identifier:function(){var n=this.consume();return n.identifier||this.throwError("is not a valid identifier",n),{type:u.Identifier,name:n.text}},constant:function(){return{type:u.Literal,value:this.consume().value}},arrayDeclaration:function(){var n=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;n.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:u.ArrayExpression,elements:n}},object:function(){var t=[],n;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;n={type:u.Property,kind:"init"};this.peek().constant?n.key=this.constant():this.peek().identifier?n.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");n.value=this.expression();t.push(n)}while(this.expect(","));return this.consume("}"),{type:u.ObjectExpression,properties:t}},throwError:function(n,t){throw ut("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,n,t.index+1,this.text,this.text.substring(t.index));},consume:function(n){if(this.tokens.length===0)throw ut("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(n);return t||this.throwError("is unexpected, expecting ["+n+"]",this.peek()),t},peekToken:function(){if(this.tokens.length===0)throw ut("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(n,t,i,r){return this.peekAhead(0,n,t,i,r)},peekAhead:function(n,t,i,r,u){if(this.tokens.length>n){var e=this.tokens[n],f=e.text;if(f===t||f===i||f===r||f===u||!t&&!i&&!r&&!u)return e}return!1},expect:function(n,t,i,r){var u=this.peek(n,t,i,r);return u?(this.tokens.shift(),u):!1},constants:{"true":{type:u.Literal,value:!0},"false":{type:u.Literal,value:!1},"null":{type:u.Literal,value:null},undefined:{type:u.Literal,value:i},"this":{type:u.ThisExpression}}};kh.prototype={compile:function(n,t){var u=this,f=this.astBuilder.ast(n),o,s,h,c,l,e;return this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},d(f,u.$filter),o="",this.stage="assign",(s=ph(f))&&(this.state.computing="assign",h=this.nextId(),this.recurse(s,h),o="fn.assign="+this.generateFunction("assign","s,v,l")),c=vh(f.body),u.stage="inputs",r(c,function(n,t){var i="fn"+t,r;u.state[i]={vars:[],body:[],own:{}};u.state.computing=i;r=u.nextId();u.recurse(n,r);u.return_(r);u.state.inputs.push(i);n.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(f),l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",e=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",l)(this.$filter,ri,yt,hh,ap,lh,n),this.state=this.stage=i,e.literal=wh(f),e.constant=bh(f),e},USE:"use",STRICT:"strict",watchFns:function(){var n=[],t=this.state.inputs,i=this;return r(t,function(t){n.push("var "+t+"="+i.generateFunction(t,"s"))}),t.length&&n.push("fn.inputs=["+t.join(",")+"];"),n.join("")},generateFunction:function(n,t){return"function("+t+"){"+this.varsPrefix(n)+this.body(n)+"};"},filterPrefix:function(){var n=[],t=this;return(r(this.state.filters,function(i,r){n.push(i+"=$filter("+t.escape(r)+")")}),n.length)?"var "+n.join(",")+";":""},varsPrefix:function(n){return this.state[n].vars.length?"var "+this.state[n].vars.join(",")+";":""},body:function(n){return this.state[n].body.join("")},recurse:function(n,t,f,s,h,c){var v,y,l=this,p,a;if(s=s||o,!c&&e(n.watchId)){t=t||this.nextId();this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,f,s,h,!0));return}switch(n.type){case u.Program:r(n.body,function(t,r){l.recurse(t.expression,i,i,function(n){y=n});r!==n.body.length-1?l.current().body.push(y,";"):l.return_(y)});break;case u.Literal:a=this.escape(n.value);this.assign(t,a);s(a);break;case u.UnaryExpression:this.recurse(n.argument,i,i,function(n){y=n});a=n.operator+"("+this.ifDefined(y,0)+")";this.assign(t,a);s(a);break;case u.BinaryExpression:this.recurse(n.left,i,i,function(n){v=n});this.recurse(n.right,i,i,function(n){y=n});a=n.operator==="+"?this.plus(v,y):n.operator==="-"?this.ifDefined(v,0)+n.operator+this.ifDefined(y,0):"("+v+")"+n.operator+"("+y+")";this.assign(t,a);s(a);break;case u.LogicalExpression:t=t||this.nextId();l.recurse(n.left,t);l.if_(n.operator==="&&"?t:l.not(t),l.lazyRecurse(n.right,t));s(t);break;case u.ConditionalExpression:t=t||this.nextId();l.recurse(n.test,t);l.if_(t,l.lazyRecurse(n.alternate,t),l.lazyRecurse(n.consequent,t));s(t);break;case u.Identifier:t=t||this.nextId();f&&(f.context=l.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),f.computed=!1,f.name=n.name);ri(n.name);l.if_(l.stage==="inputs"||l.not(l.getHasOwnProperty("l",n.name)),function(){l.if_(l.stage==="inputs"||"s",function(){h&&h!==1&&l.if_(l.not(l.nonComputedMember("s",n.name)),l.lazyAssign(l.nonComputedMember("s",n.name),"{}"));l.assign(t,l.nonComputedMember("s",n.name))})},t&&l.lazyAssign(t,l.nonComputedMember("l",n.name)));(l.state.expensiveChecks||uf(n.name))&&l.addEnsureSafeObject(t);s(t);break;case u.MemberExpression:v=f&&(f.context=this.nextId())||this.nextId();t=t||this.nextId();l.recurse(n.object,v,i,function(){l.if_(l.notNull(v),function(){n.computed?(y=l.nextId(),l.recurse(n.property,y),l.addEnsureSafeMemberName(y),h&&h!==1&&l.if_(l.not(l.computedMember(v,y)),l.lazyAssign(l.computedMember(v,y),"{}")),a=l.ensureSafeObject(l.computedMember(v,y)),l.assign(t,a),f&&(f.computed=!0,f.name=y)):(ri(n.property.name),h&&h!==1&&l.if_(l.not(l.nonComputedMember(v,n.property.name)),l.lazyAssign(l.nonComputedMember(v,n.property.name),"{}")),a=l.nonComputedMember(v,n.property.name),(l.state.expensiveChecks||uf(n.property.name))&&(a=l.ensureSafeObject(a)),l.assign(t,a),f&&(f.computed=!1,f.name=n.property.name))},function(){l.assign(t,"undefined")});s(t)},!!h);break;case u.CallExpression:t=t||this.nextId();n.filter?(y=l.filter(n.callee.name),p=[],r(n.arguments,function(n){var t=l.nextId();l.recurse(n,t);p.push(t)}),a=y+"("+p.join(",")+")",l.assign(t,a),s(t)):(y=l.nextId(),v={},p=[],l.recurse(n.callee,y,v,function(){l.if_(l.notNull(y),function(){l.addEnsureSafeFunction(y);r(n.arguments,function(n){l.recurse(n,l.nextId(),i,function(n){p.push(l.ensureSafeObject(n))})});v.name?(l.state.expensiveChecks||l.addEnsureSafeObject(v.context),a=l.member(v.context,v.name,v.computed)+"("+p.join(",")+")"):a=y+"("+p.join(",")+")";a=l.ensureSafeObject(a);l.assign(t,a)},function(){l.assign(t,"undefined")});s(t)}));break;case u.AssignmentExpression:if(y=this.nextId(),v={},!yh(n.left))throw ut("lval","Trying to assing a value to a non l-value");this.recurse(n.left,i,v,function(){l.if_(l.notNull(v.context),function(){l.recurse(n.right,y);l.addEnsureSafeObject(l.member(v.context,v.name,v.computed));a=l.member(v.context,v.name,v.computed)+n.operator+y;l.assign(t,a);s(t||a)})},1);break;case u.ArrayExpression:p=[];r(n.elements,function(n){l.recurse(n,l.nextId(),i,function(n){p.push(n)})});a="["+p.join(",")+"]";this.assign(t,a);s(a);break;case u.ObjectExpression:p=[];r(n.properties,function(n){l.recurse(n.value,l.nextId(),i,function(t){p.push(l.escape(n.key.type===u.Identifier?n.key.name:""+n.key.value)+":"+t)})});a="{"+p.join(",")+"}";this.assign(t,a);s(a);break;case u.ThisExpression:this.assign(t,"s");s("s");break;case u.NGValueParameter:this.assign(t,"v");s("v")}},getHasOwnProperty:function(n,t){var i=n+"."+t,r=this.current().own;return r.hasOwnProperty(i)||(r[i]=this.nextId(!1,n+"&&("+this.escape(t)+" in "+n+")")),r[i]},assign:function(n,t){if(n)return this.current().body.push(n,"=",t,";"),n},filter:function(n){return this.state.filters.hasOwnProperty(n)||(this.state.filters[n]=this.nextId(!0)),this.state.filters[n]},ifDefined:function(n,t){return"ifDefined("+n+","+this.escape(t)+")"},plus:function(n,t){return"plus("+n+","+t+")"},return_:function(n){this.current().body.push("return ",n,";")},if_:function(n,t,i){if(n===!0)t();else{var r=this.current().body;r.push("if(",n,"){");t();r.push("}");i&&(r.push("else{"),i(),r.push("}"))}},not:function(n){return"!("+n+")"},notNull:function(n){return n+"!=null"},nonComputedMember:function(n,t){return n+"."+t},computedMember:function(n,t){return n+"["+t+"]"},member:function(n,t,i){return i?this.computedMember(n,t):this.nonComputedMember(n,t)},addEnsureSafeObject:function(n){this.current().body.push(this.ensureSafeObject(n),";")},addEnsureSafeMemberName:function(n){this.current().body.push(this.ensureSafeMemberName(n),";")},addEnsureSafeFunction:function(n){this.current().body.push(this.ensureSafeFunction(n),";")},ensureSafeObject:function(n){return"ensureSafeObject("+n+",text)"},ensureSafeMemberName:function(n){return"ensureSafeMemberName("+n+",text)"},ensureSafeFunction:function(n){return"ensureSafeFunction("+n+",text)"},lazyRecurse:function(n,t,i,r,u,f){var e=this;return function(){e.recurse(n,t,i,r,u,f)}},lazyAssign:function(n,t){var i=this;return function(){i.assign(n,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)},escape:function(n){if(l(n))return"'"+n.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(k(n))return n.toString();if(n===!0)return"true";if(n===!1)return"false";if(n===null)return"null";if(typeof n=="undefined")return"undefined";throw ut("esc","IMPOSSIBLE");},nextId:function(n,t){var i="v"+this.state.nextId++;return n||this.current().vars.push(i+(t?"="+t:"")),i},current:function(){return this.state[this.state.computing]}};dh.prototype={compile:function(n,t){var o=this,i=this.astBuilder.ast(n),c,s,h,f,e,u;return this.expression=n,this.expensiveChecks=t,d(i,o.$filter),(c=ph(i))&&(s=this.recurse(c)),h=vh(i.body),h&&(f=[],r(h,function(n,t){var i=o.recurse(n);n.input=i;f.push(i);n.watchId=t})),e=[],r(i.body,function(n){e.push(o.recurse(n.expression))}),u=i.body.length===0?function(){}:i.body.length===1?e[0]:function(n,t){var i;return r(e,function(r){i=r(n,t)}),i},s&&(u.assign=function(n,t,i){return s(n,i,t)}),f&&(u.inputs=f),u.literal=wh(i),u.constant=bh(i),u},recurse:function(n,t,f){var h,e,o=this,s;if(n.input)return this.inputs(n.input,n.watchId);switch(n.type){case u.Literal:return this.value(n.value,t);case u.UnaryExpression:return e=this.recurse(n.argument),this["unary"+n.operator](e,t);case u.BinaryExpression:return h=this.recurse(n.left),e=this.recurse(n.right),this["binary"+n.operator](h,e,t);case u.LogicalExpression:return h=this.recurse(n.left),e=this.recurse(n.right),this["binary"+n.operator](h,e,t);case u.ConditionalExpression:return this["ternary?:"](this.recurse(n.test),this.recurse(n.alternate),this.recurse(n.consequent),t);case u.Identifier:return ri(n.name,o.expression),o.identifier(n.name,o.expensiveChecks||uf(n.name),t,f,o.expression);case u.MemberExpression:return h=this.recurse(n.object,!1,!!f),n.computed||(ri(n.property.name,o.expression),e=n.property.name),n.computed&&(e=this.recurse(n.property)),n.computed?this.computedMember(h,e,t,f,o.expression):this.nonComputedMember(h,e,o.expensiveChecks,t,f,o.expression);case u.CallExpression:return s=[],r(n.arguments,function(n){s.push(o.recurse(n))}),n.filter&&(e=this.$filter(n.callee.name)),n.filter||(e=this.recurse(n.callee,!0)),n.filter?function(n,r,u,f){for(var h,c=[],o=0;o<s.length;++o)c.push(s[o](n,r,u,f));return h=e.apply(i,c,f),t?{context:i,name:i,value:h}:h}:function(n,i,r,u){var f=e(n,i,r,u),c,l,h;if(f.value!=null){for(yt(f.context,o.expression),hh(f.value,o.expression),l=[],h=0;h<s.length;++h)l.push(yt(s[h](n,i,r,u),o.expression));c=yt(f.value.apply(f.context,l),o.expression)}return t?{value:c}:c};case u.AssignmentExpression:return h=this.recurse(n.left,!0,1),e=this.recurse(n.right),function(n,i,r,u){var f=h(n,i,r,u),s=e(n,i,r,u);return yt(f.value,o.expression),f.context[f.name]=s,t?{value:s}:s};case u.ArrayExpression:return s=[],r(n.elements,function(n){s.push(o.recurse(n))}),function(n,i,r,u){for(var f=[],e=0;e<s.length;++e)f.push(s[e](n,i,r,u));return t?{value:f}:f};case u.ObjectExpression:return s=[],r(n.properties,function(n){s.push({key:n.key.type===u.Identifier?n.key.name:""+n.key.value,value:o.recurse(n.value)})}),function(n,i,r,u){for(var e={},f=0;f<s.length;++f)e[s[f].key]=s[f].value(n,i,r,u);return t?{value:e}:e};case u.ThisExpression:return function(n){return t?{value:n}:n};case u.NGValueParameter:return function(n,i,r){return t?{value:r}:r}}},"unary+":function(n,t){return function(i,r,u,f){var o=n(i,r,u,f);return o=e(o)?+o:0,t?{value:o}:o}},"unary-":function(n,t){return function(i,r,u,f){var o=n(i,r,u,f);return o=e(o)?-o:0,t?{value:o}:o}},"unary!":function(n,t){return function(i,r,u,f){var e=!n(i,r,u,f);return t?{value:e}:e}},"binary+":function(n,t,i){return function(r,u,f,e){var s=n(r,u,f,e),h=t(r,u,f,e),o=lh(s,h);return i?{value:o}:o}},"binary-":function(n,t,i){return function(r,u,f,o){var s=n(r,u,f,o),h=t(r,u,f,o),c=(e(s)?s:0)-(e(h)?h:0);return i?{value:c}:c}},"binary*":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)*t(r,u,f,e);return i?{value:o}:o}},"binary/":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)/t(r,u,f,e);return i?{value:o}:o}},"binary%":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)%t(r,u,f,e);return i?{value:o}:o}},"binary===":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)===t(r,u,f,e);return i?{value:o}:o}},"binary!==":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)!==t(r,u,f,e);return i?{value:o}:o}},"binary==":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)==t(r,u,f,e);return i?{value:o}:o}},"binary!=":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)!=t(r,u,f,e);return i?{value:o}:o}},"binary<":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)<t(r,u,f,e);return i?{value:o}:o}},"binary>":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)>t(r,u,f,e);return i?{value:o}:o}},"binary<=":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)<=t(r,u,f,e);return i?{value:o}:o}},"binary>=":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)>=t(r,u,f,e);return i?{value:o}:o}},"binary&&":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)&&t(r,u,f,e);return i?{value:o}:o}},"binary||":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)||t(r,u,f,e);return i?{value:o}:o}},"ternary?:":function(n,t,i,r){return function(u,f,e,o){var s=n(u,f,e,o)?t(u,f,e,o):i(u,f,e,o);return r?{value:s}:s}},value:function(n,t){return function(){return t?{context:i,name:i,value:n}:n}},identifier:function(n,t,r,u,f){return function(e,o){var s=o&&n in o?o:e,h;return u&&u!==1&&s&&!s[n]&&(s[n]={}),h=s?s[n]:i,t&&yt(h,f),r?{context:s,name:n,value:h}:h}},computedMember:function(n,t,i,r,u){return function(f,e,o,s){var h=n(f,e,o,s),c,l;return h!=null&&(c=t(f,e,o,s),ri(c,u),r&&r!==1&&h&&!h[c]&&(h[c]={}),l=h[c],yt(l,u)),i?{context:h,name:c,value:l}:l}},nonComputedMember:function(n,t,r,u,f,e){return function(o,s,h,c){var l=n(o,s,h,c),a;return f&&f!==1&&l&&!l[t]&&(l[t]={}),a=l!=null?l[t]:i,(r||uf(t))&&yt(a,e),u?{context:l,name:t,value:a}:a}},inputs:function(n,t){return function(i,r,u,f){return f?f[t]:n(i,r,u)}}};tf=function(n,t,i){this.lexer=n;this.$filter=t;this.options=i;this.ast=new u(this.lexer);this.astCompiler=i.csp?new dh(this.ast,t):new kh(this.ast,t)};tf.prototype={constructor:tf,parse:function(n){return this.astCompiler.compile(n,this.options.expensiveChecks)}};vp=rt();yp=rt();gh=Object.prototype.valueOf;ni=y("$sce");ht={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};nt=y("$compile");g=t.createElement("a");ke=ui(n.location.href);rc.$inject=["$document"];uc.$inject=["$provide"];fc.$inject=["$locale"];ec.$inject=["$locale"];ge=".";var ww={yyyy:tt("FullYear",4),yy:tt("FullYear",2,0,!0),y:tt("FullYear",1),MMMM:ef("Month"),MMM:ef("Month",!0),MM:tt("Month",2,1),M:tt("Month",1,1),dd:tt("Date",2),d:tt("Date",1),HH:tt("Hours",2),H:tt("Hours",1),hh:tt("Hours",2,-12),h:tt("Hours",1,-12),mm:tt("Minutes",2),m:tt("Minutes",1),ss:tt("Seconds",2),s:tt("Seconds",1),sss:tt("Milliseconds",3),EEEE:ef("Day"),EEE:ef("Day",!0),a:yw,Z:aw,ww:hc(2),w:hc(1),G:no,GG:no,GGG:no,GGGG:pw},bw=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,kw=/^\-?\d+$/;cc.$inject=["$locale"];lc=pt(v);ac=pt(ir);vc.$inject=["$parse"];yc=pt({restrict:"E",compile:function(n,t){if(!t.href&&!t.xlinkHref)return function(n,t){if(t[0].nodeName.toLowerCase()==="a"){var i=ti.call(t.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";t.on("click",function(n){t.attr(i)||n.preventDefault()})}}}});tu={};r(kr,function(n,t){function r(n,r,u){n.$watch(u[i],function(n){u.$set(t,!!n)})}if(n!="multiple"){var i=dt("ng-"+t),u=r;n==="checked"&&(u=function(n,t,u){u.ngModel!==u[i]&&r(n,t,u)});tu[i]=function(){return{restrict:"A",priority:100,link:u}}}});r(ee,function(n,t){tu[t]=function(){return{priority:100,link:function(n,i,r){if(t==="ngPattern"&&r.ngPattern.charAt(0)=="/"){var u=r.ngPattern.match(wl);if(u){r.$set("ngPattern",new RegExp(u[1],u[2]));return}}n.$watch(r[t],function(n){r.$set(t,n)})}}}});r(["src","srcset","href"],function(n){var t=dt("ng-"+n);tu[t]=function(){return{priority:99,link:function(i,r,u){var e=n,f=n;n==="href"&&ti.call(r.prop("href"))==="[object SVGAnimatedString]"&&(f="xlinkHref",u.$attr[f]="xlink:href",e=null);u.$observe(t,function(t){if(!t){n==="href"&&u.$set(f,null);return}u.$set(f,t);pi&&e&&r.prop(e,u[f])})}}}});iu={$addControl:o,$$renameControl:nb,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o};to="ng-submitted";pc.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var wc=function(n){return["$timeout",function(t){return{name:"form",restrict:n?"EAC":"E",controller:pc,compile:function(r,u){r.addClass(nr).addClass(fu);var f=u.name?"name":n&&u.ngForm?"ngForm":!1;return{pre:function(n,r,u,e){var o,s;if(!("action"in u)){o=function(t){n.$apply(function(){e.$commitViewValue();e.$setSubmitted()});t.preventDefault()};cu(r[0],"submit",o);r.on("$destroy",function(){t(function(){wr(r[0],"submit",o)},0,!1)})}s=e.$$parentForm;f&&(rf(n,e.$name,e,e.$name),u.$observe(f,function(t){e.$name!==t&&(rf(n,e.$name,i,e.$name),s.$$renameControl(e,t),rf(n,e.$name,e,e.$name))}));r.on("$destroy",function(){s.$removeControl(e);f&&rf(n,u[f],i,e.$name);w(e,iu)})}}}}}]},tb=wc(),ib=wc(!0),rb=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,ub=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,fb=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,eb=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,bc=/^(\d{4})-(\d{2})-(\d{2})$/,kc=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,io=/^(\d{4})-W(\d\d)$/,dc=/^(\d{4})-(\d\d)$/,gc=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,nl={text:ob,date:uu("date",bc,of(bc,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":uu("datetimelocal",kc,of(kc,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:uu("time",gc,of(gc,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:uu("week",io,sb,"yyyy-Www"),month:uu("month",dc,of(dc,["yyyy","MM"]),"yyyy-MM"),number:hb,url:cb,email:lb,radio:ab,checkbox:vb,hidden:o,button:o,submit:o,reset:o,file:o};var rl=["$browser","$sniffer","$filter","$parse",function(n,t,i,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(u,f,e,o){o[0]&&(nl[v(e.type)]||nl.text)(u,f,e,o[0],t,n,i,r)}}}}],yb=/^(true|false|\d+)$/,pb=function(){return{restrict:"A",priority:100,compile:function(n,t){return yb.test(t.ngValue)?function(n,t,i){i.$set("value",n.$eval(i.ngValue))}:function(n,t,i){n.$watch(i.ngValue,function(n){i.$set("value",n)})}}}},wb=["$compile",function(n){return{restrict:"AC",compile:function(t){return n.$$addBindingClass(t),function(t,r,u){n.$$addBindingInfo(r,u.ngBind);r=r[0];t.$watch(u.ngBind,function(n){r.textContent=n===i?"":n})}}}}],bb=["$interpolate","$compile",function(n,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,u,f){var e=n(u.attr(f.$attr.ngBindTemplate));t.$$addBindingInfo(u,e.expressions);u=u[0];f.$observe("ngBindTemplate",function(n){u.textContent=n===i?"":n})}}}}],kb=["$sce","$parse","$compile",function(n,t,i){return{restrict:"A",compile:function(r,u){var f=t(u.ngBindHtml),e=t(u.ngBindHtml,function(n){return(n||"").toString()});return i.$$addBindingClass(r),function(t,r,u){i.$$addBindingInfo(r,u.ngBindHtml);t.$watch(e,function(){r.html(n.getTrustedHtml(f(t))||"")})}}}}],db=pt({restrict:"A",require:"ngModel",link:function(n,t,i,r){r.$viewChangeListeners.push(function(){n.$eval(i.ngChange)})}});var gb=uo("",!0),nk=uo("Odd",0),tk=uo("Even",1),ik=yi({compile:function(n,t){t.$set("ngCloak",i);n.removeClass("ng-cloak")}}),rk=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ul={},uk={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var t=dt("ng-"+n);ul[t]=["$parse","$rootScope",function(i,r){return{restrict:"A",compile:function(u,f){var e=i(f[t],null,!0);return function(t,i){i.on(n,function(i){var u=function(){e(t,{$event:i})};uk[n]&&r.$$phase?t.$evalAsync(u):t.$apply(u)})}}}}]});var fk=["$animate",function(n){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,r,u,f,e){var h,s,o;i.$watch(u.ngIf,function(i){i?s||e(function(i,f){s=f;i[i.length++]=t.createComment(" end ngIf: "+u.ngIf+" ");h={clone:i};n.enter(i,r.parent(),r)}):(o&&(o.remove(),o=null),s&&(s.$destroy(),s=null),h&&(o=hu(h.clone),n.leave(o).then(function(){o=null}),h=null))})}}}],ek=["$templateRequest","$anchorScroll","$animate","$sce",function(n,t,i,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ft.noop,compile:function(u,f){var s=f.ngInclude||f.src,h=f.onload||"",o=f.autoscroll;return function(u,f,c,l,a){var w=0,v,y,p,b=function(){y&&(y.remove(),y=null);v&&(v.$destroy(),v=null);p&&(i.leave(p).then(function(){y=null}),y=p,p=null)};u.$watch(r.parseAsResourceUrl(s),function(r){var c=function(){e(o)&&(!o||u.$eval(o))&&t()},s=++w;r?(n(r,!0).then(function(n){var t,e;s===w&&(t=u.$new(),l.template=n,e=a(t,function(n){b();i.enter(n,null,f).then(c)}),v=t,p=e,v.$emit("$includeContentLoaded",r),u.$eval(h))},function(){s===w&&(b(),u.$emit("$includeContentError",r))}),u.$emit("$includeContentRequested",r)):(b(),l.template=null)})}}}}],ok=["$compile",function(n){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,r,u,f){if(/SVG/.test(r[0].toString())){r.empty();n(ss(f.template,t).childNodes)(i,function(n){r.append(n)},{futureParentElement:r});return}r.html(f.template);n(r.contents())(i)}}}],sk=yi({priority:450,compile:function(){return{pre:function(n,t,i){n.$eval(i.ngInit)}}}}),hk=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(n,t,u,f){var e=t.attr(u.$attr.ngList)||", ",o=u.ngTrim!=="false",s=o?p(e):e,c=function(n){if(!h(n)){var t=[];return n&&r(n.split(s),function(n){n&&t.push(o?p(n):n)}),t}};f.$parsers.push(c);f.$formatters.push(function(n){return a(n)?n.join(e):i});f.$isEmpty=function(n){return!n||!n.length}}}},fu="ng-valid",fl="ng-invalid",nr="ng-pristine",sf="ng-dirty",fo="ng-untouched",el="ng-touched",ol="ng-pending",hf=new y("ngModel"),ck=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(n,t,u,f,s,l,a,v,y,p){var it,g;this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=i;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=i;this.$name=p(u.name||"",!1)(n);var d=s(u.ngModel),rt=d.assign,tt=d,ut=rt,nt=null,b,w=this;this.$$setOptions=function(n){if(w.$options=n,n&&n.getterSetter){var t=s(u.ngModel+"()"),i=s(u.ngModel+"($$$p)");tt=function(n){var i=d(n);return c(i)&&(i=t(n)),i};ut=function(n){c(d(n))?i(n,{$$$p:w.$modelValue}):rt(n,w.$modelValue)}}else if(!d.assign)throw hf("nonassign","Expression '{0}' is non-assignable. Element: {1}",u.ngModel,kt(f));};this.$render=o;this.$isEmpty=function(n){return h(n)||n===""||n===null||n!==n};it=f.inheritedData("$formController")||iu;g=0;sl({ctrl:this,$element:f,set:function(n,t){n[t]=!0},unset:function(n,t){delete n[t]},parentForm:it,$animate:l});this.$setPristine=function(){w.$dirty=!1;w.$pristine=!0;l.removeClass(f,sf);l.addClass(f,nr)};this.$setDirty=function(){w.$dirty=!0;w.$pristine=!1;l.removeClass(f,nr);l.addClass(f,sf);it.$setDirty()};this.$setUntouched=function(){w.$touched=!1;w.$untouched=!0;l.setClass(f,fo,el)};this.$setTouched=function(){w.$touched=!0;w.$untouched=!1;l.setClass(f,el,fo)};this.$rollbackViewValue=function(){a.cancel(nt);w.$viewValue=w.$$lastCommittedViewValue;w.$render()};this.$validate=function(){if(!k(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$lastCommittedViewValue,n=w.$$rawModelValue,r=w.$valid,u=w.$modelValue,f=w.$options&&w.$options.allowInvalid;w.$$runValidators(n,t,function(t){f||r===t||(w.$modelValue=t?n:i,w.$modelValue!==u&&w.$$writeModelToScope())})}};this.$$runValidators=function(n,t,u){function h(){var n=w.$$parserName||"parse";if(b===i)f(n,null);else return b||(r(w.$validators,function(n,t){f(t,null)}),r(w.$asyncValidators,function(n,t){f(t,null)})),f(n,b),b;return!0}function c(){var i=!0;return(r(w.$validators,function(r,u){var e=r(n,t);i=i&&e;f(u,e)}),!i)?(r(w.$asyncValidators,function(n,t){f(t,null)}),!1):!0}function l(){var u=[],s=!0;r(w.$asyncValidators,function(r,e){var o=r(n,t);if(!ou(o))throw hf("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",o);f(e,i);u.push(o.then(function(){f(e,!0)},function(){s=!1;f(e,!1)}))});u.length?y.all(u).then(function(){e(s)},o):e(!0)}function f(n,t){s===g&&w.$setValidity(n,t)}function e(n){s===g&&u(n)}g++;var s=g;if(!h()){e(!1);return}if(!c()){e(!1);return}l()};this.$commitViewValue=function(){var n=w.$viewValue;(a.cancel(nt),w.$$lastCommittedViewValue!==n||n===""&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=n,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())};this.$$parseAndValidate=function(){function e(){w.$modelValue!==f&&w.$$writeModelToScope()}var o=w.$$lastCommittedViewValue,t=o,r,f,u;if(b=h(t)?i:!0,b)for(r=0;r<w.$parsers.length;r++)if(t=w.$parsers[r](t),h(t)){b=!1;break}k(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=tt(n));f=w.$modelValue;u=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t;u&&(w.$modelValue=t,e());w.$$runValidators(t,w.$$lastCommittedViewValue,function(n){u||(w.$modelValue=n?t:i,e())})};this.$$writeModelToScope=function(){ut(n,w.$modelValue);r(w.$viewChangeListeners,function(n){try{n()}catch(i){t(i)}})};this.$setViewValue=function(n,t){w.$viewValue=n;(!w.$options||w.$options.updateOnDefault)&&w.$$debounceViewValueCommit(t)};this.$$debounceViewValueCommit=function(t){var r=0,u=w.$options,i;u&&e(u.debounce)&&(i=u.debounce,k(i)?r=i:k(i[t])?r=i[t]:k(i["default"])&&(r=i["default"]));a.cancel(nt);r?nt=a(function(){w.$commitViewValue()},r):v.$$phase?w.$commitViewValue():n.$apply(function(){w.$commitViewValue()})};n.$watch(function(){var t=tt(n);if(t!==w.$modelValue&&(w.$modelValue===w.$modelValue||t===t)){w.$modelValue=w.$$rawModelValue=t;b=i;for(var u=w.$formatters,f=u.length,r=t;f--;)r=u[f](r);w.$viewValue!==r&&(w.$viewValue=w.$$lastCommittedViewValue=r,w.$render(),w.$$runValidators(t,r,o))}return t})}],lk=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ck,priority:1,compile:function(t){return t.addClass(nr).addClass(fo).addClass(fu),{pre:function(n,t,i,r){var u=r[0],f=r[1]||iu;u.$$setOptions(r[2]&&r[2].$options);f.$addControl(u);i.$observe("name",function(n){u.$name!==n&&f.$$renameControl(u,n)});n.$on("$destroy",function(){f.$removeControl(u)})},post:function(t,i,r,u){var f=u[0];if(f.$options&&f.$options.updateOn)i.on(f.$options.updateOn,function(n){f.$$debounceViewValueCommit(n&&n.type)});i.on("blur",function(){f.$touched||(n.$$phase?t.$evalAsync(f.$setTouched):t.$apply(f.$setTouched))})}}}}}],ak=/(\s+|^)default(\s+|$)/,vk=function(){return{restrict:"A",controller:["$scope","$attrs",function(n,t){var r=this;this.$options=ct(n.$eval(t.ngModelOptions));this.$options.updateOn!==i?(this.$options.updateOnDefault=!1,this.$options.updateOn=p(this.$options.updateOn.replace(ak,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}};var yk=yi({terminal:!0,priority:1e3}),pk=y("ngOptions"),wk=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,bk=["$compile","$parse",function(n,i){function e(n,t,r){function nt(n,t,i,r,u){this.selectValue=n;this.viewValue=t;this.label=i;this.group=r;this.disabled=u}var u=n.match(wk);if(!u)throw pk("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",n,kt(t));var o=u[5]||u[7],s=u[6],l=/ as /.test(u[0])&&u[1],f=u[9],w=i(u[2]?u[1]:o),b=l&&i(l),k=b||w,d=f&&i(f),h=f?function(n,t){return d(r,t)}:function(n){return hi(n)},a=function(n,t){return h(n,c(n,t))},v=i(u[2]||u[1]),g=i(u[3]||""),y=i(u[4]||""),p=i(u[8]),e={},c=s?function(n,t){return e[s]=t,e[o]=n,e}:function(n){return e[o]=n,e};return{trackBy:f,getTrackByValue:a,getWatchables:i(p,function(n){var t=[];return n=n||[],Object.keys(n).forEach(function(i){var f,e,o,s;i.charAt(0)!=="$"&&(f=c(n[i],i),e=h(n[i],f),t.push(e),(u[2]||u[1])&&(o=v(r,f),t.push(o)),u[4]&&(s=y(r,f),t.push(s)))}),t}),getOptions:function(){var l=[],o={},n=p(r)||[],t,e,w,i;if(!s&&ei(n))t=n;else{t=[];for(e in n)n.hasOwnProperty(e)&&e.charAt(0)!=="$"&&t.push(e)}for(w=t.length,i=0;i<w;i++){var b=n===t?i:t[i],rt=n[b],u=c(rt,b),d=k(r,u),tt=h(d,u),ut=v(r,u),et=g(r,u),ot=y(r,u),it=new nt(tt,d,ut,et,ot);l.push(it);o[tt]=it}return{items:l,selectValueMap:o,getOptionFromViewValue:function(n){return o[a(n)]},getViewValueFromOption:function(n){return f?ft.copy(n.viewValue):n.viewValue}}}}}var u=t.createElement("option"),o=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,i,s,h){function ut(n,t){n.element=t;t.disabled=n.disabled;n.value!==t.value&&(t.value=n.selectValue);n.label!==t.label&&(t.label=n.label,t.textContent=n.label)}function it(n,t,i,r){var u;return t&&v(t.nodeName)===i?u=t:(u=r.cloneNode(!1),t?n.insertBefore(u,t):n.appendChild(u)),u}function ft(n){for(var t;n;)t=n.nextSibling,ue(n),n=t}function lt(n){var t=c&&c[0],i=p&&p[0];if(t||i)while(n&&(n===t||n===i))n=n.nextSibling;return n}function et(){var f=y&&w.readValue(),t,n,r;y=b.getOptions();t={};n=i[0].firstChild;k&&i.prepend(c);n=lt(n);y.items.forEach(function(r){var f,s,e;r.group?(f=t[r.group],f||(s=it(i[0],n,"optgroup",o),n=s.nextSibling,s.label=r.group,f=t[r.group]={groupElement:s,currentOptionElement:s.firstChild}),e=it(f.groupElement,f.currentOptionElement,"option",u),ut(r,e),f.currentOptionElement=e.nextSibling):(e=it(i[0],n,"option",u),ut(r,e),n=e.nextSibling)});Object.keys(t).forEach(function(n){ft(t[n].currentOptionElement)});ft(n);l.$render();l.$isEmpty(f)||(r=w.readValue(),(b.trackBy?st(f,r):f===r)||(l.$setViewValue(r),l.$render()))}var l=h[1],w,rt,c,k,p;if(l){w=h[0];rt=s.multiple;for(var d=0,g=i.children(),ot=g.length;d<ot;d++)if(g[d].value===""){c=g.eq(d);break}k=!!c;p=f(u.cloneNode(!1));p.val("?");var y,b=e(s.ngOptions,i,t),ht=function(){k||i.prepend(c);i.val("");c.prop("selected",!0);c.attr("selected",!0)},nt=function(){k||c.remove()},ct=function(){i.prepend(p);i.val("?");p.prop("selected",!0);p.attr("selected",!0)},tt=function(){p.remove()};rt?(l.$isEmpty=function(n){return!n||n.length===0},w.writeValue=function(n){y.items.forEach(function(n){n.element.selected=!1});n&&n.forEach(function(n){var t=y.getOptionFromViewValue(n);t&&!t.disabled&&(t.element.selected=!0)})},w.readValue=function(){var t=i.val()||[],n=[];return r(t,function(t){var i=y.selectValueMap[t];i.disabled||n.push(y.getViewValueFromOption(i))}),n},b.trackBy&&t.$watchCollection(function(){if(a(l.$viewValue))return l.$viewValue.map(function(n){return b.getTrackByValue(n)})},function(){l.$render()})):(w.writeValue=function(n){var t=y.getOptionFromViewValue(n);t&&!t.disabled?i[0].value!==t.selectValue&&(tt(),nt(),i[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):n===null||k?(tt(),ht()):(nt(),ct())},w.readValue=function(){var n=y.selectValueMap[i.val()];return n&&!n.disabled?(nt(),tt(),y.getViewValueFromOption(n)):null},b.trackBy&&t.$watch(function(){return b.getTrackByValue(l.$viewValue)},function(){l.$render()}));k?(c.remove(),n(c)(t),c.removeClass("ng-scope")):c=f(u.cloneNode(!1));et();t.$watchCollection(b.getWatchables,et)}}}}],kk=["$locale","$interpolate","$log",function(n,t,i){var u=/{}/g,f=/^when(Minus)?(.+)$/;return{link:function(e,s,c){function g(n){s.text(n||"")}var p=c.count,w=c.$attr.when&&s.attr(c.$attr.when),b=c.offset||0,a=e.$eval(w)||{},d={},nt=t.startSymbol(),tt=t.endSymbol(),it=nt+p+"-"+b+tt,y=ft.noop,l;r(c,function(n,t){var i=f.exec(t),r;i&&(r=(i[1]?"-":"")+v(i[2]),a[r]=s.attr(c.$attr[t]))});r(a,function(n,i){d[i]=t(n.replace(u,it))});e.$watch(p,function(t){var r=parseFloat(t),f=isNaN(r),u;f||r in a||(r=n.pluralCat(r-b));r===l||f&&k(l)&&isNaN(l)||(y(),u=d[r],h(u)?(t!=null&&i.debug("ngPluralize: no rule defined for '"+r+"' in "+w),y=o,g()):y=e.$watch(u,g),l=r)})}}}],dk=["$parse","$animate",function(n,u){var o="$$NG_REMOVED",e=y("ngRepeat"),s=function(n,t,i,r,u,f,e){n[i]=r;u&&(n[u]=f);n.$index=t;n.$first=t===0;n.$last=t===e-1;n.$middle=!(n.$first||n.$last);n.$odd=!(n.$even=(t&1)==0)},h=function(n){return n.clone[0]},c=function(n){return n.clone[n.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(l,a){var b=a.ngRepeat,ft=t.createComment(" end ngRepeat: "+b+" "),v=b.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),k,p,d,g,it,ut,w;if(!v)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",b);var nt=v[1],et=v[2],y=v[3],tt=v[4];if(v=nt.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!v)throw e("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",nt);if(k=v[3]||v[1],p=v[2],y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw e("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);return w={$id:hi},tt?d=n(tt):(it=function(n,t){return hi(t)},ut=function(n){return n}),function(n,t,l,a,v){d&&(g=function(t,i,r){return p&&(w[p]=t),w[k]=i,w.$index=r,d(n,w)});var nt=rt();n.$watchCollection(et,function(l){var a,wt,ct=t[0],ot,lt=rt(),st,et,ht,d,pt,tt,w,at,vt,yt,bt;if(y&&(n[y]=l),ei(l))tt=l,pt=g||it;else{pt=g||ut;tt=[];for(yt in l)l.hasOwnProperty(yt)&&yt.charAt(0)!=="$"&&tt.push(yt)}for(st=tt.length,at=new Array(st),a=0;a<st;a++)if(et=l===tt?a:tt[a],ht=l[et],d=pt(et,ht,a),nt[d])w=nt[d],delete nt[d],lt[d]=w,at[a]=w;else if(lt[d]){r(at,function(n){n&&n.scope&&(nt[n.id]=n)});throw e("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",b,d,ht);}else at[a]={id:d,scope:i,clone:i},lt[d]=!0;for(bt in nt){if(w=nt[bt],vt=hu(w.clone),u.leave(vt),vt[0].parentNode)for(a=0,wt=vt.length;a<wt;a++)vt[a][o]=!0;w.scope.$destroy()}for(a=0;a<st;a++)if(et=l===tt?a:tt[a],ht=l[et],w=at[a],w.scope){ot=ct;do ot=ot.nextSibling;while(ot&&ot[o]);h(w)!=ot&&u.move(hu(w.clone),null,f(ct));ct=c(w);s(w.scope,a,k,ht,p,et,st)}else v(function(n,t){w.scope=t;var i=ft.cloneNode(!1);n[n.length++]=i;u.enter(n,null,f(ct));ct=i;w.clone=n;lt[w.id]=w;s(w.scope,a,k,ht,p,et,st)});nt=lt})}}}}],cl="ng-hide",ll="ng-hide-animate",gk=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngShow,function(t){n[t?"removeClass":"addClass"](i,cl,{tempClasses:ll})})}}}],nd=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngHide,function(t){n[t?"addClass":"removeClass"](i,cl,{tempClasses:ll})})}}}],td=yi(function(n,t,i){n.$watch(i.ngStyle,function(n,i){i&&n!==i&&r(i,function(n,i){t.css(i,"")});n&&t.css(n)},!0)}),id=["$animate",function(n){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,u,f,e){var l=f.ngSwitch||f.on,c=[],h=[],o=[],s=[],a=function(n,t){return function(){n.splice(t,1)}};i.$watch(l,function(i){for(var l,v,u=0,f=o.length;u<f;++u)n.cancel(o[u]);for(o.length=0,u=0,f=s.length;u<f;++u)l=hu(h[u].clone),s[u].$destroy(),v=o[u]=n.leave(l),v.then(a(o,u));h.length=0;s.length=0;(c=e.cases["!"+i]||e.cases["?"])&&r(c,function(i){i.transclude(function(r,u){var f,e;s.push(u);f=i.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");e={clone:r};h.push(e);n.enter(r,f.parent(),f)})})})}}}],rd=yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["!"+i.ngSwitchWhen]=r.cases["!"+i.ngSwitchWhen]||[];r.cases["!"+i.ngSwitchWhen].push({transclude:u,element:t})}}),ud=yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:u,element:t})}}),fd=yi({restrict:"EAC",link:function(n,t,i,r,u){if(!u)throw y("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",kt(t));u(function(n){t.empty();t.append(n)})}}),ed=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,i){if(i.type=="text/ng-template"){var r=i.id,u=t[0].text;n.put(r,u)}}}}],od={$setViewValue:o,$render:o},sd=["$element","$scope","$attrs",function(n,r){var u=this,e=new gi;u.ngModelCtrl=od;u.unknownOption=f(t.createElement("option"));u.renderUnknownOption=function(t){var i="? "+hi(t)+" ?";u.unknownOption.val(i);n.prepend(u.unknownOption);n.val(i)};r.$on("$destroy",function(){u.renderUnknownOption=o});u.removeUnknownOption=function(){u.unknownOption.parent()&&u.unknownOption.remove()};u.readValue=function(){return u.removeUnknownOption(),n.val()};u.writeValue=function(t){u.hasOption(t)?(u.removeUnknownOption(),n.val(t),t===""&&u.emptyOption.prop("selected",!0)):t==null&&u.emptyOption?(u.removeUnknownOption(),n.val("")):u.renderUnknownOption(t)};u.addOption=function(n,t){ki(n,'"option value"');n===""&&(u.emptyOption=t);var i=e.get(n)||0;e.put(n,i+1)};u.removeOption=function(n){var t=e.get(n);t&&(t===1?(e.remove(n),n===""&&(u.emptyOption=i)):e.put(n,t-1))};u.hasOption=function(n){return!!e.get(n)}}],hd=function(){return{restrict:"E",require:["select","?ngModel"],controller:sd,link:function(n,t,i,u){var f=u[1],o,h,s;if(f){o=u[0];o.ngModelCtrl=f;f.$render=function(){o.writeValue(f.$viewValue)};t.on("change",function(){n.$apply(function(){f.$setViewValue(o.readValue())})});i.multiple&&(o.readValue=function(){var n=[];return r(t.find("option"),function(t){t.selected&&n.push(t.value)}),n},o.writeValue=function(n){var i=new gi(n);r(t.find("option"),function(n){n.selected=e(i.get(n.value))})},s=NaN,n.$watch(function(){s!==f.$viewValue||st(h,f.$viewValue)||(h=lt(f.$viewValue),f.$render());s=f.$viewValue}),f.$isEmpty=function(n){return!n||n.length===0})}}}},cd=["$interpolate",function(n){function t(n){n[0].hasAttribute("selected")&&(n[0].selected=!0)}return{restrict:"E",priority:100,compile:function(i,r){if(h(r.value)){var u=n(i.text(),!0);u||r.$set("value",i.text())}return function(n,i,r){var e="$selectController",o=i.parent(),f=o.data(e)||o.parent().data(e);if(f&&f.ngModelCtrl){u?n.$watch(u,function(n,u){r.$set("value",n);u!==n&&f.removeOption(u);f.addOption(n,i);f.ngModelCtrl.$render();t(i)}):(f.addOption(r.value,i),f.ngModelCtrl.$render(),t(i));i.on("$destroy",function(){f.removeOption(r.value);f.ngModelCtrl.$render()})}}}}}],ld=pt({restrict:"E",terminal:!1}),al=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){r&&(i.required=!0,r.$validators.required=function(n,t){return!i.required||!r.$isEmpty(t)},i.$observe("required",function(){r.$validate()}))}}},vl=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,r,u){if(u){var f,e=r.ngPattern||r.pattern;r.$observe("pattern",function(n){if(l(n)&&n.length>0&&(n=new RegExp("^"+n+"$")),n&&!n.test)throw y("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",e,n,kt(t));f=n||i;u.$validate()});u.$validators.pattern=function(n){return u.$isEmpty(n)||h(f)||f.test(n)}}}}},yl=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("maxlength",function(n){var t=it(n);u=isNaN(t)?-1:t;r.$validate()});r.$validators.maxlength=function(n,t){return u<0||r.$isEmpty(t)||t.length<=u}}}}},pl=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=0;i.$observe("minlength",function(n){u=it(n)||0;r.$validate()});r.$validators.minlength=function(n,t){return r.$isEmpty(t)||t.length>=u}}}}};if(n.angular.bootstrap){console.log("WARNING: Tried to load angular more than once.");return}aa();wa(ft);f(t).ready(function(){ha(t,ns)})})(window,document);window.angular.$$csp()||window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}<\/style>');
//# sourceMappingURL=angular.min.js.map

///#source 1 1 /h5/libraries/angular-resource/angular-resource.min.js
/**
 * @license AngularJS v1.4.0
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t,i){"use strict";function e(n){return n!=null&&n!==""&&n!=="hasOwnProperty"&&f.test("."+n)}function o(n,t){var f,u,o,s;if(!e(t))throw r("badmember",'Dotted member path "@{0}" is invalid.',t);for(f=t.split("."),u=0,o=f.length;u<o&&n!==i;u++)s=f[u],n=n!==null?n[s]:i;return n}function u(n,i){i=i||{};t.forEach(i,function(n,t){delete i[t]});for(var r in n)!n.hasOwnProperty(r)||r.charAt(0)==="$"&&r.charAt(1)==="$"||(i[r]=n[r]);return i}var r=t.$$minErr("$resource"),f=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var n=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$q",function(f,e){function p(n){return w(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function w(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function a(t,i){this.template=t;this.defaults=h({},n.defaults,i);this.urlParams={}}function v(p,w,b,k){function nt(n,t){var i={};return t=h({},w,t),s(t,function(t,r){c(t)&&(t=t());i[r]=t&&t.charAt&&t.charAt(0)=="@"?o(n,t.substr(1)):t}),i}function tt(n){return n.resource}function d(n){u(n||{},this)}var g=new a(p,k);return b=h({},n.defaults.actions,b),d.prototype.toJSON=function(){var n=h({},this);return delete n.$promise,delete n.$resolved,n},s(b,function(n,o){var a=/^(POST|PUT|PATCH)$/i.test(n.method);d[o]=function(v,p,w,b){var ot={},it,rt,et,ft;switch(arguments.length){case 4:et=b;rt=w;case 3:case 2:if(c(p)){if(c(v)){rt=v;et=p;break}rt=p;et=w}else{ot=v;it=p;rt=w;break}case 1:c(v)?rt=v:a?it=v:ot=v;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length);}var st=this instanceof d,k=st?it:n.isArray?[]:new d(it),ut={},ht=n.interceptor&&n.interceptor.response||tt,ct=n.interceptor&&n.interceptor.responseError||i;return(s(n,function(n,t){t!="params"&&t!="isArray"&&t!="interceptor"&&(ut[t]=y(n))}),a&&(ut.data=it),g.setUrlParams(ut,h({},nt(it,n.params||{}),ot),n.url),ft=f(ut).then(function(i){var f=i.data,e=k.$promise;if(f){if(t.isArray(f)!==!!n.isArray)throw r("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",o,n.isArray?"array":"object",t.isArray(f)?"array":"object",ut.method,ut.url);n.isArray?(k.length=0,s(f,function(n){typeof n=="object"?k.push(new d(n)):k.push(n)})):(u(f,k),k.$promise=e)}return k.$resolved=!0,i.resource=k,i},function(n){return k.$resolved=!0,(et||l)(n),e.reject(n)}),ft=ft.then(function(n){var t=ht(n);return(rt||l)(t,n.headers),t},ct),!st)?(k.$promise=ft,k.$resolved=!1,k):ft};d.prototype["$"+o]=function(n,t,i){c(n)&&(i=t,t=n,n={});var r=d[o].call(this,n,this,t,i);return r.$promise||r}}),d.bind=function(n){return v(p,h({},w,n),b)},d}var l=t.noop,s=t.forEach,h=t.extend,y=t.copy,c=t.isFunction;return a.prototype={setUrlParams:function(n,i,u){var e=this,f=u||e.template,o,h,c=e.urlParams={};s(f.split(/\W/),function(n){if(n==="hasOwnProperty")throw r("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(n)&&n&&new RegExp("(^|[^\\\\]):"+n+"(\\W|$)").test(f)&&(c[n]=!0)});f=f.replace(/\\:/g,":");i=i||{};s(e.urlParams,function(n,r){o=i.hasOwnProperty(r)?i[r]:e.defaults[r];t.isDefined(o)&&o!==null?(h=p(o),f=f.replace(new RegExp(":"+r+"(\\W|$)","g"),function(n,t){return h+t})):f=f.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(n,t,i){return i.charAt(0)=="/"?i:t+i})});e.defaults.stripTrailingSlashes&&(f=f.replace(/\/+$/,"")||"/");f=f.replace(/\/\.(?=\w+($|\?))/,".");n.url=f.replace(/\/\\\./,"/.");s(i,function(t,i){e.urlParams[i]||(n.params=n.params||{},n.params[i]=t)})}},v}]})})(window,window.angular);
//# sourceMappingURL=angular-resource.min.js.map

///#source 1 1 /h5/libraries/angular-ui-router/release/angular-ui-router.min.js
/**
 * State-based routing for AngularJS
 * @version v0.2.15
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
typeof module!="undefined"&&typeof exports!="undefined"&&module.exports===exports&&(module.exports="ui.router"),function(n,t,i){"use strict";function w(n,t){return r(new(r(function(){},{prototype:n})),t)}function k(n){return f(arguments,function(t){t!==n&&f(t,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}function bt(n,t){var r=[];for(var i in n.path){if(n.path[i]!==t.path[i])break;r.push(n.path[i])}return r}function p(n){if(Object.keys)return Object.keys(n);var t=[];return f(n,function(n,i){t.push(i)}),t}function h(n,t){if(Array.prototype.indexOf)return n.indexOf(t,Number(arguments[2])||0);var r=n.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=r);i<r;i++)if(i in n&&n[i]===t)return i;return-1}function rt(n,t,i,u){var o=bt(i,u),f,c={},l=[],s,e;for(s in o)if(o[s].params&&(f=p(o[s].params),f.length))for(e in f)h(l,f[e])>=0||(l.push(f[e]),c[f[e]]=n[f[e]]);return r({},c,t)}function d(n,t,i){var f,r,u;if(!i){i=[];for(f in n)i.push(f)}for(r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function g(n,t){var i={};return f(n,function(n){i[n]=t[n]}),i}function kt(n){var t={},i=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return f(i,function(i){i in n&&(t[i]=n[i])}),t}function b(n){var i={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var t in n)h(r,t)==-1&&(i[t]=n[t]);return i}function nt(n,t){var r=a(n),i=r?[]:{};return f(n,function(n,u){t(n,u)&&(i[r?i.length:u]=n)}),i}function y(n,t){var i=a(n)?[]:{};return f(n,function(n,r){i[r]=t(n,r)}),i}function ut(n,t){var s=1,c=2,o={},a=[],v=o,y=r(n.when(o),{$$promises:o,$$values:o});this.study=function(o){function tt(n,i){if(g[i]!==c){if(d.push(i),g[i]===s){d.splice(0,h(d,i));throw new Error("Cyclic dependency: "+d.join(" -> "));}if(g[i]=s,e(n))w.push(i,[function(){return t.get(n)}],a);else{var r=t.annotate(n);f(r,function(n){n!==i&&o.hasOwnProperty(n)&&tt(o[n],n)});w.push(i,n,r)}d.pop();g[i]=c}}function it(n){return l(n)&&n.then&&n.$$promises}if(!l(o))throw new Error("'invocables' must be an object");var nt=p(o||{}),w=[],d=[],g={};return f(o,tt),o=d=g=null,function(e,o,s){function d(){--ft||(rt||k(c,o.$$values),h.$$values=c,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,g.resolve(c))}function tt(n){h.$$failure=n;g.reject(n)}function et(i,r,o){function v(n){l.reject(n);tt(n)}function y(){if(!u(h.$$failure))try{l.resolve(t.invoke(r,s,c));l.promise.then(function(n){c[i]=n;d()},v)}catch(n){v(n)}}var l=n.defer(),a=0;f(o,function(n){p.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(a++,p[n].then(function(t){c[n]=t;--a||y()},v))});a||y();p[i]=l.promise}var a,ut;if(it(e)&&s===i&&(s=o,o=e,e=null),e){if(!l(e))throw new Error("'locals' must be an object");}else e=v;if(o){if(!it(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()");}else o=y;var g=n.defer(),h=g.promise,p=h.$$promises={},c=r({},e),ft=1+w.length/3,rt=!1;if(u(o.$$failure))return tt(o.$$failure),h;for(o.$$inheritedValues&&k(c,b(o.$$inheritedValues,nt)),r(p,o.$$promises),o.$$values?(rt=k(c,b(o.$$values,nt)),h.$$inheritedValues=b(o.$$values,nt),d()):(o.$$inheritedValues&&(h.$$inheritedValues=b(o.$$inheritedValues,nt)),o.then(d,tt)),a=0,ut=w.length;a<ut;a+=3)e.hasOwnProperty(w[a])?d():et(w[a],w[a+1],w[a+2]);return h}};this.resolve=function(n,t,i,r){return this.study(n)(t,i,r)}}function ft(n,t,i){this.fromConfig=function(n,t,i){return u(n.template)?this.fromString(n.template,t):u(n.templateUrl)?this.fromUrl(n.templateUrl,t):u(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):null};this.fromString=function(n,t){return s(n)?n(t):n};this.fromUrl=function(i,r){return s(i)&&(i=i(r)),i==null?null:n.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(n){return n.data})};this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})}}function v(n,t,u){function nt(t,i,r,u){if(g.push(t),d[t])return d[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+n+"'");if(b[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+n+"'");return b[t]=new c.Param(t,i,r,u),b[t]}function tt(n,t,i,r){var u=["",""],f=n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return f;switch(i){case!1:u=["(",")"+(r?"?":"")];break;case!0:u=["?(",")?"];break;default:u=["("+i+"|",")?"]}return f+u[0]+t+u[1]}function it(r,u){var e,f,s,h,l;return e=r[2]||r[3],l=t.params[e],s=n.substring(o,r.index),f=u?r[4]:r[4]||(r[1]=="*"?".*":null),h=c.type(f||"string")||w(c.type("string"),{pattern:new RegExp(f,t.caseInsensitive?"i":i)}),{id:e,regexp:f,segment:s,type:h,cfg:l}}var f,s,e,h,k;t=r({params:{}},l(t)?t:{});var v=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,rt=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,y="^",o=0,a,p=this.segments=[],d=u?u.params:{},b=this.params=u?u.params.$$new():new c.ParamSet,g=[];for(this.source=n;a=v.exec(n);){if(f=it(a,!1),f.segment.indexOf("?")>=0)break;s=nt(f.id,f.type,f.cfg,"path");y+=tt(f.segment,s.type.pattern.source,s.squash,s.isOptional);p.push(f.segment);o=v.lastIndex}if(e=n.substring(o),h=e.indexOf("?"),h>=0){if(k=this.sourceSearch=e.substring(h),e=e.substring(0,h),this.sourcePath=n.substring(0,o+h),k.length>0)for(o=0;a=rt.exec(k);)f=it(a,!0),s=nt(f.id,f.type,f.cfg,"search"),o=v.lastIndex}else this.sourcePath=n,this.sourceSearch="";y+=tt(e)+(t.strict===!1?"/?":"")+"$";p.push(e);this.regexp=new RegExp(y,t.caseInsensitive?"i":i);this.prefix=p[0];this.$$paramNames=g}function o(n){r(this,n)}function et(){function rt(n){return n!=null?n.toString().replace(/\//g,"%2F"):n}function ht(n){return n!=null?n.toString().replace(/%2F/g,"/"):n}function ct(){return{strict:g,caseInsensitive:d}}function ot(n){return s(n)||a(n)&&s(n[n.length-1])}function st(){while(it.length){var i=it.shift();if(i.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(n[i.name],b.invoke(i.def))}}function k(n){r(this,n||{})}c=this;var d=!1,g=!0,tt=!1;var n={},ut=!0,it=[],b,ft={string:{encode:rt,decode:ht,is:function(n){return n==null||!u(n)||typeof n=="string"},pattern:/[^/]*/},int:{encode:rt,decode:function(n){return parseInt(n,10)},is:function(n){return u(n)&&this.decode(n.toString())===n},pattern:/\d+/},bool:{encode:function(n){return n?1:0},decode:function(n){return parseInt(n,10)!==0},is:function(n){return n===!0||n===!1},pattern:/0|1/},date:{encode:function(n){return this.is(n)?[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"):i},decode:function(n){if(this.is(n))return n;var t=this.capture.exec(n);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(n){return n instanceof Date&&!isNaN(n.valueOf())},equals:function(n,t){return this.is(n)&&this.is(t)&&n.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};et.$$getDefaultValue=function(n){if(!ot(n.value))return n.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(n.value)};this.caseInsensitive=function(n){return u(n)&&(d=n),d};this.strictMode=function(n){return u(n)&&(g=n),g};this.defaultSquashPolicy=function(n){if(!u(n))return tt;if(n!==!0&&n!==!1&&!e(n))throw new Error("Invalid squash policy: "+n+". Valid policies: false, true, arbitrary-string");return tt=n,n};this.compile=function(n,t){return new v(n,r(ct(),t))};this.isMatcher=function(n){if(!l(n))return!1;var t=!0;return f(v.prototype,function(i,r){s(i)&&(t=t&&u(n[r])&&s(n[r]))}),t};this.type=function(t,i,f){if(!u(i))return n[t];if(n.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return n[t]=new o(r({name:t},i)),f&&(it.push({name:t,def:f}),ut||st()),this};f(ft,function(t,i){n[i]=new o(r({name:i},t))});n=w(n,{});this.$get=["$injector",function(t){return b=t,ut=!1,st(),f(ft,function(t,i){n[i]||(n[i]=new o(t))}),this}];this.Param=function(t,f,s,c){function it(n){var t=l(n)?p(n):[],i=h(t,"value")===-1&&h(t,"type")===-1&&h(t,"squash")===-1&&h(t,"array")===-1;return i&&(n={value:n}),n.$$fn=ot(n.value)?n.value:function(){return n.value},n}function rt(i,r,u){if(i.type&&r)throw new Error("Param '"+t+"' has two type configurations.");return r?r:i.type?i.type instanceof o?i.type:new o(i.type):u==="config"?n.any:n.string}function ut(){var n={array:c==="search"?"auto":!1},i=t.match(/\[\]$/)?{array:!0}:{};return r(n,i,s).array}function ft(n,t){var i=n.squash;if(!t||i===!1)return!1;if(!u(i)||i==null)return tt;if(i===!0||e(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string");}function et(n,t,r,u){var f,o,s=[{from:"",to:r||t?i:""},{from:null,to:r||t?i:""}];return f=a(n.replace)?n.replace:[],e(u)&&f.push({from:u,to:i}),o=y(f,function(n){return n.from}),nt(s,function(n){return h(o,n.from)===-1}).concat(f)}function st(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");var n=b.invoke(s.$$fn);if(n!==null&&n!==i&&!w.type.is(n))throw new Error("Default value ("+n+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return n}function ht(n){function t(n){return function(t){return t.from===n}}function i(n){var i=y(nt(w.replace,t(n)),function(n){return n.to});return i.length?i[0]:n}return n=i(n),u(n)?w.type.$normalize(n):st()}function ct(){return"{Param:"+t+" "+f+" squash: '"+d+"' optional: "+k+"}"}var w=this,v;s=it(s);f=rt(s,f,c);v=ut();f=v?f.$asArray(v,c==="search"):f;f.name!=="string"||v||c!=="path"||s.value!==i||(s.value="");var k=s.value!==i,d=ft(s,k),g=et(s,v,k,d);r(this,{id:t,type:f,location:c,array:v,squash:d,replace:g,isOptional:k,value:ht,dynamic:i,config:s,toString:ct})};k.prototype={$$new:function(){return w(this,r(new k,{$$parent:this}))},$$keys:function(){for(var t=[],i=[],n=this,r=p(k.prototype);n;)i.push(n),n=n.$$parent;return i.reverse(),f(i,function(n){f(p(n),function(n){h(t,n)===-1&&h(r,n)===-1&&t.push(n)})}),t},$$values:function(n){var t={},i=this;return f(i.$$keys(),function(r){t[r]=i[r].value(n&&n[r])}),t},$$equals:function(n,t){var i=!0,r=this;return f(r.$$keys(),function(u){var f=n&&n[u],e=t&&t[u];r[u].type.equals(f,e)||(i=!1)}),i},$$validates:function(n){for(var e=this.$$keys(),r,f,o,s,u=0;u<e.length;u++){if(r=this[e[u]],f=n[e[u]],(f===i||f===null)&&r.isOptional)break;if((o=r.type.$normalize(f),!r.type.is(o))||(s=r.type.encode(o),t.isString(s)&&!r.type.pattern.exec(s)))return!1}return!0},$$parent:i};this.ParamSet=k}function ot(n,f){function p(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return t!=null?t[1].replace(/\\(.)/g,"$1"):""}function w(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t[i==="$"?0:Number(i)]})}function v(n,t,i){if(!i)return!1;var r=n.invoke(t,t,{$match:i});return u(r)?r:!0}function y(r,u,f,s){function b(n,t,i){return v==="/"?n:t?v.slice(0,-1)+n:i?v.slice(1)+n:n}function p(n){function u(n){var t=n(f,r);return t?(e(t)&&r.replace().url(t),!0):!1}var c,s,t;if(!n||!n.defaultPrevented){for(c=a&&r.url()===a,a=i,s=o.length,t=0;t<s;t++)if(u(o[t]))return;h&&u(h)}}function w(){return c=c||u.$on("$locationChangeSuccess",p)}var v=s.baseHref(),y=r.url(),a;return l||w(),{sync:function(){p()},listen:function(){return w()},update:function(n){if(n){y=r.url();return}r.url()!==y&&(r.url(y),r.replace())},push:function(n,t,u){var f=n.format(t||{});f!==null&&t&&t["#"]&&(f+="#"+t["#"]);r.url(f);a=u&&u.$$avoidResync?r.url():i;u&&u.replace&&r.replace()},href:function(i,u,f){var o,e,h,s;return i.validates(u)?(o=n.html5Mode(),t.isObject(o)&&(o=o.enabled),e=i.format(u),f=f||{},o||e===null||(e="#"+n.hashPrefix()+e),e!==null&&u&&u["#"]&&(e+="#"+u["#"]),e=b(e,o,f.absolute),!f.absolute||!e)?e:(h=!o&&e?"/":"",s=r.port(),s=s===80||s===443?"":":"+s,[r.protocol(),"://",r.host(),s,h,e].join("")):null}}}var o=[],h=null,l=!1,c;this.rule=function(n){if(!s(n))throw new Error("'rule' must be a function");return o.push(n),this};this.otherwise=function(n){if(e(n)){var t=n;n=function(){return t}}else if(!s(n))throw new Error("'rule' must be a function");return h=n,this};this.when=function(n,t){var i,u=e(t),c,o,h;if(e(n)&&(n=f.compile(n)),!u&&!s(t)&&!a(t))throw new Error("invalid 'handler' in when()");c={matcher:function(n,t){return u&&(i=f.compile(t),t=["$match",function(n){return i.format(n)}]),r(function(i,r){return v(i,t,n.exec(r.path(),r.search()))},{prefix:e(n.prefix)?n.prefix:""})},regex:function(n,t){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(i=t,t=["$match",function(n){return w(i,n)}]),r(function(i,r){return v(i,t,n.exec(r.path()))},{prefix:p(n)})}};o={matcher:f.isMatcher(n),regex:n instanceof RegExp};for(h in o)if(o[h])return this.rule(c[h](n,t));throw new Error("invalid 'what' in when()");};this.deferIntercept=function(n){n===i&&(n=!0);l=n};this.$get=y;y.$inject=["$location","$rootScope","$injector","$browser"]}function st(n,o){function st(n){return n.indexOf(".")===0||n.indexOf("^")===0}function k(n,t){var s;if(!n)return i;var h=e(n),u=h?n:n.name,c=st(u);if(c){if(!t)throw new Error("No reference point given for path '"+u+"'");t=k(t);for(var r=u.split("."),f=0,l=r.length,o=t;f<l;f++){if(r[f]===""&&f===0){o=t;continue}if(r[f]==="^"){if(!o.parent)throw new Error("Path '"+u+"' not valid for state '"+t.name+"'");o=o.parent;continue}break}r=r.slice(f).join(".");u=o.name+(o.name&&r?".":"")+r}return(s=tt[u],s&&(h||!h&&(s===n||s.self===n)))?s:i}function ht(n,t){ut[n]||(ut[n]=[]);ut[n].push(t)}function ct(n){for(var t=ut[n]||[];t.length;)ft(t.shift())}function ft(t){var i,u,r;if(t=w(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}}),i=t.name,!e(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(tt.hasOwnProperty(i))throw new Error("State '"+i+"'' is already defined");if(u=i.indexOf(".")!==-1?i.substring(0,i.lastIndexOf(".")):e(t.parent)?t.parent:l(t.parent)&&e(t.parent.name)?t.parent.name:"",u&&!tt[u])return ht(u,t.self);for(r in b)s(b[r])&&(t[r]=b[r](t,b.$delegates[r]));return tt[i]=t,!t[et]&&t.url&&n.when(t.url,["$match","$stateParams",function(n,i){v.$current.navigable==t&&d(n,i)||v.transitionTo(t,n,{inherit:!0,location:!1})}]),ct(i),t}function lt(n){return n.indexOf("*")>-1}function at(n){for(var t=n.split("."),i=v.$current.name.split("."),r=0,u=t.length;r<u;r++)t[r]==="*"&&(i[r]="*");return(t[0]==="**"&&(i=i.slice(h(i,t[1])),i.unshift("**")),t[t.length-1]==="**"&&(i.splice(h(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length!=i.length)?!1:i.join("")===t.join("")}function vt(n,t){return e(n)&&!u(t)?b[n]:!s(t)||!e(n)?this:(b[n]&&!b.$delegates[n]&&(b.$delegates[n]=b[n]),b[n]=t,this)}function yt(n,t){return l(n)?t=n:t.name=n,ft(t),this}function ot(n,o,h,c,b,ut,ft){function vt(t,i,r,u){var e=n.$broadcast("$stateNotFound",t,i,r),f;return e.defaultPrevented?(ft.update(),st):e.retry?u.$retry?(ft.update(),ht):(f=v.transition=o.when(e.retry),f.then(function(){return f!==v.transition?ot:(t.options.$retry=!0,v.transitionTo(t.to,t.toParams,t.options))},function(){return st}),ft.update(),f):null}function yt(n,i,r,u,e,l){function w(){var i=[];return f(n.views,function(r,u){var f=r.resolve&&r.resolve!==n.resolve?r.resolve:{};f.$template=[function(){return h.load(u,{view:r,locals:e.globals,params:y,notify:l.notify})||""}];i.push(b.resolve(f,e.globals,e.resolve,n).then(function(i){if(s(r.controllerProvider)||a(r.controllerProvider)){var o=t.extend({},f,e.globals);i.$$controller=c.invoke(r.controllerProvider,null,o)}else i.$$controller=r.controller;i.$$state=n;i.$$controllerAs=r.controllerAs;e[u]=i}))}),o.all(i).then(function(){return e.globals})}var y=r?i:g(n.params.$$keys(),i),p={$stateParams:y},v;return e.resolve=b.resolve(n.resolve,p,e.resolve,n),v=[e.resolve.then(function(n){e.globals=n})],u&&v.push(u),o.all(v).then(w).then(function(){return e})}var ot=o.reject(new Error("transition superseded")),ct=o.reject(new Error("transition prevented")),st=o.reject(new Error("transition aborted")),ht=o.reject(new Error("transition failed"));return nt.locals={resolve:null,globals:{$stateParams:{}}},v={params:{},current:nt.self,$current:nt,transition:null},v.reload=function(n){return v.transitionTo(v.current,ut,{reload:n||!0,inherit:!1,notify:!0})},v.go=function(n,t,i){return v.transitionTo(n,t,r({inherit:!0,relative:v.$current},i))},v.transitionTo=function(t,i,f){var st,dt,gt,bt,lt,kt;i=i||{};f=r({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var y=v.$current,p=v.params,tt=y.path,ni,a=k(t,f.relative),at=i["#"];if(!u(a)){if(st={to:t,toParams:i,options:f},dt=vt(st,y.self,p,f),dt)return dt;if(t=st.to,i=st.toParams,f=st.options,a=k(t,f.relative),!u(a)){if(!f.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+f.relative+"'");}}if(a[et])throw new Error("Cannot transition to abstract state '"+t+"'");if(f.inherit&&(i=rt(ut,i||{},v.$current,a)),!a.params.$$validates(i))return ht;i=a.params.$$values(i);t=a;var b=t.path,h=0,s=b[h],d=nt.locals,wt=[];if(f.reload){if(e(f.reload)||l(f.reload)){if(l(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");if(gt=f.reload===!0?tt[0]:k(f.reload),f.reload&&!gt)throw new Error("No such reload state '"+(e(f.reload)?f.reload:f.reload.name)+"'");while(s&&s===tt[h]&&s!==gt)d=wt[h]=s.locals,h++,s=b[h]}}else while(s&&s===tt[h]&&s.ownParams.$$equals(i,p))d=wt[h]=s.locals,h++,s=b[h];if(pt(t,i,y,p,d,f))return at&&(i["#"]=at),v.params=i,it(v.params,ut),f.location&&t.navigable&&t.navigable.url&&(ft.push(t.navigable.url,i,{$$avoidResync:!0,replace:f.location==="replace"}),ft.update(!0)),v.transition=null,o.when(v.current);if(i=g(t.params.$$keys(),i||{}),f.notify&&n.$broadcast("$stateChangeStart",t.self,i,y.self,p).defaultPrevented)return n.$broadcast("$stateChangeCancel",t.self,i,y.self,p),ft.update(),ct;for(bt=o.when(d),lt=h;lt<b.length;lt++,s=b[lt])d=wt[lt]=w(d),bt=yt(s,i,s===t,bt,d,f);return kt=v.transition=bt.then(function(){var r,u,e;if(v.transition!==kt)return ot;for(r=tt.length-1;r>=h;r--)e=tt[r],e.self.onExit&&c.invoke(e.self.onExit,e.self,e.locals.globals),e.locals=null;for(r=h;r<b.length;r++)u=b[r],u.locals=wt[r],u.self.onEnter&&c.invoke(u.self.onEnter,u.self,u.locals.globals);return(at&&(i["#"]=at),v.transition!==kt)?ot:(v.$current=t,v.current=t.self,v.params=i,it(v.params,ut),v.transition=null,f.location&&t.navigable&&ft.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:f.location==="replace"}),f.notify&&n.$broadcast("$stateChangeSuccess",t.self,i,y.self,p),ft.update(!0),v.current)},function(r){return v.transition!==kt?ot:(v.transition=null,ni=n.$broadcast("$stateChangeError",t.self,i,y.self,p,r),ni.defaultPrevented||ft.update(),o.reject(r))})},v.is=function(n,t,f){f=r({relative:v.$current},f||{});var e=k(n,f.relative);return u(e)?v.$current!==e?!1:t?d(e.params.$$values(t),ut):!0:i},v.includes=function(n,t,f){if(f=r({relative:v.$current},f||{}),e(n)&&lt(n)){if(!at(n))return!1;n=v.$current.name}var o=k(n,f.relative);return u(o)?u(v.$current.includes[o.name])?t?d(o.params.$$values(t),ut,p(t)):!0:!1:i},v.href=function(n,t,f){var e,o;return(f=r({lossy:!0,inherit:!0,absolute:!1,relative:v.$current},f||{}),e=k(n,f.relative),!u(e))?null:(f.inherit&&(t=rt(ut,t||{},v.$current,e)),o=e&&f.lossy?e.navigable:e,!o||o.url===i||o.url===null)?null:ft.href(o.url,g(e.params.$$keys().concat("#"),t||{}),{absolute:f.absolute})},v.get=function(n,t){if(arguments.length===0)return y(p(tt),function(n){return tt[n].self});var i=k(n,t||v.$current);return i&&i.self?i.self:null},v}function pt(n,t,i,r,u,f){function e(n,t,i){function r(t){return n.params[t].location!="search"}var u=n.params.$$keys().filter(r),f=kt.apply({},[n.params].concat(u)),e=new c.ParamSet(f);return e.$$equals(t,i)}if(!f.reload&&n===i&&(u===i.locals||n.self.reloadOnSearch===!1&&e(i,r,t)))return!0}var nt,tt={},v,ut={},et="abstract",b={parent:function(n){if(u(n.parent)&&n.parent)return k(n.parent);var t=/^(.+)\.[^.]+$/.exec(n.name);return t?k(t[1]):nt},data:function(n){return n.parent&&n.parent.data&&(n.data=n.self.data=r({},n.parent.data,n.data)),n.data},url:function(n){var t=n.url,i={params:n.params||{}};if(e(t))return t.charAt(0)=="^"?o.compile(t.substring(1),i):(n.parent.navigable||nt).url.concat(t,i);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+n+"'");},navigable:function(n){return n.url?n:n.parent?n.parent.navigable:null},ownParams:function(n){var t=n.url&&n.url.params||new c.ParamSet;return f(n.params||{},function(n,i){t[i]||(t[i]=new c.Param(i,null,n,"config"))}),t},params:function(n){return n.parent&&n.parent.params?r(n.parent.params.$$new(),n.ownParams):new c.ParamSet},views:function(n){var t={};return f(u(n.views)?n.views:{"":n},function(i,r){r.indexOf("@")<0&&(r+="@"+n.parent.name);t[r]=i}),t},path:function(n){return n.parent?n.parent.path.concat(n):[]},includes:function(n){var t=n.parent?r({},n.parent.includes):{};return t[n.name]=!0,t},$delegates:{}};nt=ft({name:"",url:"^",views:null,abstract:!0});nt.navigable=null;this.decorator=vt;this.state=yt;this.$get=ot;ot.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function ht(){function n(n,t){return{load:function(i,u){var f;return u=r({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},u),u.view&&(f=t.fromConfig(u.view,u.params,u.locals)),f&&u.notify&&n.$broadcast("$viewContentLoading",u),f}}}this.$get=n;n.$inject=["$rootScope","$templateFactory"]}function dt(){var n=!1;this.useAnchorScroll=function(){n=!0};this.$get=["$anchorScroll","$timeout",function(t,i){return n?t:function(n){return i(function(){n[0].scrollIntoView()},0,!1)}}]}function ct(n,i,r,u){function s(){return i.has?function(n){return i.has(n)?i.get(n):null}:function(n){try{return i.get(n)}catch(t){return null}}}function h(n,t){var r=function(){return{enter:function(n,t,i){t.after(n);i()},leave:function(n,t){n.remove();t()}}},i;return e?{enter:function(n,t,i){var r=e.enter(n,null,t,i);r&&r.then&&r.then(i)},leave:function(n,t){var i=e.leave(n,t);i&&i.then&&i.then(t)}}:f?(i=f&&f(t,n),{enter:function(n,t,r){i.enter(n,null,t);r()},leave:function(n,t){i.leave(n);t()}}):r()}var o=s(),f=o("$animator"),e=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,f,e){return function(i,f,o){function b(){c&&(c.remove(),c=null);s&&(s.$destroy(),s=null);l&&(p.leave(l,function(){c=null}),c=l,l=null)}function v(h){var c,v=at(i,o,f,u),d=v&&n.$current&&n.$current.locals[v],k;(h||d!==y)&&(c=i.$new(),y=n.$current.locals[v],k=e(c,function(n){p.enter(n,f,function(){s&&s.$emit("$viewContentAnimationEnded");(t.isDefined(a)&&!a||i.$eval(a))&&r(n)});b()}),l=k,s=c,s.$emit("$viewContentLoaded"),s.$eval(w))}var c,l,s,y,w=o.onload||"",a=o.autoscroll,p=h(o,i);i.$on("$stateChangeSuccess",function(){v(!1)});i.$on("$viewContentLoading",function(){v(!1)});v(!0)}}}}function lt(n,t,i,r){return{restrict:"ECA",priority:-400,compile:function(u){var f=u.html();return function(u,e,o){var c=i.$current,l=at(u,o,e,r),s=c&&c.locals[l],a,h;s&&(e.data("$uiView",{name:l,state:s.$$state}),e.html(s.$template?s.$template:f),a=n(e.contents()),s.$$controller&&(s.$scope=u,s.$element=e,h=t(s.$$controller,s),s.$$controllerAs&&(u[s.$$controllerAs]=h),e.data("$ngControllerController",h),e.children().data("$ngControllerController",h)),a(u))}}}}function at(n,t,i,r){var u=r(t.uiView||t.name||"")(n),f=i.inheritedData("$uiView");return u.indexOf("@")>=0?u:u+"@"+(f?f.state.name:"")}function gt(n,t){var r=n.match(/^\s*({[^}]*})\s*$/),i;if(r&&(n=t+"("+r[1]+")"),i=n.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||i.length!==4)throw new Error("Invalid state ref '"+n+"'");return{state:i[1],paramExpr:i[3]||null}}function vt(n){var t=n.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function yt(n,i){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(u,f,e,o){var s=gt(e.uiSref,n.current.name),h=null,w=vt(f)||n.$current,b=Object.prototype.toString.call(f.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href",c=null,k=f.prop("tagName").toUpperCase()==="A",v=f[0].nodeName==="FORM",d=v?"action":b,y=!0,l={relative:w,inherit:!0},p=u.$eval(e.uiSrefOpts)||{},a;(t.forEach(r,function(n){n in p&&(l[n]=p[n])}),a=function(i){if(i&&(h=t.copy(i)),y){c=n.href(s.state,h,l);var r=o[1]||o[0];if(r&&r.$$addStateInfo(s.state,h),c===null)return y=!1,!1;e.$set(d,c)}},s.paramExpr&&(u.$watch(s.paramExpr,function(n){n!==h&&a(n)},!0),h=t.copy(u.$eval(s.paramExpr))),a(),v)||f.bind("click",function(t){var e=t.which||t.button,r,u;e>1||t.ctrlKey||t.metaKey||t.shiftKey||f.attr("target")||(r=i(function(){n.go(s.state,h,l)}),t.preventDefault(),u=k&&!c?1:0,t.preventDefault=function(){u--<=0&&i.cancel(r)})})}}}function tt(n,t,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,u){function o(){s()?r.addClass(e):r.removeClass(e)}function s(){for(var n=0;n<f.length;n++)if(h(f[n].state,f[n].params))return!0;return!1}function h(t,i){return typeof u.uiSrefActiveEq!="undefined"?n.is(t.name,i):n.includes(t.name,i)}var f=[],e;e=i(u.uiSrefActiveEq||u.uiSrefActive||"",!1)(t);this.$$addStateInfo=function(t,i){var u=n.get(t,vt(r));f.push({state:u||{name:t},params:i});o()};t.$on("$stateChangeSuccess",o)}]}}function pt(n){var t=function(t){return n.is(t)};return t.$stateful=!0,t}function wt(n){var t=function(t){return n.includes(t)};return t.$stateful=!0,t}var u=t.isDefined,s=t.isFunction,e=t.isString,l=t.isObject,a=t.isArray,f=t.forEach,r=t.extend,it=t.copy,c;t.module("ui.router.util",["ng"]);t.module("ui.router.router",["ui.router.util"]);t.module("ui.router.state",["ui.router.router","ui.router.util"]);t.module("ui.router",["ui.router.state"]);t.module("ui.router.compat",["ui.router"]);ut.$inject=["$q","$injector"];t.module("ui.router.util").service("$resolve",ut);ft.$inject=["$http","$templateCache","$injector"];t.module("ui.router.util").service("$templateFactory",ft);v.prototype.concat=function(n,t){var i={caseInsensitive:c.caseInsensitive(),strict:c.strictMode(),squash:c.defaultSquashPolicy()};return new v(this.sourcePath+n+this.sourceSearch,r(i,t),this)};v.prototype.toString=function(){return this.source};v.prototype.exec=function(n,t){function a(n){function t(n){return n.split("").reverse().join("")}function i(n){return n.replace(/\\-/g,"-")}var r=t(n).split(/-(?!\\)/),u=y(r,t);return y(u,i).reverse()}var o=this.regexp.exec(n),f,u;if(!o)return null;t=t||{};var s=this.parameters(),l=s.length,c=this.segments.length-1,h={},i,e,r;if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;i<c;i++){for(r=s[i],f=this.params[r],u=o[i+1],e=0;e<f.replace;e++)f.replace[e].from===u&&(u=f.replace[e].to);u&&f.array===!0&&(u=a(u));h[r]=f.value(u)}for(;i<l;i++)r=s[i],h[r]=this.params[r].value(t[r]);return h};v.prototype.parameters=function(n){return u(n)?this.params[n]||null:this.$$paramNames};v.prototype.validates=function(n){return this.params.$$validates(n)};v.prototype.format=function(n){function g(n){return encodeURIComponent(n).replace(/-/g,function(n){return"%5C%"+n.charCodeAt(0).toString(16).toUpperCase()})}var s,w;n=n||{};var h=this.segments,c=this.parameters(),b=this.params;if(!this.validates(n))return null;for(var l=!1,k=h.length-1,d=c.length,i=h[0],r=0;r<d;r++){var nt=r<k,o=c[r],u=b[o],v=u.value(n[o]),p=u.isOptional&&u.type.equals(u.value(),v),f=p?u.squash:!1,t=u.type.encode(v);if(nt)s=h[r+1],f===!1?(t!=null&&(i+=a(t)?y(t,g).join("-"):encodeURIComponent(t)),i+=s):f===!0?(w=i.match(/\/$/)?/\/?(.*)/:/(.*)/,i+=s.match(w)[1]):e(f)&&(i+=f+s);else{if(t==null||p&&f!==!1)continue;a(t)||(t=[t]);t=y(t,encodeURIComponent).join("&"+o+"=");i+=(l?"&":"?")+(o+"="+t);l=!0}}return i};o.prototype.is=function(){return!0};o.prototype.encode=function(n){return n};o.prototype.decode=function(n){return n};o.prototype.equals=function(n,t){return n==t};o.prototype.$subPattern=function(){var n=this.pattern.toString();return n.substr(1,n.length-2)};o.prototype.pattern=/.*/;o.prototype.toString=function(){return"{Type:"+this.name+"}"};o.prototype.$normalize=function(n){return this.is(n)?n:this.decode(n)};o.prototype.$asArray=function(n,t){function r(n,t){function r(n,t){return function(){return n[t].apply(n,arguments)}}function e(n){return a(n)?n:u(n)?[n]:[]}function o(n){switch(n.length){case 0:return i;case 1:return t==="auto"?n[0]:n;default:return n}}function s(n){return!n}function f(n,t){return function(i){i=e(i);var r=y(i,n);return t===!0?nt(r,s).length===0:o(r)}}function h(n){return function(t,i){var u=e(t),f=e(i),r;if(u.length!==f.length)return!1;for(r=0;r<u.length;r++)if(!n(u[r],f[r]))return!1;return!0}}this.encode=f(r(n,"encode"));this.decode=f(r(n,"decode"));this.is=f(r(n,"is"),!0);this.equals=h(r(n,"equals"));this.pattern=n.pattern;this.$normalize=f(r(n,"$normalize"));this.name=n.name;this.$arrayMode=t}if(!n)return this;if(n==="auto"&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,n)};t.module("ui.router.util").provider("$urlMatcherFactory",et);t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]);ot.$inject=["$locationProvider","$urlMatcherFactoryProvider"];t.module("ui.router.router").provider("$urlRouter",ot);st.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];t.module("ui.router.state").value("$stateParams",{}).provider("$state",st);ht.$inject=[];t.module("ui.router.state").provider("$view",ht);t.module("ui.router.state").provider("$uiViewScroll",dt);ct.$inject=["$state","$injector","$uiViewScroll","$interpolate"];lt.$inject=["$compile","$controller","$state","$interpolate"];t.module("ui.router.state").directive("uiView",ct);t.module("ui.router.state").directive("uiView",lt);yt.$inject=["$state","$timeout"];tt.$inject=["$state","$stateParams","$interpolate"];t.module("ui.router.state").directive("uiSref",yt).directive("uiSrefActive",tt).directive("uiSrefActiveEq",tt);pt.$inject=["$state"];wt.$inject=["$state"];t.module("ui.router.state").filter("isState",pt).filter("includedByState",wt)}(window,window.angular);
//# sourceMappingURL=angular-ui-router.min.js.map

///#source 1 1 /h5/libraries/angular-toastr/dist/angular-toastr.min.js
angular.module("toastr",[]).directive("toast",["$compile","$interval","toastr",function(n,t,i){return{replace:!0,templateUrl:"templates/toastr/toastr.html",link:function(r,u){function o(n){return t(function(){i.remove(r.toastId)},n,1)}var e,f;r.toastClass=r.options.toastClass;r.titleClass=r.options.titleClass;r.messageClass=r.options.messageClass;r.options.closeHtml&&(f=angular.element(r.options.closeHtml),f.addClass("toast-close-button"),f.attr("ng-click","close()"),n(f)(r),u.prepend(f));r.init=function(){r.options.timeOut&&(e=o(r.options.timeOut))};u.on("mouseenter",function(){e&&t.cancel(e)});r.tapToast=function(){r.options.tapToDismiss&&r.close()};r.close=function(){i.remove(r.toastId)};u.on("mouseleave",function(){(r.options.timeOut!==0||r.options.extendedTimeOut!==0)&&(e=o(r.options.extendedTimeOut))})}}}]).constant("toastrConfig",{allowHtml:!1,closeButton:!1,closeHtml:"<button>&times;<\/button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},messageClass:"toast-message",newestOnTop:!0,positionClass:"toast-top-right",tapToDismiss:!0,timeOut:5e3,titleClass:"toast-title",toastClass:"toast"}).factory("toastr",["$animate","$compile","$document","$rootScope","$sce","toastrConfig","$q",function(n,t,i,r,u,f,e){function y(n){if(n)a(n.toastId);else for(var t=0;t<s.length;t++)a(s[t].toastId)}function p(n,t,i){return l({iconClass:h().iconClasses.error,message:n,optionsOverride:i,title:t})}function w(n,t,i){return l({iconClass:h().iconClasses.info,message:n,optionsOverride:i,title:t})}function b(n,t,i){return l({iconClass:h().iconClasses.success,message:n,optionsOverride:i,title:t})}function k(n,t,i){return l({iconClass:h().iconClasses.warning,message:n,optionsOverride:i,title:t})}function h(){return angular.extend({},f)}function d(t){if(o)return c.promise;o=angular.element("<div><\/div>");o.attr("id",t.containerId);o.addClass(t.positionClass);o.css({"pointer-events":"auto"});var r=i.find("body").eq(0);return n.enter(o,r).then(function(){c.resolve()}),c.promise}function l(i){function c(n,t,i){i.allowHtml?(n.scope.allowHtml=!0,n.scope.title=u.trustAsHtml(t.title),n.scope.message=u.trustAsHtml(t.message)):(n.scope.title=t.title,n.scope.message=t.message);n.scope.toastType=n.iconClass;n.scope.toastId=n.toastId;n.scope.options={extendedTimeOut:i.extendedTimeOut,messageClass:i.messageClass,tapToDismiss:i.tapToDismiss,timeOut:i.timeOut,titleClass:i.titleClass,toastClass:i.toastClass};i.closeButton&&(n.scope.options.closeHtml=i.closeHtml)}function l(n){var i=angular.element("<div toast><\/div>");return t(i)(n)}var e=h(),f={toastId:v++,scope:r.$new()};return f.iconClass=i.iconClass,i.optionsOverride&&(e=angular.extend(e,i.optionsOverride),f.iconClass=i.optionsOverride.iconClass||f.iconClass),c(f,i,e),f.el=l(f.scope),s.push(f),d(e).then(function(){e.newestOnTop?n.enter(f.el,o).then(function(){f.scope.init()}):n.enter(f.el,o,o[0].lastChild).then(function(){f.scope.init()})}),f}function a(t){function r(n){for(var t=0;t<s.length;t++)if(s[t].toastId===n)return s[t]}var i=r(t);i&&n.leave(i.el).then(function(){i.scope.$destroy();o&&o.children().length===0&&(s=[],o.remove(),o=null,c=e.defer())})}var o,v=0,s=[],c=e.defer();return{clear:y,error:p,info:w,remove:a,success:b,warning:k}}]);angular.module("toastr").run(["$templateCache",function(n){"use strict";n.put("templates/toastr/toastr.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}">{{title}}<\/div>\n    <div ng-switch-default class="{{messageClass}}">{{message}}<\/div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"><\/div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"><\/div>\n  <\/div>\n<\/div>')}]);
//# sourceMappingURL=angular-toastr.min.js.map

///#source 1 1 /h5/libraries/angular-ladda/dist/angular-ladda.min.js
/*! angular-ladda 0.1.15 */
!function(){"use strict";angular.module("angular-ladda",[]).provider("ladda",function(){var a={style:"zoom-in"};return{setOption:function(t){angular.extend(a,t)},$get:function(){return a}}}).directive("ladda",["$compile","$timeout","ladda",function(a,t,e){return{restrict:"A",replace:!1,terminal:!0,priority:501,link:function(n,r,d){r.addClass("ladda-button"),angular.isUndefined(r.attr("data-style"))&&r.attr("data-style",e.style||"zoom-in");var i=Ladda.create(r[0]);t(function(){r.removeAttr("ladda"),r.removeAttr("data-ladda"),a(r,null,501)(n),n.$watch(d.ladda,function(a){a||angular.isNumber(a)?(i.isLoading()||i.start(),angular.isNumber(a)&&i.setProgress(a)):(i.stop(),d.ngDisabled&&r.attr("disabled",n.$eval(d.ngDisabled)))})},0)}}}])}();
///#source 1 1 /h5/libraries/angular-bootstrap/ui-bootstrap-tpls.min.js
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]);angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(n){return{link:function(t,i,r){function f(){i.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1);n.addClass(i,"in",{to:{height:i[0].scrollHeight+"px"}}).then(e)}function e(){i.removeClass("collapsing");i.css({height:"auto"})}function o(){if(!i.hasClass("collapse")&&!i.hasClass("in"))return u();i.css({height:i[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0);n.removeClass(i,"in",{to:{height:"0"}}).then(u)}function u(){i.css({height:"0"});i.removeClass("collapsing");i.addClass("collapse")}t.$watch(r.collapse,function(n){n?o():f()})}}}]);angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(n,t,i){this.groups=[];this.closeOthers=function(r){var u=angular.isDefined(t.closeOthers)?n.$eval(t.closeOthers):i.closeOthers;u&&angular.forEach(this.groups,function(n){n!==r&&(n.isOpen=!1)})};this.addGroup=function(n){var t=this;this.groups.push(n);n.$on("$destroy",function(){t.removeGroup(n)})};this.removeGroup=function(n){var t=this.groups.indexOf(n);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(n){this.heading=n}},link:function(n,t,i,r){r.addGroup(n);n.$watch("isOpen",function(t){t&&r.closeOthers(n)});n.toggleOpen=function(){n.isDisabled||(n.isOpen=!n.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,t,i,r,u){r.setHeading(u(n,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(n,t,i,r){n.$watch(function(){return r[i.accordionTransclude]},function(n){n&&(t.html(""),t.append(n))})}}});angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(n,t){n.closeable=!!t.close;this.close=n.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(n){return{require:"alert",link:function(t,i,r,u){n(function(){u.close()},parseInt(r.dismissOnTimeout,10))}}}]);angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(n,t){return function(i,r,u){t||n.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead");r.addClass("ng-binding").data("$binding",u.bindHtmlUnsafe);i.$watch(u.bindHtmlUnsafe,function(n){r.html(n||"")})}}]);angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(n){this.activeClass=n.activeClass||"active";this.toggleEvent=n.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,n.$eval(i.btnRadio)))};t.bind(f.toggleEvent,function(){var r=t.hasClass(f.activeClass);(!r||angular.isDefined(i.uncheckable))&&n.$apply(function(){u.$setViewValue(r?null:n.$eval(i.btnRadio));u.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){function e(){return o(i.btnCheckboxTrue,!0)}function s(){return o(i.btnCheckboxFalse,!1)}function o(t,i){var r=n.$eval(t);return angular.isDefined(r)?r:i}var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,e()))};t.bind(f.toggleEvent,function(){n.$apply(function(){u.$setViewValue(t.hasClass(f.activeClass)?s():e());u.$render()})})}}});angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(n,t,i,r){function p(t,i,f){if(!h){if(angular.extend(t,{direction:f,active:!0}),angular.extend(u.currentSlide||{},{direction:f,active:!1}),r.enabled()&&!n.noTransition&&!n.$currentTransition&&t.$element){t.$element.data(y,t.direction);n.$currentTransition=!0;t.$element.one("$animate:close",function(){n.$currentTransition=null})}u.currentSlide=t;e=i;c()}}function a(n){if(angular.isUndefined(f[n].index))return f[n];for(var i=f.length,t=0;t<f.length;++t)if(f[t].index==n)return f[t]}function c(){l();var t=+n.interval;!isNaN(t)&&t>0&&(o=i(w,t))}function l(){o&&(i.cancel(o),o=null)}function w(){var t=+n.interval;s&&!isNaN(t)&&t>0&&f.length?n.next():n.pause()}var u=this,f=u.slides=n.slides=[],v="uib-noTransition",y="uib-slideDirection",e=-1,o,s,h;u.currentSlide=null;h=!1;u.select=n.select=function(t,i){var r=u.indexOfSlide(t);i===undefined&&(i=r>u.getCurrentIndex()?"next":"prev");t&&t!==u.currentSlide&&!n.$currentTransition&&p(t,r,i)};n.$on("$destroy",function(){h=!0});u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:e};u.indexOfSlide=function(n){return angular.isDefined(n.index)?+n.index:f.indexOf(n)};n.next=function(){var t=(u.getCurrentIndex()+1)%f.length;if(t===0&&n.noWrap()){n.pause();return}return u.select(a(t),"next")};n.prev=function(){var t=u.getCurrentIndex()-1<0?f.length-1:u.getCurrentIndex()-1;if(n.noWrap()&&t===f.length-1){n.pause();return}return u.select(a(t),"prev")};n.isActive=function(n){return u.currentSlide===n};n.$watch("interval",c);n.$on("$destroy",l);n.play=function(){s||(s=!0,c())};n.pause=function(){n.noPause||(s=!1,l())};u.addSlide=function(t,i){t.$element=i;f.push(t);f.length===1||t.active?(u.select(f[f.length-1]),f.length==1&&n.play()):t.active=!1};u.removeSlide=function(n){angular.isDefined(n.index)&&f.sort(function(n,t){return+n.index>+t.index});var t=f.indexOf(n);f.splice(t,1);f.length>0&&n.active?t>=f.length?u.select(f[t-1]):u.select(f[t]):e>t&&e--};n.$watch("noTransition",function(n){t.data(v,n)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(n,t,i,r){r.addSlide(n,t);n.$on("$destroy",function(){r.removeSlide(n)});n.$watch("active",function(t){t&&r.select(n)})}}}).animation(".item",["$animate",function(n){var t="uib-noTransition",i="uib-slideDirection";return{beforeAddClass:function(r,u,f){if(u=="active"&&r.parent()&&!r.parent().data(t)){var o=!1,e=r.data(i),s=e=="next"?"left":"right";return r.addClass(e),n.addClass(r,s).then(function(){o||r.removeClass(s+" "+e);f()}),function(){o=!0}}f()},beforeRemoveClass:function(r,u,f){if(u=="active"&&r.parent()&&!r.parent().data(t)){var e=!1,s=r.data(i),o=s=="next"?"left":"right";return n.addClass(r,o).then(function(){e||r.removeClass(o);f()}),function(){e=!0}}f()}}}]);angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(n,t){function u(n){var u=[],r=n.split("");return angular.forEach(i,function(t,i){var f=n.indexOf(i),e,o;if(f>-1){for(n=n.split(""),r[f]="("+t.regex+")",n[f]="$",e=f+1,o=f+i.length;e<o;e++)r[e]="",n[e]="$";n=n.join("");u.push({index:f,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(u,"index")}}function f(n,t,i){return i<1?!1:t===1&&i>28?i===29&&(n%4==0&&n%100!=0||n%400==0):t===3||t===5||t===8||t===10?i<31:!0}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,i;this.parsers={};i={yyyy:{regex:"\\d{4}",apply:function(n){this.year=+n}},yy:{regex:"\\d{2}",apply:function(n){this.year=+n+2e3}},y:{regex:"\\d{1,4}",apply:function(n){this.year=+n}},MMMM:{regex:n.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:n.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(n){this.month=n-1}},M:{regex:"[1-9]|1[0-2]",apply:function(n){this.month=n-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},EEEE:{regex:n.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:n.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(n){this.hours=+n}},H:{regex:"1?[0-9]|2[0-3]",apply:function(n){this.hours=+n}},mm:{regex:"[0-5][0-9]",apply:function(n){this.minutes=+n}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(n){this.minutes=+n}},sss:{regex:"[0-9][0-9][0-9]",apply:function(n){this.milliseconds=+n}},ss:{regex:"[0-5][0-9]",apply:function(n){this.seconds=+n}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(n){this.seconds=+n}}};this.parse=function(t,i,e){var o,a,s,v,c;if(!angular.isString(t)||!i)return t;i=n.DATETIME_FORMATS[i]||i;i=i.replace(r,"\\$&");this.parsers[i]||(this.parsers[i]=u(i));var l=this.parsers[i],y=l.regex,p=l.map,h=t.match(y);if(h&&h.length){for(o=e?{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},s=1,v=h.length;s<v;s++)c=p[s-1],c.apply&&c.apply.call(o,h[s]);return f(o.year,o.month,o.date)&&(a=new Date(o.year,o.month,o.date,o.hours,o.minutes,o.seconds,o.milliseconds||0)),a}}}]);angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return(i(n,"position")||"static")==="static"}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,i,r){var a=i.split("-"),h=a[0],e=a[1]||"center",u,c,l,f,o,s;u=r?this.offset(n):this.position(n);c=t.prop("offsetWidth");l=t.prop("offsetHeight");o={center:function(){return u.left+u.width/2-c/2},left:function(){return u.left},right:function(){return u.left+u.width}};s={center:function(){return u.top+u.height/2-l/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(h){case"right":f={top:s[e](),left:o[h]()};break;case"left":f={top:s[e](),left:u.left-c};break;case"bottom":f={top:s[h](),left:o[e]()};break;default:f={top:u.top-l,left:o[e]()}}return f}}}]);angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig",function(n,t,i,r,u,f,e){var o=this,s={$setViewValue:angular.noop},h;this.modes=["day","month","year"];angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(i,u){o[i]=angular.isDefined(t[i])?u<8?r(t[i])(n.$parent):n.$parent.$eval(t[i]):e[i]});angular.forEach(["minDate","maxDate"],function(r){t[r]?n.$parent.$watch(i(t[r]),function(n){o[r]=n?new Date(n):null;o.refreshView()}):o[r]=e[r]?new Date(e[r]):null});n.datepickerMode=n.datepickerMode||e.datepickerMode;n.maxMode=o.maxMode;n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(Math.random()*1e4);angular.isDefined(t.initDate)?(this.activeDate=n.$parent.$eval(t.initDate)||new Date,n.$parent.$watch(t.initDate,function(n){n&&(s.$isEmpty(s.$modelValue)||s.$invalid)&&(o.activeDate=n,o.refreshView())})):this.activeDate=new Date;n.isActive=function(t){return o.compare(t.date,o.activeDate)===0?(n.activeDateId=t.uid,!0):!1};this.init=function(n){s=n;s.$render=function(){o.render()}};this.render=function(){if(s.$viewValue){var n=new Date(s.$viewValue),t=!isNaN(n);t?this.activeDate=n:u.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');s.$setValidity("date",t)}this.refreshView()};this.refreshView=function(){if(this.element){this._refreshView();var n=s.$viewValue?new Date(s.$viewValue):null;s.$setValidity("date-disabled",!n||this.element&&!this.isDisabled(n))}};this.createDateObject=function(n,t){var i=s.$viewValue?new Date(s.$viewValue):null;return{date:n,label:f(n,t),selected:i&&this.compare(n,i)===0,disabled:this.isDisabled(n),current:this.compare(n,new Date)===0,customClass:this.customClass(n)}};this.isDisabled=function(i){return this.minDate&&this.compare(i,this.minDate)<0||this.maxDate&&this.compare(i,this.maxDate)>0||t.dateDisabled&&n.dateDisabled({date:i,mode:n.datepickerMode})};this.customClass=function(t){return n.customClass({date:t,mode:n.datepickerMode})};this.split=function(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i};this.fixTimeZone=function(n){var t=n.getHours();n.setHours(t===23?t+2:0)};n.select=function(t){if(n.datepickerMode===o.minMode){var i=s.$viewValue?new Date(s.$viewValue):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());s.$setViewValue(i);s.$render()}else o.activeDate=t,n.datepickerMode=o.modes[o.modes.indexOf(n.datepickerMode)-1]};n.move=function(n){var t=o.activeDate.getFullYear()+n*(o.step.years||0),i=o.activeDate.getMonth()+n*(o.step.months||0);o.activeDate.setFullYear(t,i,1);o.refreshView()};n.toggleMode=function(t){(t=t||1,(n.datepickerMode!==o.maxMode||t!==1)&&(n.datepickerMode!==o.minMode||t!==-1))&&(n.datepickerMode=o.modes[o.modes.indexOf(n.datepickerMode)+t])};n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};h=function(){o.element[0].focus()};n.$on("datepicker.focus",h);n.keydown=function(t){var i=n.keys[t.which];if(i&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),o.shortcutPropagation||t.stopPropagation(),i==="enter"||i==="space"){if(o.isDisabled(o.activeDate))return;n.select(o.activeDate);h()}else t.ctrlKey&&(i==="up"||i==="down")?(n.toggleMode(i==="up"?1:-1),h()):(o.handleKeyDown(i,t),o.refreshView())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u)}}}).directive("daypicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,i,r,u){function f(n,t){return t===1&&n%4==0&&(n%100!=0||n%400==0)?29:e[t]}function o(n,t){for(var f=new Array(t),i=new Date(n),e=0,r;e<t;)r=new Date(i),u.fixTimeZone(r),f[e++]=r,i.setDate(i.getDate()+1);return f}function s(n){var t=new Date(n),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}t.showWeeks=u.showWeeks;u.step={months:1};u.element=i;var e=[31,28,31,30,31,30,31,31,30,31,30,31];u._refreshView=function(){var w=u.activeDate.getFullYear(),c=u.activeDate.getMonth(),l=new Date(w,c,1),h=u.startingDay-l.getDay(),a=h>0?7-h:-h,v=new Date(l),i,r,f,y,p,e;for(a>0&&v.setDate(-a+1),i=o(v,42),r=0;r<42;r++)i[r]=angular.extend(u.createDateObject(i[r],u.formatDay),{secondary:i[r].getMonth()!==c,uid:t.uniqueId+"-"+r});for(t.labels=new Array(7),f=0;f<7;f++)t.labels[f]={abbr:n(i[f].date,u.formatDayHeader),full:n(i[f].date,"EEEE")};if(t.title=n(u.activeDate,u.formatDayTitle),t.rows=u.split(i,7),t.showWeeks)for(t.weekNumbers=[],y=(11-u.startingDay)%7,p=t.rows.length,e=0;e<p;e++)t.weekNumbers.push(s(t.rows[e][y].date))};u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};u.handleKeyDown=function(n){var t=u.activeDate.getDate(),i;n==="left"?t=t-1:n==="up"?t=t-7:n==="right"?t=t+1:n==="down"?t=t+7:n==="pageup"||n==="pagedown"?(i=u.activeDate.getMonth()+(n==="pageup"?-1:1),u.activeDate.setMonth(i,1),t=Math.min(f(u.activeDate.getFullYear(),u.activeDate.getMonth()),t)):n==="home"?t=1:n==="end"&&(t=f(u.activeDate.getFullYear(),u.activeDate.getMonth()));u.activeDate.setDate(t)};u.refreshView()}}}]).directive("monthpicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,i,r,u){u.step={years:1};u.element=i;u._refreshView=function(){for(var f=new Array(12),e=u.activeDate.getFullYear(),r,i=0;i<12;i++)r=new Date(e,i,1),u.fixTimeZone(r),f[i]=angular.extend(u.createDateObject(r,u.formatMonth),{uid:t.uniqueId+"-"+i});t.title=n(u.activeDate,u.formatMonthTitle);t.rows=u.split(f,3)};u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth())-new Date(t.getFullYear(),t.getMonth())};u.handleKeyDown=function(n){var t=u.activeDate.getMonth(),i;n==="left"?t=t-1:n==="up"?t=t-3:n==="right"?t=t+1:n==="down"?t=t+3:n==="pageup"||n==="pagedown"?(i=u.activeDate.getFullYear()+(n==="pageup"?-1:1),u.activeDate.setFullYear(i)):n==="home"?t=0:n==="end"&&(t=11);u.activeDate.setMonth(t)};u.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(n,t,i,r){function f(n){return parseInt((n-1)/u,10)*u+1}var u=r.yearRange;r.step={years:u};r.element=t;r._refreshView=function(){for(var i=new Array(u),e,t=0,o=f(r.activeDate.getFullYear());t<u;t++)e=new Date(o+t,0,1),r.fixTimeZone(e),i[t]=angular.extend(r.createDateObject(e,r.formatYear),{uid:n.uniqueId+"-"+t});n.title=[i[0].label,i[u-1].label].join(" - ");n.rows=r.split(i,5)};r.compare=function(n,t){return n.getFullYear()-t.getFullYear()};r.handleKeyDown=function(n){var t=r.activeDate.getFullYear();n==="left"?t=t-1:n==="up"?t=t-5:n==="right"?t=t+1:n==="down"?t=t+5:n==="pageup"||n==="pagedown"?t+=(n==="pageup"?-1:1)*r.step.years:n==="home"?t=f(r.activeDate.getFullYear()):n==="end"&&(t=f(r.activeDate.getFullYear())+u-1);r.activeDate.setFullYear(t)};r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(n,t,i,r,u,f,e,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(s,h,c,l){function nt(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}function it(n){if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return n;if(angular.isString(n)){var t=f.parse(n,a,s.date)||new Date(n);return isNaN(t)?undefined:t}return undefined}return null}function rt(n,t){var i=n||t,r;return angular.isNumber(i)&&(i=new Date(i)),i?angular.isDate(i)&&!isNaN(i)?!0:angular.isString(i)?(r=f.parse(i,a)||new Date(i),!isNaN(r)):!1:!0}var a,tt=angular.isDefined(c.closeOnDateSelection)?s.$parent.$eval(c.closeOnDateSelection):e.closeOnDateSelection,g=angular.isDefined(c.datepickerAppendToBody)?s.$parent.$eval(c.datepickerAppendToBody):e.appendToBody,y,p,v,w,b,d,k;if(s.showButtonBar=angular.isDefined(c.showButtonBar)?s.$parent.$eval(c.showButtonBar):e.showButtonBar,s.getText=function(n){return s[n+"Text"]||e[n+"Text"]},y=!1,e.html5Types[c.type]?(a=e.html5Types[c.type],y=!0):(a=c.datepickerPopup||e.datepickerPopup,c.$observe("datepickerPopup",function(n){var t=n||e.datepickerPopup;if(t!==a&&(a=t,l.$modelValue=null,!a))throw new Error("datepickerPopup must have a date format specified.");})),!a)throw new Error("datepickerPopup must have a date format specified.");if(y&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");p=angular.element("<div datepicker-popup-wrap><div datepicker><\/div><\/div>");p.attr({"ng-model":"date","ng-change":"dateSelection(date)"});v=angular.element(p.children()[0]);y&&c.type=="month"&&(v.attr("datepicker-mode",'"month"'),v.attr("min-mode","month"));c.datepickerOptions&&(w=s.$parent.$eval(c.datepickerOptions),w.initDate&&(s.initDate=w.initDate,v.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(n,t){v.attr(nt(t),n)}));s.watchData={};angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(n){var i,r;c[n]&&(i=t(c[n]),s.$parent.$watch(i,function(t){s.watchData[n]=t}),v.attr(nt(n),"watchData."+n),n==="datepickerMode"&&(r=i.assign,s.$watch("watchData."+n,function(n,t){angular.isFunction(r)&&n!==t&&r(s.$parent,n)})))});c.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })");c.showWeeks&&v.attr("show-weeks",c.showWeeks);c.customClass&&v.attr("custom-class","customClass({ date: date, mode: mode })");y?l.$formatters.push(function(n){return s.date=n,n}):(l.$$parserName="date",l.$validators.date=rt,l.$parsers.unshift(it),l.$formatters.push(function(n){return s.date=n,l.$isEmpty(n)?n:u(n,a)}));s.dateSelection=function(n){angular.isDefined(n)&&(s.date=n);var t=s.date?u(s.date,a):"";h.val(t);l.$setViewValue(t);tt&&(s.isOpen=!1,h[0].focus())};l.$viewChangeListeners.push(function(){s.date=f.parse(l.$viewValue,a,s.date)||new Date(l.$viewValue)});b=function(n){s.isOpen&&n.target!==h[0]&&s.$apply(function(){s.isOpen=!1})};d=function(n){n.which===27&&s.isOpen?(n.preventDefault(),n.stopPropagation(),s.$apply(function(){s.isOpen=!1}),h[0].focus()):n.which!==40||s.isOpen||(n.preventDefault(),n.stopPropagation(),s.$apply(function(){s.isOpen=!0}))};h.bind("keydown",d);s.keydown=function(n){n.which===27&&(s.isOpen=!1,h[0].focus())};s.$watch("isOpen",function(n){n?(s.position=g?r.offset(h):r.position(h),s.position.top=s.position.top+h.prop("offsetHeight"),i.bind("click",b),o(function(){s.$broadcast("datepicker.focus")},0,!1)):i.unbind("click",b)});s.select=function(n){if(n==="today"){var t=new Date;angular.isDate(s.date)?(n=new Date(s.date),n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):n=new Date(t.setHours(0,0,0,0))}s.dateSelection(n)};s.close=function(){s.isOpen=!1;h[0].focus()};k=n(p)(s);p.remove();g?i.find("body").append(k):h.after(k);s.$on("$destroy",function(){s.isOpen===!0&&s.$apply(function(){s.isOpen=!1});k.remove();h.unbind("keydown",d);i.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html"}});angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(n,t){var i=null,r,u;this.open=function(t){i||(n.bind("click",r),n.bind("keydown",u));i&&i!==t&&(i.isOpen=!1);i=t};this.close=function(t){i===t&&(i=null,n.unbind("click",r),n.unbind("keydown",u))};r=function(n){var r,u;i&&(n&&i.getAutoClose()==="disabled"||(r=i.getToggleElement(),n&&r&&r[0].contains(n.target))||(u=i.getDropdownElement(),n&&i.getAutoClose()==="outsideClick"&&u&&u[0].contains(n.target))||(i.isOpen=!1,t.$$phase||i.$apply()))};u=function(n){n.which===27?(i.focusToggleElement(),r()):i.isKeynavEnabled()&&/(38|40)/.test(n.which)&&i.isOpen&&(n.preventDefault(),n.stopPropagation(),i.focusDropdownEntry(n.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(n,t,i,r,u,f,e,o,s,h){var c=this,l=n.$new(),a,b=r.openClass,v,p=angular.noop,k=t.onToggle?i(t.onToggle):angular.noop,y=!1,w=!1;this.init=function(r){if(c.$element=r,t.isOpen&&(v=i(t.isOpen),p=v.assign,n.$watch(v,function(n){l.isOpen=!!n})),y=angular.isDefined(t.dropdownAppendToBody),w=angular.isDefined(t.keyboardNav),y&&c.dropdownMenu){o.find("body").append(c.dropdownMenu);r.on("$destroy",function(){c.dropdownMenu.remove()})}};this.toggle=function(n){return l.isOpen=arguments.length?!!n:!l.isOpen};this.isOpen=function(){return l.isOpen};l.getToggleElement=function(){return c.toggleElement};l.getAutoClose=function(){return t.autoClose||"always"};l.getElement=function(){return c.$element};l.isKeynavEnabled=function(){return w};l.focusDropdownEntry=function(n){var t=c.dropdownMenu?angular.element(c.dropdownMenu).find("a"):angular.element(c.$element).find("ul").eq(0).find("a");switch(n){case 40:c.selectedOption=angular.isNumber(c.selectedOption)?c.selectedOption===t.length-1?c.selectedOption:c.selectedOption+1:0;break;case 38:if(angular.isNumber(c.selectedOption))c.selectedOption=c.selectedOption===0?0:c.selectedOption-1;else return}t[c.selectedOption].focus()};l.getDropdownElement=function(){return c.dropdownMenu};l.focusToggleElement=function(){c.toggleElement&&c.toggleElement[0].focus()};l.$watch("isOpen",function(t,i){var v;if(y&&c.dropdownMenu){var o=e.positionElements(c.$element,c.dropdownMenu,"bottom-left",!0),r={top:o.top+"px",display:t?"block":"none"},w=c.dropdownMenu.hasClass("dropdown-menu-right");w?(r.left="auto",r.right=window.innerWidth-(o.left+c.$element.prop("offsetWidth"))+"px"):(r.left=o.left+"px",r.right="auto");c.dropdownMenu.css(r)}f[t?"addClass":"removeClass"](c.$element,b).then(function(){angular.isDefined(t)&&t!==i&&k(n,{open:!!t})});t?(c.dropdownMenuTemplateUrl&&h(c.dropdownMenuTemplateUrl).then(function(n){a=l.$new();s(n.trim())(a,function(n){var t=n;c.dropdownMenu.replaceWith(t);c.dropdownMenu=t})}),l.focusToggleElement(),u.open(l)):(c.dropdownMenuTemplateUrl&&(a&&a.$destroy(),v=angular.element('<ul class="dropdown-menu"><\/ul>'),c.dropdownMenu.replaceWith(v),c.dropdownMenu=v),u.close(l),c.selectedOption=null);p(n,t)});n.$on("$locationChangeSuccess",function(){l.getAutoClose()!=="disabled"&&(l.isOpen=!1)});n.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(n,t,i,r){r.init(t);t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(n,t,i,r){if(r){var u=i.templateUrl;u&&(r.dropdownMenuTemplateUrl=u);r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(n,t,i,r){t.bind("keydown",function(n){if([38,40].indexOf(n.which)!==-1){n.preventDefault();n.stopPropagation();var i=angular.element(t).find("a");switch(n.keyCode){case 40:r.selectedOption=angular.isNumber(r.selectedOption)?r.selectedOption===i.length-1?r.selectedOption:r.selectedOption+1:0;break;case 38:r.selectedOption=r.selectedOption===0?0:r.selectedOption-1}i[r.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(n,t,i,r){if(r){t.addClass("dropdown-toggle");r.toggleElement=t;var u=function(u){u.preventDefault();t.hasClass("disabled")||i.disabled||n.$apply(function(){r.toggle()})};t.bind("click",u);t.attr({"aria-haspopup":!0,"aria-expanded":!1});n.$watch(r.isOpen,function(n){t.attr("aria-expanded",!!n)});n.$on("$destroy",function(){t.unbind("click",u)})}}}});angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t==n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t==n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(n,t){function i(i,r,u){u.modalInClass&&(n.addClass(r,u.modalInClass),i.$on(t.NOW_CLOSING_EVENT,function(t,i){var f=i();n.removeClass(r,u.modalInClass).then(f)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(n,t){return n.addClass(t.backdropClass),i}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(n,t,i){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(n,t){return t.templateUrl||"template/modal/window.html"},link:function(r,u,f){u.addClass(f.windowClass||"");r.size=f.size;r.close=function(t){var i=n.getTop();i&&i.value.backdrop&&i.value.backdrop!="static"&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))};r.$isRendered=!0;var e=t.defer();f.$observe("modalRender",function(n){n=="true"&&e.resolve()});e.promise.then(function(){var t,e;f.modalInClass&&(i.addClass(u,f.modalInClass),r.$on(n.NOW_CLOSING_EVENT,function(n,t){var r=t();i.removeClass(u,f.modalInClass).then(r)}));t=u[0].querySelectorAll("[autofocus]");t.length?t[0].focus():u[0].focus();e=n.getTop();e&&n.modalRendered(e.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(n,t){t.modalAnimation&&n.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(n,t,i,r,u){u(n.$parent,function(n){t.empty();t.append(n)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(n,t,i,r,u,f,e){function l(){for(var t=-1,i=o.keys(),n=0;n<i.length;n++)o.get(i[n]).value.backdrop&&(t=n);return t}function v(n,t){var r=i.find("body").eq(0),u=o.get(n).value;o.remove(n);y(u.modalDomEl,u.modalScope,function(){r.toggleClass(a,o.length()>0);w()});t&&t.focus?t.focus():r.focus()}function w(){if(c&&l()==-1){var n=h;y(c,h,function(){n=null});c=undefined;h=undefined}}function y(n,t,i){function u(){u.done||(u.done=!0,n.remove(),t.$destroy(),i&&i())}var r,e=null,o=function(){return r||(r=f.defer(),e=r.promise),function(){r.resolve()}};return t.$broadcast(s.NOW_CLOSING_EVENT,o),f.when(e).then(u)}function p(n,t,i){return!n.value.modalScope.$broadcast("modal.closing",t,i).defaultPrevented}var a="modal-open",c,h,o=e.createNew(),s={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return u.$watch(l,function(n){h&&(h.index=n)}),i.bind("keydown",function(n){var t;n.which===27&&(t=o.top(),t&&t.value.keyboard&&(n.preventDefault(),u.$apply(function(){s.dismiss(t.key,"escape key press")})))}),s.open=function(n,t){var p=i[0].activeElement,f,v,e,s,y;o.add(n,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});f=i.find("body").eq(0);v=l();v>=0&&!c&&(h=u.$new(!0),h.index=v,e=angular.element('<div modal-backdrop="modal-backdrop"><\/div>'),e.attr("backdrop-class",t.backdropClass),t.animation&&e.attr("modal-animation","true"),c=r(e)(h),f.append(c));s=angular.element('<div modal-window="modal-window"><\/div>');s.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:o.length()-1,animate:"animate"}).html(t.content);t.animation&&s.attr("modal-animation","true");y=r(s)(t.scope);o.top().value.modalDomEl=y;o.top().value.modalOpener=p;f.append(y);f.addClass(a)},s.close=function(n,t){var i=o.get(n);return i&&p(i,t,!0)?(i.value.deferred.resolve(t),v(n,i.value.modalOpener),!0):!i},s.dismiss=function(n,t){var i=o.get(n);return i&&p(i,t,!1)?(i.value.deferred.reject(t),v(n,i.value.modalOpener),!0):!i},s.dismissAll=function(n){for(var t=this.getTop();t&&this.dismiss(t.key,n);)t=this.getTop()},s.getTop=function(){return o.top()},s.modalRendered=function(n){var t=o.get(n);t&&t.value.renderDeferred.resolve()},s}]).provider("$modal",function(){var n={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,i,r,u,f,e){function s(n){return n.template?r.when(n.template):u(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl)}function h(n){var i=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&i.push(r.when(t.invoke(n)))}),i}var o={};return o.open=function(t){var o=r.defer(),c=r.defer(),a=r.defer(),u={result:o.promise,opened:c.promise,rendered:a.promise,close:function(n){return e.close(u,n)},dismiss:function(n){return e.dismiss(u,n)}},l;if(t=angular.extend({},n.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");return l=r.all([s(t)].concat(h(t.resolve))),l.then(function(n){var r=(t.scope||i).$new(),h,s,c;r.$close=u.close;r.$dismiss=u.dismiss;s={};c=1;t.controller&&(s.$scope=r,s.$modalInstance=u,angular.forEach(t.resolve,function(t,i){s[i]=n[c++]}),h=f(t.controller,s),t.controllerAs&&(t.bindToController?angular.extend(r,h):r[t.controllerAs]=h));e.open(u,{scope:r,deferred:o,renderDeferred:a,content:n[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(n){o.reject(n)}),l.then(function(){c.resolve(!0)},function(n){c.reject(n)}),u},o}]};return n});angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,t,i){var u=this,r={$setViewValue:angular.noop},f=t.numPages?i(t.numPages).assign:angular.noop;this.init=function(e,o){r=e;this.config=o;r.$render=function(){u.render()};t.itemsPerPage?n.$parent.$watch(i(t.itemsPerPage),function(t){u.itemsPerPage=parseInt(t,10);n.totalPages=u.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage;n.$watch("totalItems",function(){n.totalPages=u.calculateTotalPages()});n.$watch("totalPages",function(t){f(n.$parent,t);n.page>t?n.selectPage(t):r.$render()})};this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)};this.render=function(){n.page=parseInt(r.$viewValue,10)||1};n.selectPage=function(t,i){var u=!n.ngDisabled||!i;u&&n.page!==t&&t>0&&t<=n.totalPages&&(i&&i.target&&i.target.blur(),r.$setViewValue(t),r.$render())};n.getText=function(t){return n[t+"Text"]||u.config[t+"Text"]};n.noPrevious=function(){return n.page===1};n.noNext=function(){return n.page===n.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(n,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(i,r,u,f){function h(n,t,i){return{number:n,text:t,active:i}}function a(n,t){var f=[],i=1,r=t,o=angular.isDefined(e)&&e<t,u,c,l,a;for(o&&(s?(i=Math.max(n-Math.floor(e/2),1),r=i+e-1,r>t&&(r=t,i=r-e+1)):(i=(Math.ceil(n/e)-1)*e+1,r=Math.min(i+e-1,t))),u=i;u<=r;u++)c=h(u,u,u===n),f.push(c);return o&&!s&&(i>1&&(l=h(i-1,"...",!1),f.unshift(l)),r<t&&(a=h(r+1,"...",!1),f.push(a))),f}var o=f[0],c=f[1],e,s,l;c&&(e=angular.isDefined(u.maxSize)?i.$parent.$eval(u.maxSize):t.maxSize,s=angular.isDefined(u.rotate)?i.$parent.$eval(u.rotate):t.rotate,i.boundaryLinks=angular.isDefined(u.boundaryLinks)?i.$parent.$eval(u.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(u.directionLinks)?i.$parent.$eval(u.directionLinks):t.directionLinks,o.init(c,t),u.maxSize&&i.$parent.$watch(n(u.maxSize),function(n){e=parseInt(n,10);o.render()}),l=o.render,o.render=function(){l();i.page>0&&i.page<=i.totalPages&&(i.pages=a(i.page,i.totalPages))})}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,i,r,u){var e=u[0],f=u[1];f&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):n.align,e.init(f,n))}}}]);angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function r(n){var t="-";return n.replace(/[A-Z]/g,function(n,i){return(i?t:"")+n.toLowerCase()})}var i={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},t={};this.options=function(n){angular.extend(t,n)};this.setTriggers=function(t){angular.extend(n,t)};this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(u,f,e,o,s,h){return function(u,c,l,a){function p(t){var i=t||a.trigger||l,r=n[i]||i;return{show:i,hide:r}}a=angular.extend({},i,t,a);var w=r(u),v=h.startSymbol(),y=h.endSymbol(),b="<div "+w+'-popup title="'+v+"title"+y+'" '+(a.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" ><\/div>';return{restrict:"EA",compile:function(){var n=f(b);return function(t,i,r){function ot(){f.isOpen?tt():nt()}function nt(){(!et||t.$eval(r[c+"Enable"]))&&(ht(),f.popupDelay?w||(w=e(ft,f.popupDelay,!1),w.then(function(n){n()})):ft()())}function tt(){t.$apply(function(){k()})}function ft(){return(w=null,y&&(e.cancel(y),y=null),!(a.useContentExp?f.contentExp():f.content))?angular.noop:(st(),h.css({top:0,left:0,display:"block"}),f.$digest(),g(),f.isOpen=!0,f.$apply(),g)}function k(){f.isOpen=!1;e.cancel(w);w=null;f.animation?y||(y=e(d,500)):d()}function st(){h&&d();v=f.$new();h=n(v,function(n){b?o.find("body").append(n):i.after(n)});v.$watch(function(){e(g,0,!1)});a.useContentExp&&v.$watch("contentExp()",function(n){!n&&f.isOpen&&k()})}function d(){y=null;h&&(h.remove(),h=null);v&&(v.$destroy(),v=null)}function ht(){ct();lt();at()}function ct(){f.popupClass=r[c+"Class"]}function lt(){var n=r[c+"Placement"];f.placement=angular.isDefined(n)?n:a.placement}function at(){var t=r[c+"PopupDelay"],n=parseInt(t,10);f.popupDelay=isNaN(n)?a.popupDelay:n}function vt(){var n=r[c+"Trigger"];it();l=p(n);l.show===l.hide?i.bind(l.show,ot):(i.bind(l.show,nt),i.bind(l.hide,tt))}var h,v,y,w,b=angular.isDefined(a.appendToBody)?a.appendToBody:!1,l=p(undefined),et=angular.isDefined(r[c+"Enable"]),f=t.$new(!0),g=function(){if(h){var n=s.positionElements(i,h,f.placement,b);n.top+="px";n.left+="px";h.css(n)}},it,rt,ut;f.origScope=t;f.isOpen=!1;f.contentExp=function(){return t.$eval(r[u])};a.useContentExp||r.$observe(u,function(n){f.content=n;!n&&f.isOpen&&k()});r.$observe("disabled",function(n){n&&f.isOpen&&k()});r.$observe(c+"Title",function(n){f.title=n});it=function(){i.unbind(l.show,nt);i.unbind(l.hide,tt)};vt();rt=t.$eval(r[c+"Animation"]);f.animation=angular.isDefined(rt)?!!rt:a.animation;ut=t.$eval(r[c+"AppendToBody"]);b=angular.isDefined(ut)?ut:b;b&&t.$on("$locationChangeSuccess",function(){f.isOpen&&k()});t.$on("$destroy",function(){e.cancel(y);e.cancel(w);it();d();f=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(n,t,i,r){return{link:function(u,f,e){var a=u.$eval(e.tooltipTemplateTranscludeScope),l=0,o,s,h,c=function(){s&&(s.remove(),s=null);o&&(o.$destroy(),o=null);h&&(n.leave(h).then(function(){s=null}),s=h,h=null)};u.$watch(t.parseAsResourceUrl(e.tooltipTemplateTransclude),function(t){var e=++l;t?(r(t,!0).then(function(r){if(e===l){var u=a.$new(),s=r,v=i(s)(u,function(t){c();n.enter(t,f)});o=u;h=v;o.$emit("$includeContentLoaded",t)}},function(){e===l&&(c(),u.$emit("$includeContentError",t))}),u.$emit("$includeContentRequested",t)):c()});u.$on("$destroy",c)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(n,t,i){n.placement&&t.addClass(n.placement);n.popupClass&&t.addClass(n.popupClass);n.animation()&&t.addClass(i.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(n){return n("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(n){return n("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(n){return n("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(n,t,i){return t||i.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),n("tooltipHtmlUnsafe","tooltip","mouseenter")}]);angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(n){return n("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(n){return n("popover","popover","click")}]);angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,t,i){var r=this,u=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):i.animate;this.bars=[];n.max=angular.isDefined(n.max)?n.max:i.max;this.addBar=function(t,i){u||i.css({transition:"none"});this.bars.push(t);t.max=n.max;t.$watch("value",function(){t.recalculatePercentage()});t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2)};t.$on("$destroy",function(){i=null;r.removeBar(t)})};this.removeBar=function(n){this.bars.splice(this.bars.indexOf(n),1)};n.$watch("max",function(){r.bars.forEach(function(t){t.max=n.max;t.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,t,i,r){r.addBar(n,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,t,i,r){r.addBar(n,angular.element(t.children()[0]))}}});angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(n,t,i){var r={$setViewValue:angular.noop};this.init=function(u){r=u;r.$render=this.render;r.$formatters.push(function(n){return angular.isNumber(n)&&n<<0!==n&&(n=Math.round(n)),n});this.stateOn=angular.isDefined(t.stateOn)?n.$parent.$eval(t.stateOn):i.stateOn;this.stateOff=angular.isDefined(t.stateOff)?n.$parent.$eval(t.stateOff):i.stateOff;var f=angular.isDefined(t.ratingStates)?n.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max);n.range=this.buildTemplateObjects(f)};this.buildTemplateObjects=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},n[t]);return n};n.rate=function(t){!n.readonly&&t>=0&&t<=n.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())};n.enter=function(t){n.readonly||(n.value=t);n.onHover({value:t})};n.reset=function(){n.value=r.$viewValue;n.onLeave()};n.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),n.rate(n.value+(t.which===38||t.which===39?1:-1)))};this.render=function(){n.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,t,i,r){var u=r[0],f=r[1];u.init(f)}}});angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(n){var i=this,t=i.tabs=n.tabs=[],r;i.select=function(n){angular.forEach(t,function(t){t.active&&t!==n&&(t.active=!1,t.onDeselect())});n.active=!0;n.onSelect()};i.addTab=function(n){t.push(n);t.length===1&&n.active!==!1?n.active=!0:n.active?i.select(n):n.active=!1};i.removeTab=function(n){var u=t.indexOf(n),f;n.active&&t.length>1&&!r&&(f=u==t.length-1?u-1:u+1,i.select(t[f]));t.splice(u,1)};n.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,t,i){n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1;n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1}}}).directive("tab",["$parse","$log",function(n,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(i,r,u){return function(i,r,f,e){i.$watch("active",function(n){n&&e.select(i)});i.disabled=!1;f.disable&&i.$parent.$watch(n(f.disable),function(n){i.disabled=!!n});f.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),i.$parent.$watch(n(f.disabled),function(n){i.disabled=!!n}));i.select=function(){i.disabled||(i.active=!0)};e.addTab(i);i.$on("$destroy",function(){e.removeTab(i)});i.$transcludeFn=u}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(n,t){n.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function n(n){return n.tagName&&(n.hasAttribute("tab-heading")||n.hasAttribute("data-tab-heading")||n.tagName.toLowerCase()==="tab-heading"||n.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,i,r){var u=t.$eval(r.tabContentTransclude);u.$transcludeFn(u.$parent,function(t){angular.forEach(t,function(t){n(t)?u.headingElement=t:i.append(t)})})}}});angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(n,t,i,r,u,f){function p(){var t=parseInt(n.hours,10),i=n.showMeridian?t>0&&t<13:t>=0&&t<24;return i?(n.showMeridian&&(t===12&&(t=0),n.meridian===v[1]&&(t=t+12)),t):undefined}function w(){var t=parseInt(n.minutes,10);return t>=0&&t<60?t:undefined}function l(n){return angular.isDefined(n)&&n.toString().length<2?"0"+n:n.toString()}function a(n){b();o.$setViewValue(new Date(e));y(n)}function b(){o.$setValidity("time",!0);n.invalidHours=!1;n.invalidMinutes=!1}function y(t){var i=e.getHours(),r=e.getMinutes();n.showMeridian&&(i=i===0||i===12?12:i%12);n.hours=t==="h"?i:l(i);t!=="m"&&(n.minutes=l(r));n.meridian=e.getHours()<12?v[0]:v[1]}function s(n){var t=new Date(e.getTime()+n*6e4);e.setHours(t.getHours(),t.getMinutes());a()}var e=new Date,o={$setViewValue:angular.noop},v=angular.isDefined(t.meridians)?n.$parent.$eval(t.meridians):f.meridians||u.DATETIME_FORMATS.AMPMS,h,c;this.init=function(i,r){var s;o=i;o.$render=this.render;o.$formatters.unshift(function(n){return n?new Date(n):null});var u=r.eq(0),e=r.eq(1),h=angular.isDefined(t.mousewheel)?n.$parent.$eval(t.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(u,e);s=angular.isDefined(t.arrowkeys)?n.$parent.$eval(t.arrowkeys):f.arrowkeys;s&&this.setupArrowkeyEvents(u,e);n.readonlyInput=angular.isDefined(t.readonlyInput)?n.$parent.$eval(t.readonlyInput):f.readonlyInput;this.setupInputEvents(u,e)};h=f.hourStep;t.hourStep&&n.$parent.$watch(i(t.hourStep),function(n){h=parseInt(n,10)});c=f.minuteStep;t.minuteStep&&n.$parent.$watch(i(t.minuteStep),function(n){c=parseInt(n,10)});n.showMeridian=f.showMeridian;t.showMeridian&&n.$parent.$watch(i(t.showMeridian),function(t){if(n.showMeridian=!!t,o.$error.time){var i=p(),r=w();angular.isDefined(i)&&angular.isDefined(r)&&(e.setHours(i),a())}else y()});this.setupMousewheelEvents=function(t,i){var r=function(n){n.originalEvent&&(n=n.originalEvent);var t=n.wheelDelta?n.wheelDelta:-n.deltaY;return n.detail||t>0};t.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementHours():n.decrementHours());t.preventDefault()});i.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementMinutes():n.decrementMinutes());t.preventDefault()})};this.setupArrowkeyEvents=function(t,i){t.bind("keydown",function(t){t.which===38?(t.preventDefault(),n.incrementHours(),n.$apply()):t.which===40&&(t.preventDefault(),n.decrementHours(),n.$apply())});i.bind("keydown",function(t){t.which===38?(t.preventDefault(),n.incrementMinutes(),n.$apply()):t.which===40&&(t.preventDefault(),n.decrementMinutes(),n.$apply())})};this.setupInputEvents=function(t,i){if(n.readonlyInput){n.updateHours=angular.noop;n.updateMinutes=angular.noop;return}var r=function(t,i){o.$setViewValue(null);o.$setValidity("time",!1);angular.isDefined(t)&&(n.invalidHours=t);angular.isDefined(i)&&(n.invalidMinutes=i)};n.updateHours=function(){var n=p();angular.isDefined(n)?(e.setHours(n),a("h")):r(!0)};t.bind("blur",function(){!n.invalidHours&&n.hours<10&&n.$apply(function(){n.hours=l(n.hours)})});n.updateMinutes=function(){var n=w();angular.isDefined(n)?(e.setMinutes(n),a("m")):r(undefined,!0)};i.bind("blur",function(){!n.invalidMinutes&&n.minutes<10&&n.$apply(function(){n.minutes=l(n.minutes)})})};this.render=function(){var n=o.$viewValue;isNaN(n)?(o.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(n&&(e=n),b(),y())};n.showSpinners=angular.isDefined(t.showSpinners)?n.$parent.$eval(t.showSpinners):f.showSpinners;n.incrementHours=function(){s(h*60)};n.decrementHours=function(){s(-h*60)};n.incrementMinutes=function(){s(c)};n.decrementMinutes=function(){s(-c)};n.toggleMeridian=function(){s(720*(e.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u,t.find("input"))}}});angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(n,t,i,r,u){function e(n){for(var t in n)if(o.style[t]!==undefined)return n[t]}u||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var f=function(r,u,e){e=e||{};var s=n.defer(),o=f[e.animation?"animationEndEventName":"transitionEndEventName"],h=function(){i.$apply(function(){r.unbind(o,h);s.resolve(r)})};return o&&r.bind(o,h),t(function(){angular.isString(u)?r.addClass(u):angular.isFunction(u)?u(r):angular.isObject(u)&&r.css(u);o||s.resolve(r)}),s.promise.cancel=function(){o&&r.unbind(o,h);s.reject("Transition cancelled")},s.promise},o=document.createElement("trans");return f.transitionEndEventName=e({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),f.animationEndEventName=e({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),f}]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(n,t,i,r,u,f,e,o,s){var h=[9,13,27,38,40],c=200;return{require:"ngModel",link:function(l,a,v,y){function yt(){p.moveInProgress||(p.moveInProgress=!0,p.$digest());ot&&r.cancel(ot);ot=r(function(){p.matches.length&&pt();p.moveInProgress=!1;p.$digest()},c)}function pt(){p.position=nt?o.offset(a):o.position(a);p.position.top+=a.prop("offsetHeight")}var k=l.$eval(v.typeaheadMinLength),it,d,b,ft,et,ot,st,wt,ht,ct,rt;k||k===0||(k=1);var lt=l.$eval(v.typeaheadWaitMs)||0,at=l.$eval(v.typeaheadEditable)!==!1,g=t(v.typeaheadLoading).assign||angular.noop,bt=t(v.typeaheadOnSelect),kt=angular.isDefined(v.typeaheadSelectOnBlur)?l.$eval(v.typeaheadSelectOnBlur):!1,vt=v.typeaheadInputFormatter?t(v.typeaheadInputFormatter):undefined,nt=v.typeaheadAppendToBody?l.$eval(v.typeaheadAppendToBody):!1,dt=l.$eval(v.typeaheadFocusFirst)!==!1,gt=t(v.ngModel).assign,w=s.parse(v.typeahead),ut,tt,p=l.$new();l.$on("$destroy",function(){p.$destroy()});it="typeahead-"+p.$id+"-"+Math.floor(Math.random()*1e4);a.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":it});d=angular.element("<div typeahead-popup><\/div>");d.attr({id:it,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});angular.isDefined(v.typeaheadTemplateUrl)&&d.attr("template-url",v.typeaheadTemplateUrl);b=function(){p.matches=[];p.activeIdx=-1;a.attr("aria-expanded",!1)};ft=function(n){return it+"-option-"+n};p.$watch("activeIdx",function(n){n<0?a.removeAttr("aria-activedescendant"):a.attr("aria-activedescendant",ft(n))});et=function(n){var t={$viewValue:n};g(l,!0);i.when(w.source(l,t)).then(function(i){var u=n===y.$viewValue,r;if(u&&ut)if(i&&i.length>0){for(p.activeIdx=dt?0:-1,p.matches.length=0,r=0;r<i.length;r++)t[w.itemName]=i[r],p.matches.push({id:ft(r),label:w.viewMapper(p,t),model:i[r]});p.query=n;pt();a.attr("aria-expanded",!0)}else b();u&&g(l,!1)},function(){b();g(l,!1)})};nt&&(angular.element(f).bind("resize",yt),u.find("body").bind("scroll",yt));p.moveInProgress=!1;b();p.query=undefined;wt=function(n){st=r(function(){et(n)},lt)};ht=function(){st&&r.cancel(st)};y.$parsers.unshift(function(n){return ut=!0,k===0||n&&n.length>=k?lt>0?(ht(),wt(n)):et(n):(g(l,!1),ht(),b()),at?n:n?(y.$setValidity("editable",!1),undefined):(y.$setValidity("editable",!0),n)});y.$formatters.push(function(n){var i,r,t={};return at||y.$setValidity("editable",!0),vt?(t.$model=n,vt(l,t)):(t[w.itemName]=n,i=w.viewMapper(l,t),t[w.itemName]=undefined,r=w.viewMapper(l,t),i!==r?i:n)});p.select=function(n){var t={},i,u;tt=!0;t[w.itemName]=u=p.matches[n].model;i=w.modelMapper(l,t);gt(l,i);y.$setValidity("editable",!0);y.$setValidity("parse",!0);bt(l,{$item:u,$model:i,$label:w.viewMapper(l,t)});b();r(function(){a[0].focus()},0,!1)};a.bind("keydown",function(n){if(p.matches.length!==0&&h.indexOf(n.which)!==-1&&(p.activeIdx!==-1||n.which!==13)){if(p.activeIdx===-1&&n.which===9){b();p.$digest();return}n.preventDefault();n.which===40?(p.activeIdx=(p.activeIdx+1)%p.matches.length,p.$digest()):n.which===38?(p.activeIdx=(p.activeIdx>0?p.activeIdx:p.matches.length)-1,p.$digest()):n.which===13||n.which===9?p.$apply(function(){p.select(p.activeIdx)}):n.which===27&&(n.stopPropagation(),b(),p.$digest())}});a.bind("blur",function(){kt&&p.matches.length&&p.activeIdx!==-1&&!tt&&(tt=!0,p.$apply(function(){p.select(p.activeIdx)}));ut=!1;tt=!1});ct=function(n){a[0]!==n.target&&n.which!==3&&(b(),e.$$phase||p.$digest())};u.bind("click",ct);l.$on("$destroy",function(){u.unbind("click",ct);nt&&rt.remove();d.remove()});rt=n(d)(p);nt?u.find("body").append(rt):a.after(rt)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(n,t,i){n.templateUrl=i.templateUrl;n.isOpen=function(){return n.matches.length>0};n.isActive=function(t){return n.active==t};n.selectActive=function(t){n.active=t};n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(n,t,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,u,f){var e=i(f.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";n(e).then(function(n){t(n.trim())(r,function(n){u.replaceWith(n)})})}}}]).filter("typeaheadHighlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i?(""+t).replace(new RegExp(n(i),"gi"),"<strong>$&<\/strong>"):t}});angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(n){n.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="#" tabindex="0" class="accordion-toggle" ng-click="$event.preventDefault(); toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}<\/span><\/a>\n    <\/h4>\n  <\/div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(n){n.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude><\/div>')}]);angular.module("template/alert/alert.html",[]).run(["$templateCache",function(n){n.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;<\/span>\n        <span class="sr-only">Close<\/span>\n    <\/button>\n    <div ng-transclude><\/div>\n<\/div>\n')}]);angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(n){n.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"><\/li>\n    <\/ol>\n    <div class="carousel-inner" ng-transclude><\/div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"><\/span><\/a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"><\/span><\/a>\n<\/div>\n')}]);angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(n){n.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude><\/div>\n')}]);angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"><\/daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"><\/monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"><\/yearpicker>\n<\/div>')}]);angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"><\/th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}<\/small><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}<\/em><\/td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude><\/li>\n\t<li ng-if="showButtonBar">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}<\/button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}<\/button>\n\t\t<\/span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}<\/button>\n\t<\/li>\n<\/ul>\n')}]);angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(n){n.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n><\/div>\n')}]);angular.module("template/modal/window.html",[]).run(["$templateCache",function(n){n.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n\tng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude><\/div><\/div>\n<\/div>\n')}]);angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(n){n.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}<\/a><\/li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}<\/a><\/li>\n<\/ul>')}]);angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(n){n.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}<\/a><\/li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}<\/a><\/li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}<\/a><\/li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}<\/a><\/li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}<\/a><\/li>\n<\/ul>\n')}]);angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"><\/div>\n<\/div>\n')}]);angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" bind-html-unsafe="content"><\/div>\n<\/div>\n')}]);angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" ng-bind="content"><\/div>\n<\/div>\n')}]);angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"><\/div>\n<\/div>\n')}]);angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(n){n.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"><\/div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"><\/h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/popover/popover.html",[]).run(["$templateCache",function(n){n.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"><\/div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"><\/h3>\n      <div class="popover-content" ng-bind="content"><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude><\/div>\n')}]);angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/progress.html",'<div class="progress" ng-transclude><\/div>')}]);angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude><\/div>\n<\/div>\n')}]);angular.module("template/rating/rating.html",[]).run(["$templateCache",function(n){n.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})<\/span>\n    <\/i>\n<\/span>')}]);angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(n){n.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href="#" ng-click="$event.preventDefault(); select()" tab-heading-transclude>{{heading}}<\/a>\n<\/li>\n')}]);angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(n){n.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude><\/ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    <\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(n){n.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n      <td>&nbsp;<\/td>\n      <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n      <td ng-show="showMeridian"><\/td>\n    <\/tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      <\/td>\n      <td>:<\/td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      <\/td>\n      <td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}<\/button><\/td>\n    <\/tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n      <td>&nbsp;<\/td>\n      <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n      <td ng-show="showMeridian"><\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-match.html",'<a href="#" ng-click="$event.preventDefault()" tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"><\/a>\n')}]);angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"><\/div>\n    <\/li>\n<\/ul>\n')}]);angular.$$csp()||angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}<\/style>');
//# sourceMappingURL=ui-bootstrap-tpls.min.js.map

///#source 1 1 /h5/libraries/angular-loading-bar/build/loading-bar.min.js
/*! 
 * angular-loading-bar v0.6.0
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2014 Wes Cruver
 * License: MIT
 */
(function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]);angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]);angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(n){var t=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(t,i,r,u,f){function c(){r.cancel(h);f.complete();o=0;e=0}function s(t){var u,e=i.get("$http"),f=n.defaults,r;return((t.cache||f.cache)&&t.cache!==!1&&(t.method==="GET"||t.method==="JSONP")&&(u=angular.isObject(t.cache)?t.cache:angular.isObject(f.cache)?f.cache:e),r=u!==undefined?u.get(t.url)!==undefined:!1,t.cached!==undefined&&r!==t.cached)?t.cached:(t.cached=r,r)}var e=0,o=0,l=f.latencyThreshold,h;return{request:function(n){return n.ignoreLoadingBar||s(n)||(u.$broadcast("cfpLoadingBar:loading",{url:n.url}),e===0&&(h=r(function(){f.start()},l)),e++,f.set(o/e)),n},response:function(n){return n.config.ignoreLoadingBar||s(n.config)||(o++,u.$broadcast("cfpLoadingBar:loaded",{url:n.config.url}),o>=e?c():f.set(o/e)),n},responseError:function(n){return n.config.ignoreLoadingBar||s(n.config)||(o++,u.$broadcast("cfpLoadingBar:loaded",{url:n.config.url}),o>=e?c():f.set(o/e)),t.reject(n)}}}];n.interceptors.push(t)}]);angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0;this.includeBar=!0;this.latencyThreshold=100;this.startSize=.02;this.parentSelector="body";this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"><\/div><\/div>';this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"><\/div><\/div><\/div>';this.$get=["$injector","$document","$timeout","$rootScope",function(n,t,i,r){function g(){u||(u=n.get("$animate"));var o=t.find(p).eq(0);(i.cancel(h),f)||(r.$broadcast("cfpLoadingBar:started"),f=!0,k&&u.enter(s,o),b&&u.enter(l,o),e(d))}function e(n){if(f){var t=n*100+"%";w.css("width",t);c=n;i.cancel(a);a=i(function(){v()},250)}}function v(){var t,n,i;o()>=1||(t=0,n=o(),t=n>=0&&n<.25?(Math.random()*3+3)/100:n>=.25&&n<.65?Math.random()*3/100:n>=.65&&n<.9?Math.random()/50:n>=.9&&n<.99?.005:0,i=o()+t,e(i))}function o(){return c}function y(){c=0;f=!1}function nt(){u||(u=n.get("$animate"));r.$broadcast("cfpLoadingBar:completed");e(1);i.cancel(h);h=i(function(){var n=u.leave(s,y);n&&n.then&&n.then(y);u.leave(l)},500)}var u,p=this.parentSelector,s=angular.element(this.loadingBarTemplate),w=s.find("div").eq(0),l=angular.element(this.spinnerTemplate),a,h,f=!1,c=0,b=this.includeSpinner,k=this.includeBar,d=this.startSize;return{start:g,set:e,status:o,inc:v,complete:nt,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})})();
//# sourceMappingURL=loading-bar.min.js.map

///#source 1 1 /h5/libraries/angular-translate/angular-translate.min.js
/*!
 * angular-translate - v2.7.2 - 2015-06-01
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2015 ; Licensed MIT
 */
(function(n,t){typeof define=="function"&&define.amd?define([],function(){return t()}):typeof exports=="object"?module.exports=t():t()})(this,function(){function n(n){"use strict";var i=n.storageKey(),t=n.storage(),r=function(){var r=n.preferredLanguage();angular.isString(r)?n.use(r):t.put(i,n.use())};r.displayName="fallbackFromIncorrectStorageValue";t?t.get(i)?n.use(t.get(i))["catch"](r):r():angular.isString(n.preferredLanguage())&&n.use(n.preferredLanguage())}function o(){"use strict";var t,i=null,u=!1,f=!1,n;n={sanitize:function(n,t){return t==="text"&&(n=o(n)),n},escape:function(n,t){return t==="text"&&(n=e(n)),n},sanitizeParameters:function(n,t){return t==="params"&&(n=r(n,o)),n},escapeParameters:function(n,t){return t==="params"&&(n=r(n,e)),n}};n.escaped=n.escapeParameters;this.addStrategy=function(t,i){return n[t]=i,this};this.removeStrategy=function(t){return delete n[t],this};this.useStrategy=function(n){return u=!0,i=n,this};this.$get=["$injector","$log",function(r,e){var o=function(t,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,i);else if(angular.isFunction(n[r]))t=n[r](t,i);else throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");}),t},s=function(){u||f||(e.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),f=!0)};return r.has("$sanitize")&&(t=r.get("$sanitize")),{useStrategy:function(n){return function(t){n.useStrategy(t)}}(this),sanitize:function(n,t,r){if(i||s(),arguments.length<3&&(r=i),!r)return n;var u=angular.isArray(r)?r:[r];return o(n,t,u)}}}];var e=function(n){var t=angular.element("<div><\/div>");return t.text(n),t.html()},o=function(n){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(n)},r=function(n,t){if(angular.isObject(n)){var i=angular.isArray(n)?[]:{};return angular.forEach(n,function(n,u){i[u]=r(n,t)}),i}return angular.isNumber(n)?n:t(n)}}function t(n,t,i,r){"use strict";var e={},o,p=[],w,u,g,f,b,l,nt=n,it,s,yt,rt=[],h,ut="translate-cloak",ft,k,d,pt=!1,tt=!1,et=".",a,ot=0,st=!0,ht="default",wt={"default":function(n){return(n||"").split("-").join("_")},java:function(n){var i=(n||"").split("-").join("_"),t=i.split("_");return t.length>1?t[0].toLowerCase()+"_"+t[1].toUpperCase():i},bcp47:function(n){var i=(n||"").split("_").join("-"),t=i.split("-");return t.length>1?t[0].toLowerCase()+"-"+t[1].toUpperCase():i}},gt="2.7.2",bt=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var u=t.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"],n,i;if(angular.isArray(u.languages))for(n=0;n<u.languages.length;n++)if(i=u.languages[n],i&&i.length)return i;for(n=0;n<f.length;n++)if(i=u[f[n]],i&&i.length)return i;return null},ct,y,lt,at,vt;bt.displayName="angular-translate/service: getFirstBrowserLanguage";ct=function(){var n=bt()||"";return wt[ht]&&(n=wt[ht](n)),n};ct.displayName="angular-translate/service: getLocale";var c=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},kt=function(){return this.toString().replace(/^\s+|\s+$/g,"")},dt=function(n){for(var i=[],s=angular.lowercase(n),u=0,h=p.length,f,t,e,o,r;u<h;u++)i.push(angular.lowercase(p[u]));if(c(i,s)>-1)return n;if(w)for(t in w)if(e=!1,o=Object.prototype.hasOwnProperty.call(w,t)&&angular.lowercase(t)===angular.lowercase(n),t.slice(-1)==="*"&&(e=t.slice(0,-1)===n.slice(0,t.length-1)),(o||e)&&(f=w[t],c(i,angular.lowercase(f))>-1))return f;return n&&(r=n.split("_"),r.length>1&&c(i,angular.lowercase(r[0]))>-1)?r[0]:n},v=function(n,t){if(!n&&!t)return e;if(n&&!t){if(angular.isString(n))return e[n]}else angular.isObject(e[n])||(e[n]={}),angular.extend(e[n],y(t));return this};this.translations=v;this.cloakClassName=function(n){return n?(ut=n,this):ut};y=function(n,t,i,r){var u,e,o,f;t||(t=[]);i||(i={});for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&(f=n[u],angular.isObject(f)?y(f,t.concat(u),i,u):(e=t.length?""+t.join(et)+et+u:u,t.length&&u===r&&(o=""+t.join(et),i[o]="@:"+e),i[e]=f));return i};y.displayName="flatObject";this.addInterpolation=function(n){return rt.push(n),this};this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")};this.useInterpolation=function(n){return yt=n,this};this.useSanitizeValueStrategy=function(n){return i.useStrategy(n),this};this.preferredLanguage=function(n){return lt(n),this};lt=function(n){return n&&(o=n),o};this.translationNotFoundIndicator=function(n){return this.translationNotFoundIndicatorLeft(n),this.translationNotFoundIndicatorRight(n),this};this.translationNotFoundIndicatorLeft=function(n){return n?(k=n,this):k};this.translationNotFoundIndicatorRight=function(n){return n?(d=n,this):d};this.fallbackLanguage=function(n){return at(n),this};at=function(n){return n?(angular.isString(n)?(g=!0,u=[n]):angular.isArray(n)&&(g=!1,u=n),angular.isString(o)&&c(u,o)<0&&u.push(o),this):g?u[0]:u};this.use=function(n){if(n){if(!e[n]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+n+"'");return f=n,this}return f};vt=function(n){return n?(nt=n,this):it?it+nt:nt};this.storageKey=vt;this.useUrlLoader=function(n,t){return this.useLoader("$translateUrlLoader",angular.extend({url:n},t))};this.useStaticFilesLoader=function(n){return this.useLoader("$translateStaticFilesLoader",n)};this.useLoader=function(n,t){return h=n,ft=t||{},this};this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")};this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")};this.useStorage=function(n){return l=n,this};this.storagePrefix=function(n){return n?(it=n,this):n};this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")};this.useMissingTranslationHandler=function(n){return s=n,this};this.usePostCompiling=function(n){return pt=!!n,this};this.forceAsyncReload=function(n){return tt=!!n,this};this.uniformLanguageTag=function(n){return n?angular.isString(n)&&(n={standard:n}):n={},ht=n.standard,this};this.determinePreferredLanguage=function(n){var t=n&&angular.isFunction(n)?n():ct();return o=p.length?dt(t):t,this};this.registerAvailableLanguageKeys=function(n,t){return n?(p=n,t&&(w=t),this):p};this.useLoaderCache=function(n){return n===!1?a=undefined:n===!0?a=!0:typeof n=="undefined"?a="$translationCache":n&&(a=n),this};this.directivePriority=function(n){return n===undefined?ot:(ot=n,this)};this.statefulFilter=function(n){return n===undefined?st:(st=n,this)};this.$get=["$log","$injector","$rootScope","$q",function(n,t,i,r){var ht,ni=t.get(yt||"$translateDefaultInterpolation"),it=!1,et={},w={},bt,ct,p=function(n,t,i,e){var v,s,h,a;return angular.isArray(n)?(v=function(n){for(var f={},o=[],s=function(n){var u=r.defer(),o=function(t){f[n]=t;u.resolve([n,t])};return p(n,t,i,e).then(o,o),u.promise},u=0,h=n.length;u<h;u++)o.push(s(n[u]));return r.all(o).then(function(){return f})},v(n)):(s=r.defer(),n&&(n=kt.apply(n)),h=function(){var n=o?w[o]:w[f],t,i;return bt=0,l&&!n&&(t=ht.get(nt),n=w[t],u&&u.length&&(i=c(u,t),bt=i===0?1:0,c(u,o)<0&&u.push(o))),n}(),h?(a=function(){li(n,t,i,e).then(s.resolve,s.reject)},a.displayName="promiseResolved",h["finally"](a,s.reject)):li(n,t,i,e).then(s.resolve,s.reject),s.promise)},ti=function(n){return k&&(n=[k,n].join(" ")),d&&(n=[n,d].join(" ")),n},ii=function(n){f=n;i.$emit("$translateChangeSuccess",{language:n});l&&ht.put(p.storageKey(),f);ni.setLocale(f);var t=function(n,t){et[t].setLocale(f)};t.displayName="eachInterpolatorLocaleSetter";angular.forEach(et,t);i.$emit("$translateChangeEnd",{language:n})},wt=function(n){var f,u,s,e,o;if(!n)throw"No language key specified for loading.";return f=r.defer(),i.$emit("$translateLoadingStart",{language:n}),it=!0,u=a,typeof u=="string"&&(u=t.get(u)),s=angular.extend({},ft,{key:n,$http:angular.extend({},{cache:u},ft.$http)}),e=function(t){var r={};i.$emit("$translateLoadingSuccess",{language:n});angular.isArray(t)?angular.forEach(t,function(n){angular.extend(r,y(n))}):angular.extend(r,y(t));it=!1;f.resolve({key:n,table:r});i.$emit("$translateLoadingEnd",{language:n})},e.displayName="onLoaderSuccess",o=function(n){i.$emit("$translateLoadingError",{language:n});f.reject(n);i.$emit("$translateLoadingEnd",{language:n})},o.displayName="onLoaderError",t.get(h)(s).then(e,o),f.promise},ei,vi,ui,yi,fi;if(l&&(ht=t.get(l),!ht.get||!ht.put))throw new Error("Couldn't use storage '"+l+"', missing get() or put() method!");rt.length&&(ei=function(n){var i=t.get(n);i.setLocale(o||f);et[i.getInterpolationIdentifier()]=i},ei.displayName="interpolationFactoryAdder",angular.forEach(rt,ei));var pi=function(n){var t=r.defer(),i;return Object.prototype.hasOwnProperty.call(e,n)?t.resolve(e[n]):w[n]?(i=function(n){v(n.key,n.table);t.resolve(n.table)},i.displayName="translationTableResolver",w[n].then(i,t.reject)):t.reject(),t.promise},oi=function(n,t,i,u){var e=r.defer(),o=function(r){if(Object.prototype.hasOwnProperty.call(r,t)){u.setLocale(n);var o=r[t];o.substr(0,2)==="@:"?oi(n,o.substr(2),i,u).then(e.resolve,e.reject):e.resolve(u.interpolate(r[t],i));u.setLocale(f)}else e.reject()};return o.displayName="fallbackTranslationResolver",pi(n).then(o,e.reject),e.promise},si=function(n,t,i,r){var u,o=e[n];if(o&&Object.prototype.hasOwnProperty.call(o,t)){if(r.setLocale(n),u=r.interpolate(o[t],i),u.substr(0,2)==="@:")return si(n,u.substr(2),i,r);r.setLocale(f)}return u},ri=function(n,i){if(s){var r=t.get(s)(n,f,i);return r!==undefined?r:n}return n},hi=function(n,t,i,f,e){var o=r.defer(),s;return n<u.length?(s=u[n],oi(s,t,i,f).then(o.resolve,function(){hi(n+1,t,i,f,e).then(o.resolve)})):e?o.resolve(e):o.resolve(ri(t,i)),o.promise},ci=function(n,t,i,r){var f,e;return n<u.length&&(e=u[n],f=si(e,t,i,r),f||(f=ci(n+1,t,i,r))),f},wi=function(n,t,i,r){return hi(ct>0?ct:bt,n,t,i,r)},bi=function(n,t,i){return ci(ct>0?ct:bt,n,t,i)},li=function(n,t,i,o){var h=r.defer(),l=f?e[f]:e,v=i?et[i]:ni,c,a;return l&&Object.prototype.hasOwnProperty.call(l,n)?(c=l[n],c.substr(0,2)==="@:"?p(c.substr(2),t,i,o).then(h.resolve,h.reject):h.resolve(v.interpolate(c,t))):(s&&!it&&(a=ri(n,t)),f&&u&&u.length?wi(n,t,v,o).then(function(n){h.resolve(n)},function(n){h.reject(ti(n))}):s&&!it&&a?o?h.resolve(o):h.resolve(a):o?h.resolve(o):h.reject(ti(n))),h.promise},ai=function(n,t,i){var r,h=f?e[f]:e,c=ni,o,l;return et&&Object.prototype.hasOwnProperty.call(et,i)&&(c=et[i]),h&&Object.prototype.hasOwnProperty.call(h,n)?(o=h[n],r=o.substr(0,2)==="@:"?ai(o.substr(2),t,i):c.interpolate(o,t)):(s&&!it&&(l=ri(n,t)),f&&u&&u.length?(bt=0,r=bi(n,t,c)):r=s&&!it&&l?l:ti(n)),r},ki=function(n){b===n&&(b=undefined);w[n]=undefined};if(p.preferredLanguage=function(n){return n&&lt(n),o},p.cloakClassName=function(){return ut},p.fallbackLanguage=function(n){if(n!==undefined&&n!==null){if(at(n),h&&u&&u.length)for(var t=0,i=u.length;t<i;t++)w[u[t]]||(w[u[t]]=wt(u[t]));p.use(p.use())}return g?u[0]:u},p.useFallbackLanguage=function(n){if(n!==undefined&&n!==null)if(n){var t=c(u,n);t>-1&&(ct=t)}else ct=0},p.proposedLanguage=function(){return b},p.storage=function(){return ht},p.use=function(n){var t,u;return n?(t=r.defer(),i.$emit("$translateChangeStart",{language:n}),u=dt(n),u&&(n=u),(tt||!e[n])&&h&&!w[n]?(b=n,w[n]=wt(n).then(function(n){return v(n.key,n.table),t.resolve(n.key),ii(n.key),n},function(n){return i.$emit("$translateChangeError",{language:n}),t.reject(n),i.$emit("$translateChangeEnd",{language:n}),r.reject(n)}),w[n]["finally"](function(){ki(n)})):b===n&&w[n]?w[n].then(function(n){return t.resolve(n.key),n},function(n){return t.reject(n),r.reject(n)}):(t.resolve(n),ii(n)),t.promise):f},p.storageKey=function(){return vt()},p.isPostCompilingEnabled=function(){return pt},p.isForceAsyncReloadEnabled=function(){return tt},p.refresh=function(n){function p(){o.resolve();i.$emit("$translateRefreshEnd",{language:n})}function c(){o.reject();i.$emit("$translateRefreshEnd",{language:n})}var o,s,l,t,w,a,y;if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");if(o=r.defer(),i.$emit("$translateRefreshStart",{language:n}),n)e[n]?(y=function(t){v(t.key,t.table);n===f&&ii(f);p()},y.displayName="refreshPostProcessor",wt(n).then(y,c)):c();else{if(s=[],l={},u&&u.length)for(t=0,w=u.length;t<w;t++)s.push(wt(u[t])),l[u[t]]=!0;f&&!l[f]&&s.push(wt(f));a=function(n){e={};angular.forEach(n,function(n){v(n.key,n.table)});f&&ii(f);p()};a.displayName="refreshPostProcessor";r.all(s).then(a,c)}return o.promise},p.instant=function(n,t,i){var a,c,y,r,h,l,w,v;if(n===null||angular.isUndefined(n))return n;if(angular.isArray(n)){for(a={},c=0,y=n.length;c<y;c++)a[n[c]]=p.instant(n[c],t,i);return a}if(angular.isString(n)&&n.length<1)return n;for(n&&(n=kt.apply(n)),h=[],o&&h.push(o),f&&h.push(f),u&&u.length&&(h=h.concat(u)),l=0,w=h.length;l<w;l++)if(v=h[l],e[v]&&(typeof e[v][n]!="undefined"?r=ai(n,t,i):(k||d)&&(r=ti(n))),typeof r!="undefined")break;return r||r===""||(r=ni.interpolate(n,t),s&&!it&&(r=ri(n,t))),r},p.versionInfo=function(){return gt},p.loaderCache=function(){return a},p.directivePriority=function(){return ot},p.statefulFilter=function(){return st},h&&(angular.equals(e,{})&&p.use(p.use()),u&&u.length))for(vi=function(n){return v(n.key,n.table),i.$emit("$translateChangeEnd",{language:n.key}),n},ui=0,yi=u.length;ui<yi;ui++)fi=u[ui],(tt||!e[fi])&&(w[fi]=wt(fi).then(vi));return p}]}function i(n,t){"use strict";var i={},r,u="default";return i.setLocale=function(n){r=n},i.getInterpolationIdentifier=function(){return u},i.useSanitizeValueStrategy=function(n){return t.useStrategy(n),this},i.interpolate=function(i,r){r=r||{};r=t.sanitize(r,"params");var u=n(i)(r);return t.sanitize(u,"text")},i}function r(n,t,i,r,u,f){"use strict";var e=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:n.directivePriority(),compile:function(t,o){var h=o.translateValues?o.translateValues:undefined,c=o.translateInterpolation?o.translateInterpolation:undefined,s=t[0].outerHTML.match(/translate-value-+/i),l="^(.*)("+i.startSymbol()+".*"+i.endSymbol()+")(.*)",a="^(.*)"+i.startSymbol()+"(.*)"+i.endSymbol()+"(.*)";return function(t,v,y){var g,d,tt,k,it;t.interpolateParams={};t.preText="";t.postText="";var p={},rt=function(n,i,r){var f,e;if(i.translateValues&&angular.extend(n,u(i.translateValues)(t.$parent)),s)for(f in r)Object.prototype.hasOwnProperty.call(i,f)&&f.substr(0,14)==="translateValue"&&f!=="translateValues"&&(e=angular.lowercase(f.substr(14,1))+f.substr(15),n[e]=r[f])},w=function(n){var r,u;angular.isFunction(w._unwatchOld)&&(w._unwatchOld(),w._unwatchOld=undefined);angular.equals(n,"")||!angular.isDefined(n)?(r=e.apply(v.text()).match(l),angular.isArray(r)?(t.preText=r[1],t.postText=r[3],p.translate=i(r[2])(t.$parent),u=v.text().match(a),angular.isArray(u)&&u[2]&&u[2].length&&(w._unwatchOld=t.$watch(u[2],function(n){p.translate=n;b()}))):p.translate=v.text().replace(/^\s+|\s+$/g,"")):p.translate=n;b()},ut=function(n){y.$observe(n,function(t){p[n]=t;b()})};rt(t.interpolateParams,y,o);g=!0;y.$observe("translate",function(n){typeof n=="undefined"?w(""):n===""&&g||(p.translate=n,b());g=!1});for(d in y)y.hasOwnProperty(d)&&d.substr(0,13)==="translateAttr"&&ut(d);if(y.$observe("translateDefault",function(n){t.defaultText=n}),h&&y.$observe("translateValues",function(n){n&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,u(n)(t.$parent))})}),s){tt=function(n){y.$observe(n,function(i){var r=angular.lowercase(n.substr(14,1))+n.substr(15);t.interpolateParams[r]=i})};for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&k.substr(0,14)==="translateValue"&&k!=="translateValues"&&tt(k)}var b=function(){for(var n in p)p.hasOwnProperty(n)&&p[n]!==undefined&&ft(n,p[n],t,t.interpolateParams,t.defaultText)},ft=function(t,i,r,u,f){i?n(i,u,c,f).then(function(n){nt(n,r,!0,t)},function(n){nt(n,r,!1,t)}):nt(i,r,!1,t)},nt=function(t,i,u,f){var e;if(f==="translate"){u||typeof i.defaultText=="undefined"||(t=i.defaultText);v.html(i.preText+t+i.postText);var h=n.isPostCompilingEnabled(),s=typeof o.translateCompile!="undefined",c=s&&o.translateCompile!=="false";(h&&!s||c)&&r(v.contents())(i)}else u||typeof i.defaultText=="undefined"||(t=i.defaultText),e=y.$attr[f],e.substr(0,5)==="data-"&&(e=e.substr(5)),e=e.substr(15),v.attr(e,t)};(h||s||y.translateDefault)&&t.$watch("interpolateParams",b,!0);it=f.$on("$translateChangeSuccess",b);v.text().length?y.translate?w(y.translate):w(""):y.translate&&w(y.translate);b();t.$on("$destroy",it)}}}}function u(n,t){"use strict";return{compile:function(i){var r=function(){i.addClass(t.cloakClassName())},u=function(){i.removeClass(t.cloakClassName())},f=n.$on("$translateChangeEnd",function(){u();f();f=null});return r(),function(n,i,f){f.translateCloak&&f.translateCloak.length&&f.$observe("translateCloak",function(n){t(n).then(u,r)})}}}}function f(n,t){"use strict";var i=function(i,r,u){return angular.isObject(r)||(r=n(r)(this)),t.instant(i,r,u)};return t.statefulFilter()&&(i.$stateful=!0),i}function e(n){"use strict";return n("translations")}return angular.module("pascalprecht.translate",["ng"]).run(n),n.$inject=["$translate"],n.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",o),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.$inject=["$interpolate","$translateSanitization"],i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",u),u.$inject=["$rootScope","$translate"],u.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",f),f.$inject=["$parse","$translate"],f.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",e),e.$inject=["$cacheFactory"],e.displayName="$translationCache","pascalprecht.translate"});
//# sourceMappingURL=angular-translate.min.js.map

///#source 1 1 /h5/libraries/angular-translate-loader-partial/angular-translate-loader-partial.min.js
/*!
 * angular-translate - v2.7.2 - 2015-06-01
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2015 ; Licensed MIT
 */
(function(n,t){typeof define=="function"&&define.amd?define([],function(){return t()}):typeof exports=="object"?module.exports=t():t()})(this,function(){function n(){"use strict";function r(n,t){this.name=n;this.isActive=!0;this.tables={};this.priority=t||0}function i(t){return Object.prototype.hasOwnProperty.call(n,t)}function t(n){return angular.isString(n)&&n!==""}function u(r){if(!t(r))throw new TypeError("Invalid type of a first argument, a non-empty string expected.");return i(r)&&n[r].isActive}function f(n,t){for(var i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?(n[i]=n[i]||{},f(n[i],t[i])):n[i]=t[i];return n}function e(){var t=[];for(var i in n)n[i].isActive&&t.push(n[i]);return t.sort(function(n,t){return n.priority-t.priority}),t}r.prototype.parseUrl=function(n,t){return angular.isFunction(n)?n(this.name,t):n.replace(/\{part\}/g,this.name).replace(/\{lang\}/g,t)};r.prototype.getTable=function(n,t,i,r,u,f){var e=t.defer(),o;return this.tables[n]?e.resolve(this.tables[n]):(o=this,i(angular.extend({method:"GET",url:this.parseUrl(u,n)},r)).success(function(t){o.tables[n]=t;e.resolve(t)}).error(function(){f?f(o.name,n).then(function(t){o.tables[n]=t;e.resolve(t)},function(){e.reject(o.name)}):e.reject(o.name)})),e.promise};var n={};this.addPart=function(u,f){if(!t(u))throw new TypeError("Couldn't add part, part name has to be a string!");return i(u)||(n[u]=new r(u,f)),n[u].isActive=!0,this};this.setPart=function(u,f,e){if(!t(u))throw new TypeError("Couldn't set part.`lang` parameter has to be a string!");if(!t(f))throw new TypeError("Couldn't set part.`part` parameter has to be a string!");if(typeof e!="object"||e===null)throw new TypeError("Couldn't set part. `table` parameter has to be an object!");return i(f)||(n[f]=new r(f),n[f].isActive=!1),n[f].tables[u]=e,this};this.deletePart=function(r){if(!t(r))throw new TypeError("Couldn't delete part, first arg has to be string.");return i(r)&&(n[r].isActive=!1),this};this.isPartAvailable=u;this.$get=["$rootScope","$injector","$q","$http",function(o,s,h,c){var l=function(n){var i;if(!t(n.key))throw new TypeError("Unable to load data, a key is not a non-empty string.");if(!t(n.urlTemplate)&&!angular.isFunction(n.urlTemplate))throw new TypeError("Unable to load data, a urlTemplate is not a non-empty string or not a function.");if(i=n.loadFailureHandler,i!==undefined)if(angular.isString(i))i=s.get(i);else throw new Error("Unable to load data, a loadFailureHandler is not a string.");var u=[],r=h.defer(),o=e();return angular.forEach(o,function(t){u.push(t.getTable(n.key,h,c,n.$http,n.urlTemplate,i));t.urlTemplate=n.urlTemplate}),h.all(u).then(function(){var t={};angular.forEach(o,function(i){f(t,i.tables[n.key])});r.resolve(t)},function(){r.reject(n.key)}),r.promise};return l.addPart=function(u,f){if(!t(u))throw new TypeError("Couldn't add part, first arg has to be a string");return i(u)?n[u].isActive||(n[u].isActive=!0,o.$emit("$translatePartialLoaderStructureChanged",u)):(n[u]=new r(u,f),o.$emit("$translatePartialLoaderStructureChanged",u)),l},l.deletePart=function(r,u){var e,h,f;if(!t(r))throw new TypeError("Couldn't delete part, first arg has to be string");if(u===undefined)u=!1;else if(typeof u!="boolean")throw new TypeError("Invalid type of a second argument, a boolean expected.");return i(r)&&(e=n[r].isActive,u?(h=s.get("$translate"),f=h.loaderCache(),typeof f=="string"&&(f=s.get(f)),typeof f=="object"&&angular.forEach(n[r].tables,function(t,i){f.remove(n[r].parseUrl(n[r].urlTemplate,i))}),delete n[r]):n[r].isActive=!1,e&&o.$emit("$translatePartialLoaderStructureChanged",r)),l},l.isPartLoaded=function(t,i){return angular.isDefined(n[t])&&angular.isDefined(n[t].tables[i])},l.getRegisteredParts=function(){var t=[];return angular.forEach(n,function(n){n.isActive&&t.push(n.name)}),t},l.isPartAvailable=u,l}]}return angular.module("pascalprecht.translate").provider("$translatePartialLoader",n),n.displayName="$translatePartialLoader","pascalprecht.translate"});
//# sourceMappingURL=angular-translate-loader-partial.min.js.map

///#source 1 1 /h5/libraries/angular-filter/filter.min.js
"use strict";function $FilterProvider(n){function t(r,u){if(isObject(r)){var f={};return forEach(r,function(n,i){f[i]=t(i,n)}),f}return n.factory(r+i,u)}var i="Filter";this.register=t;this.$get=["$injector",function(n){return function(t){return n.get(t+i)}}];t("currency",currencyFilter);t("date",dateFilter);t("filter",filterFilter);t("json",jsonFilter);t("limitTo",limitToFilter);t("lowercase",lowercaseFilter);t("number",numberFilter);t("orderBy",orderByFilter);t("uppercase",uppercaseFilter)}$FilterProvider.$inject=["$provide"];
//# sourceMappingURL=filter.min.js.map

///#source 1 1 /h5/libraries/angulartics/angulartics.min.js
/**
 * @license Angulartics v0.17.2
 * (c) 2013 Luis Farzati http://luisfarzati.github.io/angulartics
 * License: MIT
 */
(function(n){"use strict";var t=window.angulartics||(window.angulartics={});t.waitForVendorCount=0;t.waitForVendorApi=function(n,i,r,u,f){f||t.waitForVendorCount++;u||(u=r,r=undefined);Object.prototype.hasOwnProperty.call(window,n)&&(r===undefined||window[n][r]!==undefined)?(t.waitForVendorCount--,u(window[n])):setTimeout(function(){t.waitForVendorApi(n,i,r,u,!0)},i)};n.module("angulartics",[]).provider("$analytics",function(){var i={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,autoBasePath:!1,basePath:""},eventTracking:{},bufferFlushDelay:1e3,developerMode:!1},r={},u={},s=function(n){return function(){t.waitForVendorCount&&(r[n]||(r[n]=[]),r[n].push(arguments))}},e=function(t,i){return u[t]||(u[t]=[]),u[t].push(i),function(){var i=arguments;n.forEach(u[t],function(n){n.apply(this,i)},this)}},f={settings:i},h=function(n,t){t?setTimeout(n,t):n()},o={$get:function(){return f},api:f,settings:i,virtualPageviews:function(n){this.settings.pageTracking.autoTrackVirtualPages=n},firstPageview:function(n){this.settings.pageTracking.autoTrackFirstPage=n},withBase:function(t){this.settings.pageTracking.basePath=t?n.element("base").attr("href").slice(0,-1):""},withAutoBase:function(n){this.settings.pageTracking.autoBasePath=n},developerMode:function(n){this.settings.developerMode=n}},c=function(t,u){f[t]=e(t,u);var o=i[t],s=o?o.bufferFlushDelay:null,c=s!==null?s:i.bufferFlushDelay;n.forEach(r[t],function(n,t){h(function(){u.apply(this,n)},t*c)})},l=function(n){return n.replace(/^./,function(n){return n.toUpperCase()})},a=function(n){var t="register"+l(n);o[t]=function(t){c(n,t)};f[n]=e(n,s(n))};return n.forEach(["pageTrack","eventTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce"],a),o}).run(["$rootScope","$window","$analytics","$injector",function(t,i,r,u){r.settings.pageTracking.autoTrackFirstPage&&u.invoke(["$location",function(n){var t=!0,f,s,e,h,o;if(u.has("$route")){f=u.get("$route");for(s in f.routes){t=!1;break}}else if(u.has("$state")){e=u.get("$state");for(h in e.get()){t=!1;break}}t&&(r.settings.pageTracking.autoBasePath&&(r.settings.pageTracking.basePath=i.location.pathname),r.settings.pageTracking.trackRelativePath?(o=r.settings.pageTracking.basePath+n.url(),r.pageTrack(o,n)):r.pageTrack(n.absUrl(),n))}]);r.settings.pageTracking.autoTrackVirtualPages&&u.invoke(["$location",function(n){r.settings.pageTracking.autoBasePath&&(r.settings.pageTracking.basePath=i.location.pathname+"#");u.has("$route")&&t.$on("$routeChangeSuccess",function(t,i){if(!i||!(i.$$route||i).redirectTo){var u=r.settings.pageTracking.basePath+n.url();r.pageTrack(u,n)}});u.has("$state")&&t.$on("$stateChangeSuccess",function(){var t=r.settings.pageTracking.basePath+n.url();r.pageTrack(t,n)})}]);r.settings.developerMode&&n.forEach(r,function(n,t){typeof n=="function"&&(r[t]=function(){})})}]).directive("analyticsOn",["$analytics",function(t){function i(n){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(n.tagName.toLowerCase()+":"+(n.type||""))>=0}function u(n){return i(n),"click"}function f(n){return i(n)?n.innerText||n.value:n.id||n.name||n.tagName}function e(n){return n.substr(0,9)==="analytics"&&["On","Event","If","Properties","EventType"].indexOf(n.substr(9))===-1}function r(n){var t=n.slice(9);return typeof t!="undefined"&&t!==null&&t.length>0?t.substring(0,1).toLowerCase()+t.substring(1):t}return{restrict:"A",link:function(i,o,s){var c=s.analyticsOn||u(o[0]),h={};n.forEach(s.$attr,function(n,t){e(t)&&(h[r(t)]=s[t],s.$observe(t,function(n){h[r(t)]=n}))});n.element(o[0]).bind(c,function(r){var u=s.analyticsEvent||f(o[0]);(h.eventType=r.type,!s.analyticsIf||i.$eval(s.analyticsIf))&&(s.analyticsProperties&&n.extend(h,i.$eval(s.analyticsProperties)),t.eventTrack(u,h))})}}}])})(angular);
//# sourceMappingURL=angulartics.min.js.map

///#source 1 1 /h5/libraries/angular-mocks/angular-mocks.min.js
/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t,i){"use strict";function v(n){var t;if(t=n.match(c)){var i=new Date(0),r=0,f=0;return t[9]&&(r=u(t[9]+t[10]),f=u(t[9]+t[11])),i.setUTCFullYear(u(t[1]),u(t[2])-1,u(t[3])),i.setUTCHours(u(t[4]||0)-r,u(t[5]||0)-f,u(t[6]||0),u(t[7]||0)),i}return n}function u(n){return parseInt(n,10)}function f(n,t,i){var r="";for(n<0&&(r="-",n=-n),n=""+n;n.length<t;)n="0"+n;return i&&(n=n.substr(n.length-t)),r+n}function l(n,r,u,f){function v(n,i,r,u){return t.isFunction(n)?n:function(){return t.isNumber(n)?[n,i,r,u]:[200,n,i,r]}}function s(n,s,a,v,y,w,b){function g(n){return t.isString(n)||t.isFunction(n)||n instanceof RegExp?n:t.toJson(n)}function it(t){function u(){var i=t.response(n,s,a,y);nt.$$respHeaders=i[2];v(c(i[0]),c(i[1]),nt.getAllResponseHeaders(),c(i[3]||""))}function e(){for(var n=0,t=o.length;n<t;n++)if(o[n]===u){o.splice(n,1);v(-1,i,"");break}}return!f&&w&&(w.then?w.then(e):r(e,w)),u}var nt=new e,k=h[0],tt=!1,rt,d;if(k&&k.match(n,s)){if(!k.matchData(a))throw new Error("Expected "+k+" with different data\nEXPECTED: "+g(k.data)+"\nGOT:      "+a);if(!k.matchHeaders(y))throw new Error("Expected "+k+" with different headers\nEXPECTED: "+g(k.headers)+"\nGOT:      "+g(y));if(h.shift(),k.response){o.push(it(k));return}tt=!0}for(rt=-1;d=l[++rt];)if(d.match(n,s,a,y||{})){if(d.response)(f?f.defer:p)(it(d));else if(d.passThrough)u(n,s,a,v,y,w,b);else throw new Error("No response defined !");return}throw tt?new Error("No response defined !"):new Error("Unexpected request: "+n+" "+s+"\n"+(k?"Expected "+k:"No more request expected"));}function y(n){t.forEach(["GET","DELETE","JSONP","HEAD"],function(t){s[n+t]=function(r,u){return s[n](t,r,i,u)}});t.forEach(["PUT","POST","PATCH"],function(t){s[n+t]=function(i,r,u){return s[n](t,i,r,u)}})}var l=[],h=[],o=[],p=t.bind(o,o.push),c=t.copy;return s.when=function(n,t,r,u){var e=new a(n,t,r,u),o={respond:function(n,t,r,u){return e.passThrough=i,e.response=v(n,t,r,u),o}};return f&&(o.passThrough=function(){return e.response=i,e.passThrough=!0,o}),l.push(e),o},y("when"),s.expect=function(n,t,i,r){var u=new a(n,t,i,r),f={respond:function(n,t,i,r){return u.response=v(n,t,i,r),f}};return h.push(u),f},y("expect"),s.flush=function(i,r){if(r!==!1&&n.$digest(),!o.length)throw new Error("No pending request to flush !");if(t.isDefined(i)&&i!==null)while(i--){if(!o.length)throw new Error("No more pending request to flush !");o.shift()()}else while(o.length)o.shift()();s.verifyNoOutstandingExpectation(r)},s.verifyNoOutstandingExpectation=function(t){if(t!==!1&&n.$digest(),h.length)throw new Error("Unsatisfied requests: "+h.join(", "));},s.verifyNoOutstandingRequest=function(){if(o.length)throw new Error("Unflushed requests: "+o.length);},s.resetExpectations=function(){h.length=0;o.length=0},s}function a(n,i,r,u){this.data=r;this.headers=u;this.match=function(i,r,u,f){return n!=i?!1:this.matchUrl(r)?t.isDefined(u)&&!this.matchData(u)?!1:t.isDefined(f)&&!this.matchHeaders(f)?!1:!0:!1};this.matchUrl=function(n){return i?t.isFunction(i.test)?i.test(n):t.isFunction(i)?i(n):i==n:!0};this.matchHeaders=function(n){return t.isUndefined(u)?!0:t.isFunction(u)?u(n):t.equals(u,n)};this.matchData=function(n){return t.isUndefined(r)?!0:r&&t.isFunction(r.test)?r.test(n):r&&t.isFunction(r)?r(n):r&&!t.isString(r)?t.equals(t.fromJson(t.toJson(r)),t.fromJson(n)):r==n};this.toString=function(){return n+" "+i}}function e(){e.$$lastInstance=this;this.open=function(n,t,i){this.$$method=n;this.$$url=t;this.$$async=i;this.$$reqHeaders={};this.$$respHeaders={}};this.send=function(n){this.$$data=n};this.setRequestHeader=function(n,t){this.$$reqHeaders[n]=t};this.getResponseHeader=function(n){var r=this.$$respHeaders[n];return r?r:(n=t.lowercase(n),r=this.$$respHeaders[n],r)?r:(r=i,t.forEach(this.$$respHeaders,function(i,u){r||t.lowercase(u)!=n||(r=i)}),r)};this.getAllResponseHeaders=function(){var n=[];return t.forEach(this.$$respHeaders,function(t,i){n.push(i+": "+t)}),n.join("\n")};this.abort=t.noop}var c,h;if(t.mock={},t.mock.$BrowserProvider=function(){this.$get=function(){return new t.mock.$Browser}},t.mock.$Browser=function(){var n=this;this.isMock=!0;n.$$url="http://server/";n.$$lastUrl=n.$$url;n.pollFns=[];n.$$completeOutstandingRequest=t.noop;n.$$incOutstandingRequestCount=t.noop;n.onUrlChange=function(t){return n.pollFns.push(function(){(n.$$lastUrl!==n.$$url||n.$$state!==n.$$lastState)&&(n.$$lastUrl=n.$$url,n.$$lastState=n.$$state,t(n.$$url,n.$$state))}),t};n.$$checkUrlChange=t.noop;n.cookieHash={};n.lastCookieHash={};n.deferredFns=[];n.deferredNextId=0;n.defer=function(t,i){return i=i||0,n.deferredFns.push({time:n.defer.now+i,fn:t,id:n.deferredNextId}),n.deferredFns.sort(function(n,t){return n.time-t.time}),n.deferredNextId++};n.defer.now=0;n.defer.cancel=function(r){var u;return(t.forEach(n.deferredFns,function(n,t){n.id===r&&(u=t)}),u!==i)?(n.deferredFns.splice(u,1),!0):!1};n.defer.flush=function(i){if(t.isDefined(i))n.defer.now+=i;else if(n.deferredFns.length)n.defer.now=n.deferredFns[n.deferredFns.length-1].time;else throw new Error("No deferred tasks to be flushed");while(n.deferredFns.length&&n.deferredFns[0].time<=n.defer.now)n.deferredFns.shift().fn()};n.$$baseHref="/";n.baseHref=function(){return this.$$baseHref}},t.mock.$Browser.prototype={poll:function(){t.forEach(this.pollFns,function(n){n()})},addPollFn:function(n){return this.pollFns.push(n),n},url:function(n,i,r){return(t.isUndefined(r)&&(r=null),n)?(this.$$url=n,this.$$state=t.copy(r),this):this.$$url},state:function(){return this.$$state},cookies:function(n,i){if(n)t.isUndefined(i)?delete this.cookieHash[n]:t.isString(i)&&i.length<=4096&&(this.cookieHash[n]=i);else return t.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=t.copy(this.cookieHash),this.cookieHash=t.copy(this.cookieHash)),this.cookieHash},notifyWhenNoOutstandingRequests:function(n){n()}},t.mock.$ExceptionHandlerProvider=function(){var n;this.mode=function(t){switch(t){case"log":case"rethrow":var i=[];n=function(n){if(arguments.length==1?i.push(n):i.push([].slice.call(arguments,0)),t==="rethrow")throw n;};n.errors=i;break;default:throw new Error("Unknown mode '"+t+"', only 'log'/'rethrow' modes are allowed!");}};this.$get=function(){return n};this.mode("rethrow")},t.mock.$LogProvider=function(){function n(n,t,i){return n.concat(Array.prototype.slice.call(t,i))}var i=!0;this.debugEnabled=function(n){return t.isDefined(n)?(i=n,this):i};this.$get=function(){var r={log:function(){r.log.logs.push(n([],arguments,0))},warn:function(){r.warn.logs.push(n([],arguments,0))},info:function(){r.info.logs.push(n([],arguments,0))},error:function(){r.error.logs.push(n([],arguments,0))},debug:function(){i&&r.debug.logs.push(n([],arguments,0))}};return r.reset=function(){r.log.logs=[];r.info.logs=[];r.warn.logs=[];r.error.logs=[];r.debug.logs=[]},r.assertEmpty=function(){var n=[];if(t.forEach(["error","warn","info","log","debug"],function(i){t.forEach(r[i].logs,function(r){t.forEach(r,function(t){n.push("MOCK $log ("+i+"): "+String(t)+"\n"+(t.stack||""))})})}),n.length){n.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:");n.push("");throw new Error(n.join("\n---------\n"));}},r.reset(),r}},t.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(n,r,u,f){var e=[],o=0,s=0,h=function(h,c,l,a){function b(){if(v.notify(p++),l>0&&p>=l){var u;v.resolve(p);t.forEach(e,function(n,t){n.id===y.$$intervalId&&(u=t)});u!==i&&e.splice(u,1)}w?n.defer.flush():r.$apply()}var p=0,w=t.isDefined(a)&&!a,v=(w?f:u).defer(),y=v.promise;return l=t.isDefined(l)?l:0,y.then(null,null,h),y.$$intervalId=o,e.push({nextTime:s+c,delay:c,fn:b,id:o,deferred:v}),e.sort(function(n,t){return n.nextTime-t.nextTime}),o++,y};return h.cancel=function(n){if(!n)return!1;var r;return(t.forEach(e,function(t,i){t.id===n.$$intervalId&&(r=i)}),r!==i)?(e[r].deferred.reject("canceled"),e.splice(r,1),!0):!1},h.flush=function(n){for(s+=n;e.length&&e[0].nextTime<=s;){var t=e[0];t.fn();t.nextTime+=t.delay;e.sort(function(n,t){return n.nextTime-t.nextTime})}return n},h}]},c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/,t.mock.TzDate=function(n,i){var r=new Date(0),u,e,o;if(t.isString(i)){if(u=i,r.origDate=v(i),i=r.origDate.getTime(),isNaN(i))throw{name:"Illegal Argument",message:"Arg '"+u+"' passed into TzDate constructor is not a valid date string"};}else r.origDate=new Date(i);return e=new Date(i).getTimezoneOffset(),r.offsetDiff=e*6e4-n*36e5,r.date=new Date(i+r.offsetDiff),r.getTime=function(){return r.date.getTime()-r.offsetDiff},r.toLocaleDateString=function(){return r.date.toLocaleDateString()},r.getFullYear=function(){return r.date.getFullYear()},r.getMonth=function(){return r.date.getMonth()},r.getDate=function(){return r.date.getDate()},r.getHours=function(){return r.date.getHours()},r.getMinutes=function(){return r.date.getMinutes()},r.getSeconds=function(){return r.date.getSeconds()},r.getMilliseconds=function(){return r.date.getMilliseconds()},r.getTimezoneOffset=function(){return n*60},r.getUTCFullYear=function(){return r.origDate.getUTCFullYear()},r.getUTCMonth=function(){return r.origDate.getUTCMonth()},r.getUTCDate=function(){return r.origDate.getUTCDate()},r.getUTCHours=function(){return r.origDate.getUTCHours()},r.getUTCMinutes=function(){return r.origDate.getUTCMinutes()},r.getUTCSeconds=function(){return r.origDate.getUTCSeconds()},r.getUTCMilliseconds=function(){return r.origDate.getUTCMilliseconds()},r.getDay=function(){return r.date.getDay()},r.toISOString&&(r.toISOString=function(){return f(r.origDate.getUTCFullYear(),4)+"-"+f(r.origDate.getUTCMonth()+1,2)+"-"+f(r.origDate.getUTCDate(),2)+"T"+f(r.origDate.getUTCHours(),2)+":"+f(r.origDate.getUTCMinutes(),2)+":"+f(r.origDate.getUTCSeconds(),2)+"."+f(r.origDate.getUTCMilliseconds(),3)+"Z"}),o=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"],t.forEach(o,function(n){r[n]=function(){throw new Error("Method '"+n+"' is not implemented in the TzDate mock");}}),r},t.mock.TzDate.prototype=Date.prototype,t.mock.animate=t.module("ngAnimateMock",["ng"]).config(["$provide",function(n){var i=[];n.value("$$animateReflow",function(n){var t=i.length;return i.push(n),function(){i.splice(t,1)}});n.decorator("$animate",["$delegate","$$asyncCallback","$timeout","$browser",function(n,r,u){var f={queue:[],cancel:n.cancel,enabled:n.enabled,triggerCallbackEvents:function(){r.flush()},triggerCallbackPromise:function(){u.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents();this.triggerCallbackPromise()},triggerReflow:function(){t.forEach(i,function(n){n()});i=[]}};return t.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(t){f[t]=function(){return f.queue.push({event:t,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),n[t].apply(n,arguments)}}),f}])}]),t.mock.dump=function(n){function i(n){var u;return t.isElement(n)?(n=t.element(n),u=t.element("<div><\/div>"),t.forEach(n,function(n){u.append(t.element(n).clone())}),u=u.html()):t.isArray(n)?(u=[],t.forEach(n,function(n){u.push(i(n))}),u="[ "+u.join(", ")+" ]"):u=t.isObject(n)?t.isFunction(n.$eval)&&t.isFunction(n.$apply)?r(n):n instanceof Error?n.stack||""+n.name+": "+n.message:t.toJson(n,!0):String(n),u}function r(n,i){var u,f,e;i=i||"  ";u=[i+"Scope("+n.$id+"): {"];for(f in n)Object.prototype.hasOwnProperty.call(n,f)&&!f.match(/^(\$|this)/)&&u.push("  "+f+": "+t.toJson(n[f]));for(e=n.$$childHead;e;)u.push(r(e,i+"  ")),e=e.$$nextSibling;return u.push("}"),u.join("\n"+i)}return i(n)},t.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",l]},t.mock.$TimeoutDecorator=["$delegate","$browser",function(n,i){function r(n){var i=[];return t.forEach(n,function(n){i.push("{id: "+n.id+", time: "+n.time+"}")}),i.join(", ")}return n.flush=function(n){i.defer.flush(n)},n.verifyNoPendingTasks=function(){if(i.deferredFns.length)throw new Error("Deferred tasks to flush ("+i.deferredFns.length+"): "+r(i.deferredFns));},n}],t.mock.$RAFDecorator=["$delegate",function(n){var t=[],i=function(n){var i=t.length;return t.push(n),function(){t.splice(i,1)}};return i.supported=n.supported,i.flush=function(){var i,n;if(t.length===0)throw new Error("No rAF callbacks present");for(i=t.length,n=0;n<i;n++)t[n]();t=[]},i}],t.mock.$AsyncCallbackDecorator=["$delegate",function(){var n=[],i=function(t){n.push(t)};return i.flush=function(){t.forEach(n,function(n){n()});n=[]},i}],t.mock.$RootElementProvider=function(){this.$get=function(){return t.element("<div ng-app><\/div>")}},t.mock.$ControllerDecorator=["$delegate",function(n){return function(i,r,u,f){if(u&&typeof u=="object"){var e=n(i,r,!0,f);return t.extend(e.instance,u),e()}return n(i,r,u,f)}}],t.module("ngMock",["ng"]).provider({$browser:t.mock.$BrowserProvider,$exceptionHandler:t.mock.$ExceptionHandlerProvider,$log:t.mock.$LogProvider,$interval:t.mock.$IntervalProvider,$httpBackend:t.mock.$HttpBackendProvider,$rootElement:t.mock.$RootElementProvider}).config(["$provide",function(n){n.decorator("$timeout",t.mock.$TimeoutDecorator);n.decorator("$$rAF",t.mock.$RAFDecorator);n.decorator("$$asyncCallback",t.mock.$AsyncCallbackDecorator);n.decorator("$rootScope",t.mock.$RootScopeDecorator);n.decorator("$controller",t.mock.$ControllerDecorator)}]),t.module("ngMockE2E",["ng"]).config(["$provide",function(n){n.decorator("$httpBackend",t.mock.e2e.$httpBackendDecorator)}]),t.mock.e2e={},t.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",l],t.mock.$RootScopeDecorator=["$delegate",function(n){function i(){for(var i=0,t=[this.$$childHead],n;t.length;)for(n=t.shift();n;)i+=1,t.push(n.$$childHead),n=n.$$nextSibling;return i}function r(){for(var i=this.$$watchers?this.$$watchers.length:0,t=[this.$$childHead],n;t.length;)for(n=t.shift();n;)i+=n.$$watchers?n.$$watchers.length:0,t.push(n.$$childHead),n=n.$$nextSibling;return i}var t=Object.getPrototypeOf(n);return t.$countChildScopes=i,t.$countWatchers=r,n}],n.jasmine||n.mocha){var r=null,o=[],s=function(){return!!r};t.mock.$$annotate=t.injector.$$annotate;t.injector.$$annotate=function(n){return typeof n!="function"||n.$inject||o.push(n),t.mock.$$annotate.apply(this,arguments)};(n.beforeEach||n.setup)(function(){o=[];r=this});(n.afterEach||n.teardown)(function(){var n=r.$injector;o.forEach(function(n){delete n.$inject});t.forEach(r.$modules,function(n){n&&n.$$hashKey&&(n.$$hashKey=i)});r.$injector=null;r.$modules=null;r=null;n&&(n.get("$rootElement").off(),n.get("$browser").pollFns.length=0);t.forEach(t.element.fragments,function(n,i){delete t.element.fragments[i]});e.$$lastInstance=null;t.forEach(t.callbacks,function(n,i){delete t.callbacks[i]});t.callbacks.counter=0});n.module=t.mock.module=function(){function n(){if(r.$injector)throw new Error("Injector already created, can not register a module!");else{var n=r.$modules||(r.$modules=[]);t.forEach(i,function(i){t.isObject(i)&&!t.isArray(i)?n.push(function(n){t.forEach(i,function(t,i){n.value(i,t)})}):n.push(i)})}}var i=Array.prototype.slice.call(arguments,0);return s()?n():n};h=function(n,t){this.message=n.message;this.name=n.name;n.line&&(this.line=n.line);n.sourceId&&(this.sourceId=n.sourceId);n.stack&&t&&(this.stack=n.stack+"\n"+t.stack);n.stackArray&&(this.stackArray=n.stackArray)};h.prototype.toString=Error.prototype.toString;n.inject=t.mock.inject=function(){function u(){var e=r.$modules||[],o=!!r.$injectorStrict,u,f,c;for(e.unshift("ngMock"),e.unshift("ng"),u=r.$injector,u||(o&&t.forEach(e,function(n){typeof n=="function"&&t.injector.$$annotate(n)}),u=r.$injector=t.injector(e,o),r.$injectorStrict=o),f=0,c=n.length;f<c;f++){r.$injectorStrict&&u.annotate(n[f]);try{u.invoke(n[f]||t.noop,this)}catch(s){if(s.stack&&i)throw new h(s,i);throw s;}finally{i=null}}}var n=Array.prototype.slice.call(arguments,0),i=new Error("Declaration Location");return s()?u.call(r):u};t.mock.inject.strictDi=function(n){function t(){if(n!==r.$injectorStrict)if(r.$injector)throw new Error("Injector already created, can not modify strict annotations");else r.$injectorStrict=n}return n=arguments.length?!!n:!0,s()?t():t}}})(window,window.angular);
//# sourceMappingURL=angular-mocks.min.js.map

///#source 1 1 /h5/libraries/angular-animate/angular-animate.js
/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window, angular, undefined) {'use strict';

/* jshint ignore:start */
var noop        = angular.noop;
var extend      = angular.extend;
var jqLite      = angular.element;
var forEach     = angular.forEach;
var isArray     = angular.isArray;
var isString    = angular.isString;
var isObject    = angular.isObject;
var isUndefined = angular.isUndefined;
var isDefined   = angular.isDefined;
var isFunction  = angular.isFunction;
var isElement   = angular.isElement;

var ELEMENT_NODE = 1;
var COMMENT_NODE = 8;

var NG_ANIMATE_CLASSNAME = 'ng-animate';
var NG_ANIMATE_CHILDREN_DATA = '$$ngAnimateChildren';

var isPromiseLike = function(p) {
  return p && p.then ? true : false;
}

function assertArg(arg, name, reason) {
  if (!arg) {
    throw ngMinErr('areq', "Argument '{0}' is {1}", (name || '?'), (reason || "required"));
  }
  return arg;
}

function mergeClasses(a,b) {
  if (!a && !b) return '';
  if (!a) return b;
  if (!b) return a;
  if (isArray(a)) a = a.join(' ');
  if (isArray(b)) b = b.join(' ');
  return a + ' ' + b;
}

function packageStyles(options) {
  var styles = {};
  if (options && (options.to || options.from)) {
    styles.to = options.to;
    styles.from = options.from;
  }
  return styles;
}

function pendClasses(classes, fix, isPrefix) {
  var className = '';
  classes = isArray(classes)
      ? classes
      : classes && isString(classes) && classes.length
          ? classes.split(/\s+/)
          : [];
  forEach(classes, function(klass, i) {
    if (klass && klass.length > 0) {
      className += (i > 0) ? ' ' : '';
      className += isPrefix ? fix + klass
                            : klass + fix;
    }
  });
  return className;
}

function removeFromArray(arr, val) {
  var index = arr.indexOf(val);
  if (val >= 0) {
    arr.splice(index, 1);
  }
}

function stripCommentsFromElement(element) {
  if (element instanceof jqLite) {
    switch (element.length) {
      case 0:
        return [];
        break;

      case 1:
        // there is no point of stripping anything if the element
        // is the only element within the jqLite wrapper.
        // (it's important that we retain the element instance.)
        if (element[0].nodeType === ELEMENT_NODE) {
          return element;
        }
        break;

      default:
        return jqLite(extractElementNode(element));
        break;
    }
  }

  if (element.nodeType === ELEMENT_NODE) {
    return jqLite(element);
  }
}

function extractElementNode(element) {
  if (!element[0]) return element;
  for (var i = 0; i < element.length; i++) {
    var elm = element[i];
    if (elm.nodeType == ELEMENT_NODE) {
      return elm;
    }
  }
}

function $$addClass($$jqLite, element, className) {
  forEach(element, function(elm) {
    $$jqLite.addClass(elm, className);
  });
}

function $$removeClass($$jqLite, element, className) {
  forEach(element, function(elm) {
    $$jqLite.removeClass(elm, className);
  });
}

function applyAnimationClassesFactory($$jqLite) {
  return function(element, options) {
    if (options.addClass) {
      $$addClass($$jqLite, element, options.addClass);
      options.addClass = null;
    }
    if (options.removeClass) {
      $$removeClass($$jqLite, element, options.removeClass);
      options.removeClass = null;
    }
  }
}

function prepareAnimationOptions(options) {
  options = options || {};
  if (!options.$$prepared) {
    var domOperation = options.domOperation || noop;
    options.domOperation = function() {
      options.$$domOperationFired = true;
      domOperation();
      domOperation = noop;
    };
    options.$$prepared = true;
  }
  return options;
}

function applyAnimationStyles(element, options) {
  applyAnimationFromStyles(element, options);
  applyAnimationToStyles(element, options);
}

function applyAnimationFromStyles(element, options) {
  if (options.from) {
    element.css(options.from);
    options.from = null;
  }
}

function applyAnimationToStyles(element, options) {
  if (options.to) {
    element.css(options.to);
    options.to = null;
  }
}

function mergeAnimationOptions(element, target, newOptions) {
  var toAdd = (target.addClass || '') + ' ' + (newOptions.addClass || '');
  var toRemove = (target.removeClass || '') + ' ' + (newOptions.removeClass || '');
  var classes = resolveElementClasses(element.attr('class'), toAdd, toRemove);

  extend(target, newOptions);

  if (classes.addClass) {
    target.addClass = classes.addClass;
  } else {
    target.addClass = null;
  }

  if (classes.removeClass) {
    target.removeClass = classes.removeClass;
  } else {
    target.removeClass = null;
  }

  return target;
}

function resolveElementClasses(existing, toAdd, toRemove) {
  var ADD_CLASS = 1;
  var REMOVE_CLASS = -1;

  var flags = {};
  existing = splitClassesToLookup(existing);

  toAdd = splitClassesToLookup(toAdd);
  forEach(toAdd, function(value, key) {
    flags[key] = ADD_CLASS;
  });

  toRemove = splitClassesToLookup(toRemove);
  forEach(toRemove, function(value, key) {
    flags[key] = flags[key] === ADD_CLASS ? null : REMOVE_CLASS;
  });

  var classes = {
    addClass: '',
    removeClass: ''
  };

  forEach(flags, function(val, klass) {
    var prop, allow;
    if (val === ADD_CLASS) {
      prop = 'addClass';
      allow = !existing[klass];
    } else if (val === REMOVE_CLASS) {
      prop = 'removeClass';
      allow = existing[klass];
    }
    if (allow) {
      if (classes[prop].length) {
        classes[prop] += ' ';
      }
      classes[prop] += klass;
    }
  });

  function splitClassesToLookup(classes) {
    if (isString(classes)) {
      classes = classes.split(' ');
    }

    var obj = {};
    forEach(classes, function(klass) {
      // sometimes the split leaves empty string values
      // incase extra spaces were applied to the options
      if (klass.length) {
        obj[klass] = true;
      }
    });
    return obj;
  }

  return classes;
}

function getDomNode(element) {
  return (element instanceof angular.element) ? element[0] : element;
}

var $$rAFSchedulerFactory = ['$$rAF', function($$rAF) {
  var tickQueue = [];
  var cancelFn;

  function scheduler(tasks) {
    // we make a copy since RAFScheduler mutates the state
    // of the passed in array variable and this would be difficult
    // to track down on the outside code
    tickQueue.push([].concat(tasks));
    nextTick();
  }

  /* waitUntilQuiet does two things:
   * 1. It will run the FINAL `fn` value only when an uncancelled RAF has passed through
   * 2. It will delay the next wave of tasks from running until the quiet `fn` has run.
   *
   * The motivation here is that animation code can request more time from the scheduler
   * before the next wave runs. This allows for certain DOM properties such as classes to
   * be resolved in time for the next animation to run.
   */
  scheduler.waitUntilQuiet = function(fn) {
    if (cancelFn) cancelFn();

    cancelFn = $$rAF(function() {
      cancelFn = null;
      fn();
      nextTick();
    });
  };

  return scheduler;

  function nextTick() {
    if (!tickQueue.length) return;

    var updatedQueue = [];
    for (var i = 0; i < tickQueue.length; i++) {
      var innerQueue = tickQueue[i];
      runNextTask(innerQueue);
      if (innerQueue.length) {
        updatedQueue.push(innerQueue);
      }
    }
    tickQueue = updatedQueue;

    if (!cancelFn) {
      $$rAF(function() {
        if (!cancelFn) nextTick();
      });
    }
  }

  function runNextTask(tasks) {
    var nextTask = tasks.shift();
    nextTask();
  }
}];

var $$AnimateChildrenDirective = [function() {
  return function(scope, element, attrs) {
    var val = attrs.ngAnimateChildren;
    if (angular.isString(val) && val.length === 0) { //empty attribute
      element.data(NG_ANIMATE_CHILDREN_DATA, true);
    } else {
      attrs.$observe('ngAnimateChildren', function(value) {
        value = value === 'on' || value === 'true';
        element.data(NG_ANIMATE_CHILDREN_DATA, value);
      });
    }
  };
}];

/**
 * @ngdoc service
 * @name $animateCss
 * @kind object
 *
 * @description
 * The `$animateCss` service is a useful utility to trigger customized CSS-based transitions/keyframes
 * from a JavaScript-based animation or directly from a directive. The purpose of `$animateCss` is NOT
 * to side-step how `$animate` and ngAnimate work, but the goal is to allow pre-existing animations or
 * directives to create more complex animations that can be purely driven using CSS code.
 *
 * Note that only browsers that support CSS transitions and/or keyframe animations are capable of
 * rendering animations triggered via `$animateCss` (bad news for IE9 and lower).
 *
 * ## Usage
 * Once again, `$animateCss` is designed to be used inside of a registered JavaScript animation that
 * is powered by ngAnimate. It is possible to use `$animateCss` directly inside of a directive, however,
 * any automatic control over cancelling animations and/or preventing animations from being run on
 * child elements will not be handled by Angular. For this to work as expected, please use `$animate` to
 * trigger the animation and then setup a JavaScript animation that injects `$animateCss` to trigger
 * the CSS animation.
 *
 * The example below shows how we can create a folding animation on an element using `ng-if`:
 *
 * ```html
 * <!-- notice the `fold-animation` CSS class -->
 * <div ng-if="onOff" class="fold-animation">
 *   This element will go BOOM
 * </div>
 * <button ng-click="onOff=true">Fold In</button>
 * ```
 *
 * Now we create the **JavaScript animation** that will trigger the CSS transition:
 *
 * ```js
 * ngModule.animation('.fold-animation', ['$animateCss', function($animateCss) {
 *   return {
 *     enter: function(element, doneFn) {
 *       var height = element[0].offsetHeight;
 *       return $animateCss(element, {
 *         from: { height:'0px' },
 *         to: { height:height + 'px' },
 *         duration: 1 // one second
 *       });
 *     }
 *   }
 * }]);
 * ```
 *
 * ## More Advanced Uses
 *
 * `$animateCss` is the underlying code that ngAnimate uses to power **CSS-based animations** behind the scenes. Therefore CSS hooks
 * like `.ng-EVENT`, `.ng-EVENT-active`, `.ng-EVENT-stagger` are all features that can be triggered using `$animateCss` via JavaScript code.
 *
 * This also means that just about any combination of adding classes, removing classes, setting styles, dynamically setting a keyframe animation,
 * applying a hardcoded duration or delay value, changing the animation easing or applying a stagger animation are all options that work with
 * `$animateCss`. The service itself is smart enough to figure out the combination of options and examine the element styling properties in order
 * to provide a working animation that will run in CSS.
 *
 * The example below showcases a more advanced version of the `.fold-animation` from the example above:
 *
 * ```js
 * ngModule.animation('.fold-animation', ['$animateCss', function($animateCss) {
 *   return {
 *     enter: function(element, doneFn) {
 *       var height = element[0].offsetHeight;
 *       return $animateCss(element, {
 *         addClass: 'red large-text pulse-twice',
 *         easing: 'ease-out',
 *         from: { height:'0px' },
 *         to: { height:height + 'px' },
 *         duration: 1 // one second
 *       });
 *     }
 *   }
 * }]);
 * ```
 *
 * Since we're adding/removing CSS classes then the CSS transition will also pick those up:
 *
 * ```css
 * /&#42; since a hardcoded duration value of 1 was provided in the JavaScript animation code,
 * the CSS classes below will be transitioned despite them being defined as regular CSS classes &#42;/
 * .red { background:red; }
 * .large-text { font-size:20px; }
 *
 * /&#42; we can also use a keyframe animation and $animateCss will make it work alongside the transition &#42;/
 * .pulse-twice {
 *   animation: 0.5s pulse linear 2;
 *   -webkit-animation: 0.5s pulse linear 2;
 * }
 *
 * @keyframes pulse {
 *   from { transform: scale(0.5); }
 *   to { transform: scale(1.5); }
 * }
 *
 * @-webkit-keyframes pulse {
 *   from { -webkit-transform: scale(0.5); }
 *   to { -webkit-transform: scale(1.5); }
 * }
 * ```
 *
 * Given this complex combination of CSS classes, styles and options, `$animateCss` will figure everything out and make the animation happen.
 *
 * ## How the Options are handled
 *
 * `$animateCss` is very versatile and intelligent when it comes to figuring out what configurations to apply to the element to ensure the animation
 * works with the options provided. Say for example we were adding a class that contained a keyframe value and we wanted to also animate some inline
 * styles using the `from` and `to` properties.
 *
 * ```js
 * var animator = $animateCss(element, {
 *   from: { background:'red' },
 *   to: { background:'blue' }
 * });
 * animator.start();
 * ```
 *
 * ```css
 * .rotating-animation {
 *   animation:0.5s rotate linear;
 *   -webkit-animation:0.5s rotate linear;
 * }
 *
 * @keyframes rotate {
 *   from { transform: rotate(0deg); }
 *   to { transform: rotate(360deg); }
 * }
 *
 * @-webkit-keyframes rotate {
 *   from { -webkit-transform: rotate(0deg); }
 *   to { -webkit-transform: rotate(360deg); }
 * }
 * ```
 *
 * The missing pieces here are that we do not have a transition set (within the CSS code nor within the `$animateCss` options) and the duration of the animation is
 * going to be detected from what the keyframe styles on the CSS class are. In this event, `$animateCss` will automatically create an inline transition
 * style matching the duration detected from the keyframe style (which is present in the CSS class that is being added) and then prepare both the transition
 * and keyframe animations to run in parallel on the element. Then when the animation is underway the provided `from` and `to` CSS styles will be applied
 * and spread across the transition and keyframe animation.
 *
 * ## What is returned
 *
 * `$animateCss` works in two stages: a preparation phase and an animation phase. Therefore when `$animateCss` is first called it will NOT actually
 * start the animation. All that is going on here is that the element is being prepared for the animation (which means that the generated CSS classes are
 * added and removed on the element). Once `$animateCss` is called it will return an object with the following properties:
 *
 * ```js
 * var animator = $animateCss(element, { ... });
 * ```
 *
 * Now what do the contents of our `animator` variable look like:
 *
 * ```js
 * {
 *   // starts the animation
 *   start: Function,
 *
 *   // ends (aborts) the animation
 *   end: Function
 * }
 * ```
 *
 * To actually start the animation we need to run `animation.start()` which will then return a promise that we can hook into to detect when the animation ends.
 * If we choose not to run the animation then we MUST run `animation.end()` to perform a cleanup on the element (since some CSS classes and stlyes may have been
 * applied to the element during the preparation phase). Note that all other properties such as duration, delay, transitions and keyframes are just properties
 * and that changing them will not reconfigure the parameters of the animation.
 *
 * ### runner.done() vs runner.then()
 * It is documented that `animation.start()` will return a promise object and this is true, however, there is also an additional method available on the
 * runner called `.done(callbackFn)`. The done method works the same as `.finally(callbackFn)`, however, it does **not trigger a digest to occur**.
 * Therefore, for performance reasons, it's always best to use `runner.done(callback)` instead of `runner.then()`, `runner.catch()` or `runner.finally()`
 * unless you really need a digest to kick off afterwards.
 *
 * Keep in mind that, to make this easier, ngAnimate has tweaked the JS animations API to recognize when a runner instance is returned from $animateCss
 * (so there is no need to call `runner.done(doneFn)` inside of your JavaScript animation code).
 * Check the {@link ngAnimate.$animateCss#usage animation code above} to see how this works.
 *
 * @param {DOMElement} element the element that will be animated
 * @param {object} options the animation-related options that will be applied during the animation
 *
 * * `event` - The DOM event (e.g. enter, leave, move). When used, a generated CSS class of `ng-EVENT` and `ng-EVENT-active` will be applied
 * to the element during the animation. Multiple events can be provided when spaces are used as a separator. (Note that this will not perform any DOM operation.)
 * * `easing` - The CSS easing value that will be applied to the transition or keyframe animation (or both).
 * * `transition` - The raw CSS transition style that will be used (e.g. `1s linear all`).
 * * `keyframeStyle` - The raw CSS keyframe animation style that will be used (e.g. `1s my_animation linear`).
 * * `from` - The starting CSS styles (a key/value object) that will be applied at the start of the animation.
 * * `to` - The ending CSS styles (a key/value object) that will be applied across the animation via a CSS transition.
 * * `addClass` - A space separated list of CSS classes that will be added to the element and spread across the animation.
 * * `removeClass` - A space separated list of CSS classes that will be removed from the element and spread across the animation.
 * * `duration` - A number value representing the total duration of the transition and/or keyframe (note that a value of 1 is 1000ms). If a value of `0`
 * is provided then the animation will be skipped entirely.
 * * `delay` - A number value representing the total delay of the transition and/or keyframe (note that a value of 1 is 1000ms). If a value of `true` is
 * used then whatever delay value is detected from the CSS classes will be mirrored on the elements styles (e.g. by setting delay true then the style value
 * of the element will be `transition-delay: DETECTED_VALUE`). Using `true` is useful when you want the CSS classes and inline styles to all share the same
 * CSS delay value.
 * * `stagger` - A numeric time value representing the delay between successively animated elements
 * ({@link ngAnimate#css-staggering-animations Click here to learn how CSS-based staggering works in ngAnimate.})
 * * `staggerIndex` - The numeric index representing the stagger item (e.g. a value of 5 is equal to the sixth item in the stagger; therefore when a
 * `stagger` option value of `0.1` is used then there will be a stagger delay of `600ms`)
 * `applyClassesEarly` - Whether or not the classes being added or removed will be used when detecting the animation. This is set by `$animate` when enter/leave/move animations are fired to ensure that the CSS classes are resolved in time. (Note that this will prevent any transitions from occuring on the classes being added and removed.)
 *
 * @return {object} an object with start and end methods and details about the animation.
 *
 * * `start` - The method to start the animation. This will return a `Promise` when called.
 * * `end` - This method will cancel the animation and remove all applied CSS classes and styles.
 */

// Detect proper transitionend/animationend event names.
var CSS_PREFIX = '', TRANSITION_PROP, TRANSITIONEND_EVENT, ANIMATION_PROP, ANIMATIONEND_EVENT;

// If unprefixed events are not supported but webkit-prefixed are, use the latter.
// Otherwise, just use W3C names, browsers not supporting them at all will just ignore them.
// Note: Chrome implements `window.onwebkitanimationend` and doesn't implement `window.onanimationend`
// but at the same time dispatches the `animationend` event and not `webkitAnimationEnd`.
// Register both events in case `window.onanimationend` is not supported because of that,
// do the same for `transitionend` as Safari is likely to exhibit similar behavior.
// Also, the only modern browser that uses vendor prefixes for transitions/keyframes is webkit
// therefore there is no reason to test anymore for other vendor prefixes:
// http://caniuse.com/#search=transition
if (window.ontransitionend === undefined && window.onwebkittransitionend !== undefined) {
  CSS_PREFIX = '-webkit-';
  TRANSITION_PROP = 'WebkitTransition';
  TRANSITIONEND_EVENT = 'webkitTransitionEnd transitionend';
} else {
  TRANSITION_PROP = 'transition';
  TRANSITIONEND_EVENT = 'transitionend';
}

if (window.onanimationend === undefined && window.onwebkitanimationend !== undefined) {
  CSS_PREFIX = '-webkit-';
  ANIMATION_PROP = 'WebkitAnimation';
  ANIMATIONEND_EVENT = 'webkitAnimationEnd animationend';
} else {
  ANIMATION_PROP = 'animation';
  ANIMATIONEND_EVENT = 'animationend';
}

var DURATION_KEY = 'Duration';
var PROPERTY_KEY = 'Property';
var DELAY_KEY = 'Delay';
var TIMING_KEY = 'TimingFunction';
var ANIMATION_ITERATION_COUNT_KEY = 'IterationCount';
var ANIMATION_PLAYSTATE_KEY = 'PlayState';
var ELAPSED_TIME_MAX_DECIMAL_PLACES = 3;
var CLOSING_TIME_BUFFER = 1.5;
var ONE_SECOND = 1000;
var BASE_TEN = 10;

var SAFE_FAST_FORWARD_DURATION_VALUE = 9999;

var ANIMATION_DELAY_PROP = ANIMATION_PROP + DELAY_KEY;
var ANIMATION_DURATION_PROP = ANIMATION_PROP + DURATION_KEY;

var TRANSITION_DELAY_PROP = TRANSITION_PROP + DELAY_KEY;
var TRANSITION_DURATION_PROP = TRANSITION_PROP + DURATION_KEY;

var DETECT_CSS_PROPERTIES = {
  transitionDuration:      TRANSITION_DURATION_PROP,
  transitionDelay:         TRANSITION_DELAY_PROP,
  transitionProperty:      TRANSITION_PROP + PROPERTY_KEY,
  animationDuration:       ANIMATION_DURATION_PROP,
  animationDelay:          ANIMATION_DELAY_PROP,
  animationIterationCount: ANIMATION_PROP + ANIMATION_ITERATION_COUNT_KEY
};

var DETECT_STAGGER_CSS_PROPERTIES = {
  transitionDuration:      TRANSITION_DURATION_PROP,
  transitionDelay:         TRANSITION_DELAY_PROP,
  animationDuration:       ANIMATION_DURATION_PROP,
  animationDelay:          ANIMATION_DELAY_PROP
};

function computeCssStyles($window, element, properties) {
  var styles = Object.create(null);
  var detectedStyles = $window.getComputedStyle(element) || {};
  forEach(properties, function(formalStyleName, actualStyleName) {
    var val = detectedStyles[formalStyleName];
    if (val) {
      var c = val.charAt(0);

      // only numerical-based values have a negative sign or digit as the first value
      if (c === '-' || c === '+' || c >= 0) {
        val = parseMaxTime(val);
      }

      // by setting this to null in the event that the delay is not set or is set directly as 0
      // then we can still allow for zegative values to be used later on and not mistake this
      // value for being greater than any other negative value.
      if (val === 0) {
        val = null;
      }
      styles[actualStyleName] = val;
    }
  });

  return styles;
}

function parseMaxTime(str) {
  var maxValue = 0;
  var values = str.split(/\s*,\s*/);
  forEach(values, function(value) {
    // it's always safe to consider only second values and omit `ms` values since
    // getComputedStyle will always handle the conversion for us
    if (value.charAt(value.length - 1) == 's') {
      value = value.substring(0, value.length - 1);
    }
    value = parseFloat(value) || 0;
    maxValue = maxValue ? Math.max(value, maxValue) : value;
  });
  return maxValue;
}

function truthyTimingValue(val) {
  return val === 0 || val != null;
}

function getCssTransitionDurationStyle(duration, applyOnlyDuration) {
  var style = TRANSITION_PROP;
  var value = duration + 's';
  if (applyOnlyDuration) {
    style += DURATION_KEY;
  } else {
    value += ' linear all';
  }
  return [style, value];
}

function getCssKeyframeDurationStyle(duration) {
  return [ANIMATION_DURATION_PROP, duration + 's'];
}

function getCssDelayStyle(delay, isKeyframeAnimation) {
  var prop = isKeyframeAnimation ? ANIMATION_DELAY_PROP : TRANSITION_DELAY_PROP;
  return [prop, delay + 's'];
}

function blockTransitions(node, duration) {
  // we use a negative delay value since it performs blocking
  // yet it doesn't kill any existing transitions running on the
  // same element which makes this safe for class-based animations
  var value = duration ? '-' + duration + 's' : '';
  applyInlineStyle(node, [TRANSITION_DELAY_PROP, value]);
  return [TRANSITION_DELAY_PROP, value];
}

function blockKeyframeAnimations(node, applyBlock) {
  var value = applyBlock ? 'paused' : '';
  var key = ANIMATION_PROP + ANIMATION_PLAYSTATE_KEY;
  applyInlineStyle(node, [key, value]);
  return [key, value];
}

function applyInlineStyle(node, styleTuple) {
  var prop = styleTuple[0];
  var value = styleTuple[1];
  node.style[prop] = value;
}

function createLocalCacheLookup() {
  var cache = Object.create(null);
  return {
    flush: function() {
      cache = Object.create(null);
    },

    count: function(key) {
      var entry = cache[key];
      return entry ? entry.total : 0;
    },

    get: function(key) {
      var entry = cache[key];
      return entry && entry.value;
    },

    put: function(key, value) {
      if (!cache[key]) {
        cache[key] = { total: 1, value: value };
      } else {
        cache[key].total++;
      }
    }
  };
}

var $AnimateCssProvider = ['$animateProvider', function($animateProvider) {
  var gcsLookup = createLocalCacheLookup();
  var gcsStaggerLookup = createLocalCacheLookup();

  this.$get = ['$window', '$$jqLite', '$$AnimateRunner', '$timeout',
               '$document', '$sniffer', '$$rAFScheduler',
       function($window,   $$jqLite,   $$AnimateRunner,   $timeout,
                $document,   $sniffer,   $$rAFScheduler) {

    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

    var parentCounter = 0;
    function gcsHashFn(node, extraClasses) {
      var KEY = "$$ngAnimateParentKey";
      var parentNode = node.parentNode;
      var parentID = parentNode[KEY] || (parentNode[KEY] = ++parentCounter);
      return parentID + '-' + node.getAttribute('class') + '-' + extraClasses;
    }

    function computeCachedCssStyles(node, className, cacheKey, properties) {
      var timings = gcsLookup.get(cacheKey);

      if (!timings) {
        timings = computeCssStyles($window, node, properties);
        if (timings.animationIterationCount === 'infinite') {
          timings.animationIterationCount = 1;
        }
      }

      // we keep putting this in multiple times even though the value and the cacheKey are the same
      // because we're keeping an interal tally of how many duplicate animations are detected.
      gcsLookup.put(cacheKey, timings);
      return timings;
    }

    function computeCachedCssStaggerStyles(node, className, cacheKey, properties) {
      var stagger;

      // if we have one or more existing matches of matching elements
      // containing the same parent + CSS styles (which is how cacheKey works)
      // then staggering is possible
      if (gcsLookup.count(cacheKey) > 0) {
        stagger = gcsStaggerLookup.get(cacheKey);

        if (!stagger) {
          var staggerClassName = pendClasses(className, '-stagger');

          $$jqLite.addClass(node, staggerClassName);

          stagger = computeCssStyles($window, node, properties);

          // force the conversion of a null value to zero incase not set
          stagger.animationDuration = Math.max(stagger.animationDuration, 0);
          stagger.transitionDuration = Math.max(stagger.transitionDuration, 0);

          $$jqLite.removeClass(node, staggerClassName);

          gcsStaggerLookup.put(cacheKey, stagger);
        }
      }

      return stagger || {};
    }

    var bod = getDomNode($document).body;
    var rafWaitQueue = [];
    function waitUntilQuiet(callback) {
      rafWaitQueue.push(callback);
      $$rAFScheduler.waitUntilQuiet(function() {
        gcsLookup.flush();
        gcsStaggerLookup.flush();

        //the line below will force the browser to perform a repaint so
        //that all the animated elements within the animation frame will
        //be properly updated and drawn on screen. This is required to
        //ensure that the preparation animation is properly flushed so that
        //the active state picks up from there. DO NOT REMOVE THIS LINE.
        //DO NOT OPTIMIZE THIS LINE. THE MINIFIER WILL REMOVE IT OTHERWISE WHICH
        //WILL RESULT IN AN UNPREDICTABLE BUG THAT IS VERY HARD TO TRACK DOWN AND
        //WILL TAKE YEARS AWAY FROM YOUR LIFE.
        var width = bod.offsetWidth + 1;

        // we use a for loop to ensure that if the queue is changed
        // during this looping then it will consider new requests
        for (var i = 0; i < rafWaitQueue.length; i++) {
          rafWaitQueue[i](width);
        }
        rafWaitQueue.length = 0;
      });
    }

    return init;

    function computeTimings(node, className, cacheKey) {
      var timings = computeCachedCssStyles(node, className, cacheKey, DETECT_CSS_PROPERTIES);
      var aD = timings.animationDelay;
      var tD = timings.transitionDelay;
      timings.maxDelay = aD && tD
          ? Math.max(aD, tD)
          : (aD || tD);
      timings.maxDuration = Math.max(
          timings.animationDuration * timings.animationIterationCount,
          timings.transitionDuration);

      return timings;
    }

    function init(element, options) {
      var node = getDomNode(element);
      if (!node || !node.parentNode) {
        return closeAndReturnNoopAnimator();
      }

      options = prepareAnimationOptions(options);

      var temporaryStyles = [];
      var classes = element.attr('class');
      var styles = packageStyles(options);
      var animationClosed;
      var animationPaused;
      var animationCompleted;
      var runner;
      var runnerHost;
      var maxDelay;
      var maxDelayTime;
      var maxDuration;
      var maxDurationTime;

      if (options.duration === 0 || (!$sniffer.animations && !$sniffer.transitions)) {
        return closeAndReturnNoopAnimator();
      }

      var method = options.event && isArray(options.event)
            ? options.event.join(' ')
            : options.event;

      var isStructural = method && options.structural;
      var structuralClassName = '';
      var addRemoveClassName = '';

      if (isStructural) {
        structuralClassName = pendClasses(method, 'ng-', true);
      } else if (method) {
        structuralClassName = method;
      }

      if (options.addClass) {
        addRemoveClassName += pendClasses(options.addClass, '-add');
      }

      if (options.removeClass) {
        if (addRemoveClassName.length) {
          addRemoveClassName += ' ';
        }
        addRemoveClassName += pendClasses(options.removeClass, '-remove');
      }

      // there may be a situation where a structural animation is combined together
      // with CSS classes that need to resolve before the animation is computed.
      // However this means that there is no explicit CSS code to block the animation
      // from happening (by setting 0s none in the class name). If this is the case
      // we need to apply the classes before the first rAF so we know to continue if
      // there actually is a detected transition or keyframe animation
      if (options.applyClassesEarly && addRemoveClassName.length) {
        applyAnimationClasses(element, options);
        addRemoveClassName = '';
      }

      var setupClasses = [structuralClassName, addRemoveClassName].join(' ').trim();
      var fullClassName = classes + ' ' + setupClasses;
      var activeClasses = pendClasses(setupClasses, '-active');
      var hasToStyles = styles.to && Object.keys(styles.to).length > 0;
      var containsKeyframeAnimation = (options.keyframeStyle || '').length > 0;

      // there is no way we can trigger an animation if no styles and
      // no classes are being applied which would then trigger a transition,
      // unless there a is raw keyframe value that is applied to the element.
      if (!containsKeyframeAnimation
           && !hasToStyles
           && !setupClasses) {
        return closeAndReturnNoopAnimator();
      }

      var cacheKey, stagger;
      if (options.stagger > 0) {
        var staggerVal = parseFloat(options.stagger);
        stagger = {
          transitionDelay: staggerVal,
          animationDelay: staggerVal,
          transitionDuration: 0,
          animationDuration: 0
        };
      } else {
        cacheKey = gcsHashFn(node, fullClassName);
        stagger = computeCachedCssStaggerStyles(node, setupClasses, cacheKey, DETECT_STAGGER_CSS_PROPERTIES);
      }

      $$jqLite.addClass(element, setupClasses);

      var applyOnlyDuration;

      if (options.transitionStyle) {
        var transitionStyle = [TRANSITION_PROP, options.transitionStyle];
        applyInlineStyle(node, transitionStyle);
        temporaryStyles.push(transitionStyle);
      }

      if (options.duration >= 0) {
        applyOnlyDuration = node.style[TRANSITION_PROP].length > 0;
        var durationStyle = getCssTransitionDurationStyle(options.duration, applyOnlyDuration);

        // we set the duration so that it will be picked up by getComputedStyle later
        applyInlineStyle(node, durationStyle);
        temporaryStyles.push(durationStyle);
      }

      if (options.keyframeStyle) {
        var keyframeStyle = [ANIMATION_PROP, options.keyframeStyle];
        applyInlineStyle(node, keyframeStyle);
        temporaryStyles.push(keyframeStyle);
      }

      var itemIndex = stagger
          ? options.staggerIndex >= 0
              ? options.staggerIndex
              : gcsLookup.count(cacheKey)
          : 0;

      var isFirst = itemIndex === 0;

      // this is a pre-emptive way of forcing the setup classes to be added and applied INSTANTLY
      // without causing any combination of transitions to kick in. By adding a negative delay value
      // it forces the setup class' transition to end immediately. We later then remove the negative
      // transition delay to allow for the transition to naturally do it's thing. The beauty here is
      // that if there is no transition defined then nothing will happen and this will also allow
      // other transitions to be stacked on top of each other without any chopping them out.
      if (isFirst) {
        blockTransitions(node, SAFE_FAST_FORWARD_DURATION_VALUE);
      }

      var timings = computeTimings(node, fullClassName, cacheKey);
      var relativeDelay = timings.maxDelay;
      maxDelay = Math.max(relativeDelay, 0);
      maxDuration = timings.maxDuration;

      var flags = {};
      flags.hasTransitions          = timings.transitionDuration > 0;
      flags.hasAnimations           = timings.animationDuration > 0;
      flags.hasTransitionAll        = flags.hasTransitions && timings.transitionProperty == 'all';
      flags.applyTransitionDuration = hasToStyles && (
                                        (flags.hasTransitions && !flags.hasTransitionAll)
                                         || (flags.hasAnimations && !flags.hasTransitions));
      flags.applyAnimationDuration  = options.duration && flags.hasAnimations;
      flags.applyTransitionDelay    = truthyTimingValue(options.delay) && (flags.applyTransitionDuration || flags.hasTransitions);
      flags.applyAnimationDelay     = truthyTimingValue(options.delay) && flags.hasAnimations;
      flags.recalculateTimingStyles = addRemoveClassName.length > 0;

      if (flags.applyTransitionDuration || flags.applyAnimationDuration) {
        maxDuration = options.duration ? parseFloat(options.duration) : maxDuration;

        if (flags.applyTransitionDuration) {
          flags.hasTransitions = true;
          timings.transitionDuration = maxDuration;
          applyOnlyDuration = node.style[TRANSITION_PROP + PROPERTY_KEY].length > 0;
          temporaryStyles.push(getCssTransitionDurationStyle(maxDuration, applyOnlyDuration));
        }

        if (flags.applyAnimationDuration) {
          flags.hasAnimations = true;
          timings.animationDuration = maxDuration;
          temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration));
        }
      }

      if (maxDuration === 0 && !flags.recalculateTimingStyles) {
        return closeAndReturnNoopAnimator();
      }

      // we need to recalculate the delay value since we used a pre-emptive negative
      // delay value and the delay value is required for the final event checking. This
      // property will ensure that this will happen after the RAF phase has passed.
      if (options.duration == null && timings.transitionDuration > 0) {
        flags.recalculateTimingStyles = flags.recalculateTimingStyles || isFirst;
      }

      maxDelayTime = maxDelay * ONE_SECOND;
      maxDurationTime = maxDuration * ONE_SECOND;
      if (!options.skipBlocking) {
        flags.blockTransition = timings.transitionDuration > 0;
        flags.blockKeyframeAnimation = timings.animationDuration > 0 &&
                                       stagger.animationDelay > 0 &&
                                       stagger.animationDuration === 0;
      }

      applyAnimationFromStyles(element, options);
      if (!flags.blockTransition) {
        blockTransitions(node, false);
      }

      applyBlocking(maxDuration);

      // TODO(matsko): for 1.5 change this code to have an animator object for better debugging
      return {
        $$willAnimate: true,
        end: endFn,
        start: function() {
          if (animationClosed) return;

          runnerHost = {
            end: endFn,
            cancel: cancelFn,
            resume: null, //this will be set during the start() phase
            pause: null
          };

          runner = new $$AnimateRunner(runnerHost);

          waitUntilQuiet(start);

          // we don't have access to pause/resume the animation
          // since it hasn't run yet. AnimateRunner will therefore
          // set noop functions for resume and pause and they will
          // later be overridden once the animation is triggered
          return runner;
        }
      };

      function endFn() {
        close();
      }

      function cancelFn() {
        close(true);
      }

      function close(rejected) { // jshint ignore:line
        // if the promise has been called already then we shouldn't close
        // the animation again
        if (animationClosed || (animationCompleted && animationPaused)) return;
        animationClosed = true;
        animationPaused = false;

        $$jqLite.removeClass(element, setupClasses);
        $$jqLite.removeClass(element, activeClasses);

        blockKeyframeAnimations(node, false);
        blockTransitions(node, false);

        forEach(temporaryStyles, function(entry) {
          // There is only one way to remove inline style properties entirely from elements.
          // By using `removeProperty` this works, but we need to convert camel-cased CSS
          // styles down to hyphenated values.
          node.style[entry[0]] = '';
        });

        applyAnimationClasses(element, options);
        applyAnimationStyles(element, options);

        // the reason why we have this option is to allow a synchronous closing callback
        // that is fired as SOON as the animation ends (when the CSS is removed) or if
        // the animation never takes off at all. A good example is a leave animation since
        // the element must be removed just after the animation is over or else the element
        // will appear on screen for one animation frame causing an overbearing flicker.
        if (options.onDone) {
          options.onDone();
        }

        // if the preparation function fails then the promise is not setup
        if (runner) {
          runner.complete(!rejected);
        }
      }

      function applyBlocking(duration) {
        if (flags.blockTransition) {
          blockTransitions(node, duration);
        }

        if (flags.blockKeyframeAnimation) {
          blockKeyframeAnimations(node, !!duration);
        }
      }

      function closeAndReturnNoopAnimator() {
        runner = new $$AnimateRunner({
          end: endFn,
          cancel: cancelFn
        });

        close();

        return {
          $$willAnimate: false,
          start: function() {
            return runner;
          },
          end: endFn
        };
      }

      function start() {
        if (animationClosed) return;
        if (!node.parentNode) {
          close();
          return;
        }

        var startTime, events = [];

        // even though we only pause keyframe animations here the pause flag
        // will still happen when transitions are used. Only the transition will
        // not be paused since that is not possible. If the animation ends when
        // paused then it will not complete until unpaused or cancelled.
        var playPause = function(playAnimation) {
          if (!animationCompleted) {
            animationPaused = !playAnimation;
            if (timings.animationDuration) {
              var value = blockKeyframeAnimations(node, animationPaused);
              animationPaused
                  ? temporaryStyles.push(value)
                  : removeFromArray(temporaryStyles, value);
            }
          } else if (animationPaused && playAnimation) {
            animationPaused = false;
            close();
          }
        };

        // checking the stagger duration prevents an accidently cascade of the CSS delay style
        // being inherited from the parent. If the transition duration is zero then we can safely
        // rely that the delay value is an intential stagger delay style.
        var maxStagger = itemIndex > 0
                         && ((timings.transitionDuration && stagger.transitionDuration === 0) ||
                            (timings.animationDuration && stagger.animationDuration === 0))
                         && Math.max(stagger.animationDelay, stagger.transitionDelay);
        if (maxStagger) {
          $timeout(triggerAnimationStart,
                   Math.floor(maxStagger * itemIndex * ONE_SECOND),
                   false);
        } else {
          triggerAnimationStart();
        }

        // this will decorate the existing promise runner with pause/resume methods
        runnerHost.resume = function() {
          playPause(true);
        };

        runnerHost.pause = function() {
          playPause(false);
        };

        function triggerAnimationStart() {
          // just incase a stagger animation kicks in when the animation
          // itself was cancelled entirely
          if (animationClosed) return;

          applyBlocking(false);

          forEach(temporaryStyles, function(entry) {
            var key = entry[0];
            var value = entry[1];
            node.style[key] = value;
          });

          applyAnimationClasses(element, options);
          $$jqLite.addClass(element, activeClasses);

          if (flags.recalculateTimingStyles) {
            fullClassName = node.className + ' ' + setupClasses;
            cacheKey = gcsHashFn(node, fullClassName);

            timings = computeTimings(node, fullClassName, cacheKey);
            relativeDelay = timings.maxDelay;
            maxDelay = Math.max(relativeDelay, 0);
            maxDuration = timings.maxDuration;

            if (maxDuration === 0) {
              close();
              return;
            }

            flags.hasTransitions = timings.transitionDuration > 0;
            flags.hasAnimations = timings.animationDuration > 0;
          }

          if (flags.applyTransitionDelay || flags.applyAnimationDelay) {
            relativeDelay = typeof options.delay !== "boolean" && truthyTimingValue(options.delay)
                  ? parseFloat(options.delay)
                  : relativeDelay;

            maxDelay = Math.max(relativeDelay, 0);

            var delayStyle;
            if (flags.applyTransitionDelay) {
              timings.transitionDelay = relativeDelay;
              delayStyle = getCssDelayStyle(relativeDelay);
              temporaryStyles.push(delayStyle);
              node.style[delayStyle[0]] = delayStyle[1];
            }

            if (flags.applyAnimationDelay) {
              timings.animationDelay = relativeDelay;
              delayStyle = getCssDelayStyle(relativeDelay, true);
              temporaryStyles.push(delayStyle);
              node.style[delayStyle[0]] = delayStyle[1];
            }
          }

          maxDelayTime = maxDelay * ONE_SECOND;
          maxDurationTime = maxDuration * ONE_SECOND;

          if (options.easing) {
            var easeProp, easeVal = options.easing;
            if (flags.hasTransitions) {
              easeProp = TRANSITION_PROP + TIMING_KEY;
              temporaryStyles.push([easeProp, easeVal]);
              node.style[easeProp] = easeVal;
            }
            if (flags.hasAnimations) {
              easeProp = ANIMATION_PROP + TIMING_KEY;
              temporaryStyles.push([easeProp, easeVal]);
              node.style[easeProp] = easeVal;
            }
          }

          if (timings.transitionDuration) {
            events.push(TRANSITIONEND_EVENT);
          }

          if (timings.animationDuration) {
            events.push(ANIMATIONEND_EVENT);
          }

          startTime = Date.now();
          element.on(events.join(' '), onAnimationProgress);
          $timeout(onAnimationExpired, maxDelayTime + CLOSING_TIME_BUFFER * maxDurationTime);

          applyAnimationToStyles(element, options);
        }

        function onAnimationExpired() {
          // although an expired animation is a failed animation, getting to
          // this outcome is very easy if the CSS code screws up. Therefore we
          // should still continue normally as if the animation completed correctly.
          close();
        }

        function onAnimationProgress(event) {
          event.stopPropagation();
          var ev = event.originalEvent || event;
          var timeStamp = ev.$manualTimeStamp || ev.timeStamp || Date.now();

          /* Firefox (or possibly just Gecko) likes to not round values up
           * when a ms measurement is used for the animation */
          var elapsedTime = parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));

          /* $manualTimeStamp is a mocked timeStamp value which is set
           * within browserTrigger(). This is only here so that tests can
           * mock animations properly. Real events fallback to event.timeStamp,
           * or, if they don't, then a timeStamp is automatically created for them.
           * We're checking to see if the timeStamp surpasses the expected delay,
           * but we're using elapsedTime instead of the timeStamp on the 2nd
           * pre-condition since animations sometimes close off early */
          if (Math.max(timeStamp - startTime, 0) >= maxDelayTime && elapsedTime >= maxDuration) {
            // we set this flag to ensure that if the transition is paused then, when resumed,
            // the animation will automatically close itself since transitions cannot be paused.
            animationCompleted = true;
            close();
          }
        }
      }
    }
  }];
}];

var $$AnimateCssDriverProvider = ['$$animationProvider', function($$animationProvider) {
  $$animationProvider.drivers.push('$$animateCssDriver');

  var NG_ANIMATE_SHIM_CLASS_NAME = 'ng-animate-shim';
  var NG_ANIMATE_ANCHOR_CLASS_NAME = 'ng-anchor';

  var NG_OUT_ANCHOR_CLASS_NAME = 'ng-anchor-out';
  var NG_IN_ANCHOR_CLASS_NAME = 'ng-anchor-in';

  this.$get = ['$animateCss', '$rootScope', '$$AnimateRunner', '$rootElement', '$document', '$sniffer',
       function($animateCss,   $rootScope,   $$AnimateRunner,   $rootElement,   $document,   $sniffer) {

    // only browsers that support these properties can render animations
    if (!$sniffer.animations && !$sniffer.transitions) return noop;

    var bodyNode = getDomNode($document).body;
    var rootNode = getDomNode($rootElement);

    var rootBodyElement = jqLite(bodyNode.parentNode === rootNode ? bodyNode : rootNode);

    return function initDriverFn(animationDetails) {
      return animationDetails.from && animationDetails.to
          ? prepareFromToAnchorAnimation(animationDetails.from,
                                         animationDetails.to,
                                         animationDetails.classes,
                                         animationDetails.anchors)
          : prepareRegularAnimation(animationDetails);
    };

    function filterCssClasses(classes) {
      //remove all the `ng-` stuff
      return classes.replace(/\bng-\S+\b/g, '');
    }

    function getUniqueValues(a, b) {
      if (isString(a)) a = a.split(' ');
      if (isString(b)) b = b.split(' ');
      return a.filter(function(val) {
        return b.indexOf(val) === -1;
      }).join(' ');
    }

    function prepareAnchoredAnimation(classes, outAnchor, inAnchor) {
      var clone = jqLite(getDomNode(outAnchor).cloneNode(true));
      var startingClasses = filterCssClasses(getClassVal(clone));

      outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME);
      inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME);

      clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME);

      rootBodyElement.append(clone);

      var animatorIn, animatorOut = prepareOutAnimation();

      // the user may not end up using the `out` animation and
      // only making use of the `in` animation or vice-versa.
      // In either case we should allow this and not assume the
      // animation is over unless both animations are not used.
      if (!animatorOut) {
        animatorIn = prepareInAnimation();
        if (!animatorIn) {
          return end();
        }
      }

      var startingAnimator = animatorOut || animatorIn;

      return {
        start: function() {
          var runner;

          var currentAnimation = startingAnimator.start();
          currentAnimation.done(function() {
            currentAnimation = null;
            if (!animatorIn) {
              animatorIn = prepareInAnimation();
              if (animatorIn) {
                currentAnimation = animatorIn.start();
                currentAnimation.done(function() {
                  currentAnimation = null;
                  end();
                  runner.complete();
                });
                return currentAnimation;
              }
            }
            // in the event that there is no `in` animation
            end();
            runner.complete();
          });

          runner = new $$AnimateRunner({
            end: endFn,
            cancel: endFn
          });

          return runner;

          function endFn() {
            if (currentAnimation) {
              currentAnimation.end();
            }
          }
        }
      };

      function calculateAnchorStyles(anchor) {
        var styles = {};

        var coords = getDomNode(anchor).getBoundingClientRect();

        // we iterate directly since safari messes up and doesn't return
        // all the keys for the coods object when iterated
        forEach(['width','height','top','left'], function(key) {
          var value = coords[key];
          switch (key) {
            case 'top':
              value += bodyNode.scrollTop;
              break;
            case 'left':
              value += bodyNode.scrollLeft;
              break;
          }
          styles[key] = Math.floor(value) + 'px';
        });
        return styles;
      }

      function prepareOutAnimation() {
        var animator = $animateCss(clone, {
          addClass: NG_OUT_ANCHOR_CLASS_NAME,
          delay: true,
          from: calculateAnchorStyles(outAnchor)
        });

        // read the comment within `prepareRegularAnimation` to understand
        // why this check is necessary
        return animator.$$willAnimate ? animator : null;
      }

      function getClassVal(element) {
        return element.attr('class') || '';
      }

      function prepareInAnimation() {
        var endingClasses = filterCssClasses(getClassVal(inAnchor));
        var toAdd = getUniqueValues(endingClasses, startingClasses);
        var toRemove = getUniqueValues(startingClasses, endingClasses);

        var animator = $animateCss(clone, {
          to: calculateAnchorStyles(inAnchor),
          addClass: NG_IN_ANCHOR_CLASS_NAME + ' ' + toAdd,
          removeClass: NG_OUT_ANCHOR_CLASS_NAME + ' ' + toRemove,
          delay: true
        });

        // read the comment within `prepareRegularAnimation` to understand
        // why this check is necessary
        return animator.$$willAnimate ? animator : null;
      }

      function end() {
        clone.remove();
        outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME);
        inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME);
      }
    }

    function prepareFromToAnchorAnimation(from, to, classes, anchors) {
      var fromAnimation = prepareRegularAnimation(from);
      var toAnimation = prepareRegularAnimation(to);

      var anchorAnimations = [];
      forEach(anchors, function(anchor) {
        var outElement = anchor['out'];
        var inElement = anchor['in'];
        var animator = prepareAnchoredAnimation(classes, outElement, inElement);
        if (animator) {
          anchorAnimations.push(animator);
        }
      });

      // no point in doing anything when there are no elements to animate
      if (!fromAnimation && !toAnimation && anchorAnimations.length === 0) return;

      return {
        start: function() {
          var animationRunners = [];

          if (fromAnimation) {
            animationRunners.push(fromAnimation.start());
          }

          if (toAnimation) {
            animationRunners.push(toAnimation.start());
          }

          forEach(anchorAnimations, function(animation) {
            animationRunners.push(animation.start());
          });

          var runner = new $$AnimateRunner({
            end: endFn,
            cancel: endFn // CSS-driven animations cannot be cancelled, only ended
          });

          $$AnimateRunner.all(animationRunners, function(status) {
            runner.complete(status);
          });

          return runner;

          function endFn() {
            forEach(animationRunners, function(runner) {
              runner.end();
            });
          }
        }
      };
    }

    function prepareRegularAnimation(animationDetails) {
      var element = animationDetails.element;
      var options = animationDetails.options || {};

      if (animationDetails.structural) {
        // structural animations ensure that the CSS classes are always applied
        // before the detection starts.
        options.structural = options.applyClassesEarly = true;

        // we special case the leave animation since we want to ensure that
        // the element is removed as soon as the animation is over. Otherwise
        // a flicker might appear or the element may not be removed at all
        options.event = animationDetails.event;
        if (options.event === 'leave') {
          options.onDone = options.domOperation;
        }
      } else {
        options.event = null;
      }

      var animator = $animateCss(element, options);

      // the driver lookup code inside of $$animation attempts to spawn a
      // driver one by one until a driver returns a.$$willAnimate animator object.
      // $animateCss will always return an object, however, it will pass in
      // a flag as a hint as to whether an animation was detected or not
      return animator.$$willAnimate ? animator : null;
    }
  }];
}];

// TODO(matsko): use caching here to speed things up for detection
// TODO(matsko): add documentation
//  by the time...

var $$AnimateJsProvider = ['$animateProvider', function($animateProvider) {
  this.$get = ['$injector', '$$AnimateRunner', '$$rAFMutex', '$$jqLite',
       function($injector,   $$AnimateRunner,   $$rAFMutex,   $$jqLite) {

    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);
         // $animateJs(element, 'enter');
    return function(element, event, classes, options) {
      // the `classes` argument is optional and if it is not used
      // then the classes will be resolved from the element's className
      // property as well as options.addClass/options.removeClass.
      if (arguments.length === 3 && isObject(classes)) {
        options = classes;
        classes = null;
      }

      options = prepareAnimationOptions(options);
      if (!classes) {
        classes = element.attr('class') || '';
        if (options.addClass) {
          classes += ' ' + options.addClass;
        }
        if (options.removeClass) {
          classes += ' ' + options.removeClass;
        }
      }

      var classesToAdd = options.addClass;
      var classesToRemove = options.removeClass;

      // the lookupAnimations function returns a series of animation objects that are
      // matched up with one or more of the CSS classes. These animation objects are
      // defined via the module.animation factory function. If nothing is detected then
      // we don't return anything which then makes $animation query the next driver.
      var animations = lookupAnimations(classes);
      var before, after;
      if (animations.length) {
        var afterFn, beforeFn;
        if (event == 'leave') {
          beforeFn = 'leave';
          afterFn = 'afterLeave'; // TODO(matsko): get rid of this
        } else {
          beforeFn = 'before' + event.charAt(0).toUpperCase() + event.substr(1);
          afterFn = event;
        }

        if (event !== 'enter' && event !== 'move') {
          before = packageAnimations(element, event, options, animations, beforeFn);
        }
        after  = packageAnimations(element, event, options, animations, afterFn);
      }

      // no matching animations
      if (!before && !after) return;

      function applyOptions() {
        options.domOperation();
        applyAnimationClasses(element, options);
      }

      return {
        start: function() {
          var closeActiveAnimations;
          var chain = [];

          if (before) {
            chain.push(function(fn) {
              closeActiveAnimations = before(fn);
            });
          }

          if (chain.length) {
            chain.push(function(fn) {
              applyOptions();
              fn(true);
            });
          } else {
            applyOptions();
          }

          if (after) {
            chain.push(function(fn) {
              closeActiveAnimations = after(fn);
            });
          }

          var animationClosed = false;
          var runner = new $$AnimateRunner({
            end: function() {
              endAnimations();
            },
            cancel: function() {
              endAnimations(true);
            }
          });

          $$AnimateRunner.chain(chain, onComplete);
          return runner;

          function onComplete(success) {
            animationClosed = true;
            applyOptions();
            applyAnimationStyles(element, options);
            runner.complete(success);
          }

          function endAnimations(cancelled) {
            if (!animationClosed) {
              (closeActiveAnimations || noop)(cancelled);
              onComplete(cancelled);
            }
          }
        }
      };

      function executeAnimationFn(fn, element, event, options, onDone) {
        var args;
        switch (event) {
          case 'animate':
            args = [element, options.from, options.to, onDone];
            break;

          case 'setClass':
            args = [element, classesToAdd, classesToRemove, onDone];
            break;

          case 'addClass':
            args = [element, classesToAdd, onDone];
            break;

          case 'removeClass':
            args = [element, classesToRemove, onDone];
            break;

          default:
            args = [element, onDone];
            break;
        }

        args.push(options);

        var value = fn.apply(fn, args);
        if (value) {
          if (isFunction(value.start)) {
            value = value.start();
          }

          if (value instanceof $$AnimateRunner) {
            value.done(onDone);
          } else if (isFunction(value)) {
            // optional onEnd / onCancel callback
            return value;
          }
        }

        return noop;
      }

      function groupEventedAnimations(element, event, options, animations, fnName) {
        var operations = [];
        forEach(animations, function(ani) {
          var animation = ani[fnName];
          if (!animation) return;

          // note that all of these animations will run in parallel
          operations.push(function() {
            var runner;
            var endProgressCb;

            var resolved = false;
            var onAnimationComplete = function(rejected) {
              if (!resolved) {
                resolved = true;
                (endProgressCb || noop)(rejected);
                runner.complete(!rejected);
              }
            };

            runner = new $$AnimateRunner({
              end: function() {
                onAnimationComplete();
              },
              cancel: function() {
                onAnimationComplete(true);
              }
            });

            endProgressCb = executeAnimationFn(animation, element, event, options, function(result) {
              var cancelled = result === false;
              onAnimationComplete(cancelled);
            });

            return runner;
          });
        });

        return operations;
      }

      function packageAnimations(element, event, options, animations, fnName) {
        var operations = groupEventedAnimations(element, event, options, animations, fnName);
        if (operations.length === 0) {
          var a,b;
          if (fnName === 'beforeSetClass') {
            a = groupEventedAnimations(element, 'removeClass', options, animations, 'beforeRemoveClass');
            b = groupEventedAnimations(element, 'addClass', options, animations, 'beforeAddClass');
          } else if (fnName === 'setClass') {
            a = groupEventedAnimations(element, 'removeClass', options, animations, 'removeClass');
            b = groupEventedAnimations(element, 'addClass', options, animations, 'addClass');
          }

          if (a) {
            operations = operations.concat(a);
          }
          if (b) {
            operations = operations.concat(b);
          }
        }

        if (operations.length === 0) return;

        // TODO(matsko): add documentation
        return function startAnimation(callback) {
          var runners = [];
          if (operations.length) {
            forEach(operations, function(animateFn) {
              runners.push(animateFn());
            });
          }

          runners.length ? $$AnimateRunner.all(runners, callback) : callback();

          return function endFn(reject) {
            forEach(runners, function(runner) {
              reject ? runner.cancel() : runner.end();
            });
          };
        };
      }
    };

    function lookupAnimations(classes) {
      classes = isArray(classes) ? classes : classes.split(' ');
      var matches = [], flagMap = {};
      for (var i=0; i < classes.length; i++) {
        var klass = classes[i],
            animationFactory = $animateProvider.$$registeredAnimations[klass];
        if (animationFactory && !flagMap[klass]) {
          matches.push($injector.get(animationFactory));
          flagMap[klass] = true;
        }
      }
      return matches;
    }
  }];
}];

var $$AnimateJsDriverProvider = ['$$animationProvider', function($$animationProvider) {
  $$animationProvider.drivers.push('$$animateJsDriver');
  this.$get = ['$$animateJs', '$$AnimateRunner', function($$animateJs, $$AnimateRunner) {
    return function initDriverFn(animationDetails) {
      if (animationDetails.from && animationDetails.to) {
        var fromAnimation = prepareAnimation(animationDetails.from);
        var toAnimation = prepareAnimation(animationDetails.to);
        if (!fromAnimation && !toAnimation) return;

        return {
          start: function() {
            var animationRunners = [];

            if (fromAnimation) {
              animationRunners.push(fromAnimation.start());
            }

            if (toAnimation) {
              animationRunners.push(toAnimation.start());
            }

            $$AnimateRunner.all(animationRunners, done);

            var runner = new $$AnimateRunner({
              end: endFnFactory(),
              cancel: endFnFactory()
            });

            return runner;

            function endFnFactory() {
              return function() {
                forEach(animationRunners, function(runner) {
                  // at this point we cannot cancel animations for groups just yet. 1.5+
                  runner.end();
                });
              };
            }

            function done(status) {
              runner.complete(status);
            }
          }
        };
      } else {
        return prepareAnimation(animationDetails);
      }
    };

    function prepareAnimation(animationDetails) {
      // TODO(matsko): make sure to check for grouped animations and delegate down to normal animations
      var element = animationDetails.element;
      var event = animationDetails.event;
      var options = animationDetails.options;
      var classes = animationDetails.classes;
      return $$animateJs(element, event, classes, options);
    }
  }];
}];

var NG_ANIMATE_ATTR_NAME = 'data-ng-animate';
var NG_ANIMATE_PIN_DATA = '$ngAnimatePin';
var $$AnimateQueueProvider = ['$animateProvider', function($animateProvider) {
  var PRE_DIGEST_STATE = 1;
  var RUNNING_STATE = 2;

  var rules = this.rules = {
    skip: [],
    cancel: [],
    join: []
  };

  function isAllowed(ruleType, element, currentAnimation, previousAnimation) {
    return rules[ruleType].some(function(fn) {
      return fn(element, currentAnimation, previousAnimation);
    });
  }

  function hasAnimationClasses(options, and) {
    options = options || {};
    var a = (options.addClass || '').length > 0;
    var b = (options.removeClass || '').length > 0;
    return and ? a && b : a || b;
  }

  rules.join.push(function(element, newAnimation, currentAnimation) {
    // if the new animation is class-based then we can just tack that on
    return !newAnimation.structural && hasAnimationClasses(newAnimation.options);
  });

  rules.skip.push(function(element, newAnimation, currentAnimation) {
    // there is no need to animate anything if no classes are being added and
    // there is no structural animation that will be triggered
    return !newAnimation.structural && !hasAnimationClasses(newAnimation.options);
  });

  rules.skip.push(function(element, newAnimation, currentAnimation) {
    // why should we trigger a new structural animation if the element will
    // be removed from the DOM anyway?
    return currentAnimation.event == 'leave' && newAnimation.structural;
  });

  rules.skip.push(function(element, newAnimation, currentAnimation) {
    // if there is a current animation then skip the class-based animation
    return currentAnimation.structural && !newAnimation.structural;
  });

  rules.cancel.push(function(element, newAnimation, currentAnimation) {
    // there can never be two structural animations running at the same time
    return currentAnimation.structural && newAnimation.structural;
  });

  rules.cancel.push(function(element, newAnimation, currentAnimation) {
    // if the previous animation is already running, but the new animation will
    // be triggered, but the new animation is structural
    return currentAnimation.state === RUNNING_STATE && newAnimation.structural;
  });

  rules.cancel.push(function(element, newAnimation, currentAnimation) {
    var nO = newAnimation.options;
    var cO = currentAnimation.options;

    // if the exact same CSS class is added/removed then it's safe to cancel it
    return (nO.addClass && nO.addClass === cO.removeClass) || (nO.removeClass && nO.removeClass === cO.addClass);
  });

  this.$get = ['$$rAF', '$rootScope', '$rootElement', '$document', '$$HashMap',
               '$$animation', '$$AnimateRunner', '$templateRequest', '$$jqLite',
       function($$rAF,   $rootScope,   $rootElement,   $document,   $$HashMap,
                $$animation,   $$AnimateRunner,   $templateRequest,   $$jqLite) {

    var activeAnimationsLookup = new $$HashMap();
    var disabledElementsLookup = new $$HashMap();

    var animationsEnabled = null;

    // Wait until all directive and route-related templates are downloaded and
    // compiled. The $templateRequest.totalPendingRequests variable keeps track of
    // all of the remote templates being currently downloaded. If there are no
    // templates currently downloading then the watcher will still fire anyway.
    var deregisterWatch = $rootScope.$watch(
      function() { return $templateRequest.totalPendingRequests === 0; },
      function(isEmpty) {
        if (!isEmpty) return;
        deregisterWatch();

        // Now that all templates have been downloaded, $animate will wait until
        // the post digest queue is empty before enabling animations. By having two
        // calls to $postDigest calls we can ensure that the flag is enabled at the
        // very end of the post digest queue. Since all of the animations in $animate
        // use $postDigest, it's important that the code below executes at the end.
        // This basically means that the page is fully downloaded and compiled before
        // any animations are triggered.
        $rootScope.$$postDigest(function() {
          $rootScope.$$postDigest(function() {
            // we check for null directly in the event that the application already called
            // .enabled() with whatever arguments that it provided it with
            if (animationsEnabled === null) {
              animationsEnabled = true;
            }
          });
        });
      }
    );

    var bodyElement = jqLite($document[0].body);

    var callbackRegistry = {};

    // remember that the classNameFilter is set during the provider/config
    // stage therefore we can optimize here and setup a helper function
    var classNameFilter = $animateProvider.classNameFilter();
    var isAnimatableClassName = !classNameFilter
              ? function() { return true; }
              : function(className) {
                return classNameFilter.test(className);
              };

    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

    function normalizeAnimationOptions(element, options) {
      return mergeAnimationOptions(element, options, {});
    }

    function findCallbacks(element, event) {
      var targetNode = getDomNode(element);

      var matches = [];
      var entries = callbackRegistry[event];
      if (entries) {
        forEach(entries, function(entry) {
          if (entry.node.contains(targetNode)) {
            matches.push(entry.callback);
          }
        });
      }

      return matches;
    }

    function triggerCallback(event, element, phase, data) {
      $$rAF(function() {
        forEach(findCallbacks(element, event), function(callback) {
          callback(element, phase, data);
        });
      });
    }

    return {
      on: function(event, container, callback) {
        var node = extractElementNode(container);
        callbackRegistry[event] = callbackRegistry[event] || [];
        callbackRegistry[event].push({
          node: node,
          callback: callback
        });
      },

      off: function(event, container, callback) {
        var entries = callbackRegistry[event];
        if (!entries) return;

        callbackRegistry[event] = arguments.length === 1
            ? null
            : filterFromRegistry(entries, container, callback);

        function filterFromRegistry(list, matchContainer, matchCallback) {
          var containerNode = extractElementNode(matchContainer);
          return list.filter(function(entry) {
            var isMatch = entry.node === containerNode &&
                            (!matchCallback || entry.callback === matchCallback);
            return !isMatch;
          });
        }
      },

      pin: function(element, parentElement) {
        assertArg(isElement(element), 'element', 'not an element');
        assertArg(isElement(parentElement), 'parentElement', 'not an element');
        element.data(NG_ANIMATE_PIN_DATA, parentElement);
      },

      push: function(element, event, options, domOperation) {
        options = options || {};
        options.domOperation = domOperation;
        return queueAnimation(element, event, options);
      },

      // this method has four signatures:
      //  () - global getter
      //  (bool) - global setter
      //  (element) - element getter
      //  (element, bool) - element setter<F37>
      enabled: function(element, bool) {
        var argCount = arguments.length;

        if (argCount === 0) {
          // () - Global getter
          bool = !!animationsEnabled;
        } else {
          var hasElement = isElement(element);

          if (!hasElement) {
            // (bool) - Global setter
            bool = animationsEnabled = !!element;
          } else {
            var node = getDomNode(element);
            var recordExists = disabledElementsLookup.get(node);

            if (argCount === 1) {
              // (element) - Element getter
              bool = !recordExists;
            } else {
              // (element, bool) - Element setter
              bool = !!bool;
              if (!bool) {
                disabledElementsLookup.put(node, true);
              } else if (recordExists) {
                disabledElementsLookup.remove(node);
              }
            }
          }
        }

        return bool;
      }
    };

    function queueAnimation(element, event, options) {
      var node, parent;
      element = stripCommentsFromElement(element);
      if (element) {
        node = getDomNode(element);
        parent = element.parent();
      }

      options = prepareAnimationOptions(options);

      // we create a fake runner with a working promise.
      // These methods will become available after the digest has passed
      var runner = new $$AnimateRunner();

      // there are situations where a directive issues an animation for
      // a jqLite wrapper that contains only comment nodes... If this
      // happens then there is no way we can perform an animation
      if (!node) {
        close();
        return runner;
      }

      if (isArray(options.addClass)) {
        options.addClass = options.addClass.join(' ');
      }

      if (isArray(options.removeClass)) {
        options.removeClass = options.removeClass.join(' ');
      }

      if (options.from && !isObject(options.from)) {
        options.from = null;
      }

      if (options.to && !isObject(options.to)) {
        options.to = null;
      }

      var className = [node.className, options.addClass, options.removeClass].join(' ');
      if (!isAnimatableClassName(className)) {
        close();
        return runner;
      }

      var isStructural = ['enter', 'move', 'leave'].indexOf(event) >= 0;

      // this is a hard disable of all animations for the application or on
      // the element itself, therefore  there is no need to continue further
      // past this point if not enabled
      var skipAnimations = !animationsEnabled || disabledElementsLookup.get(node);
      var existingAnimation = (!skipAnimations && activeAnimationsLookup.get(node)) || {};
      var hasExistingAnimation = !!existingAnimation.state;

      // there is no point in traversing the same collection of parent ancestors if a followup
      // animation will be run on the same element that already did all that checking work
      if (!skipAnimations && (!hasExistingAnimation || existingAnimation.state != PRE_DIGEST_STATE)) {
        skipAnimations = !areAnimationsAllowed(element, parent, event);
      }

      if (skipAnimations) {
        close();
        return runner;
      }

      if (isStructural) {
        closeChildAnimations(element);
      }

      var newAnimation = {
        structural: isStructural,
        element: element,
        event: event,
        close: close,
        options: options,
        runner: runner
      };

      if (hasExistingAnimation) {
        var skipAnimationFlag = isAllowed('skip', element, newAnimation, existingAnimation);
        if (skipAnimationFlag) {
          if (existingAnimation.state === RUNNING_STATE) {
            close();
            return runner;
          } else {
            mergeAnimationOptions(element, existingAnimation.options, options);
            return existingAnimation.runner;
          }
        }

        var cancelAnimationFlag = isAllowed('cancel', element, newAnimation, existingAnimation);
        if (cancelAnimationFlag) {
          if (existingAnimation.state === RUNNING_STATE) {
            // this will end the animation right away and it is safe
            // to do so since the animation is already running and the
            // runner callback code will run in async
            existingAnimation.runner.end();
          } else if (existingAnimation.structural) {
            // this means that the animation is queued into a digest, but
            // hasn't started yet. Therefore it is safe to run the close
            // method which will call the runner methods in async.
            existingAnimation.close();
          } else {
            // this will merge the existing animation options into this new follow-up animation
            mergeAnimationOptions(element, newAnimation.options, existingAnimation.options);
          }
        } else {
          // a joined animation means that this animation will take over the existing one
          // so an example would involve a leave animation taking over an enter. Then when
          // the postDigest kicks in the enter will be ignored.
          var joinAnimationFlag = isAllowed('join', element, newAnimation, existingAnimation);
          if (joinAnimationFlag) {
            if (existingAnimation.state === RUNNING_STATE) {
              normalizeAnimationOptions(element, options);
            } else {
              event = newAnimation.event = existingAnimation.event;
              options = mergeAnimationOptions(element, existingAnimation.options, newAnimation.options);
              return runner;
            }
          }
        }
      } else {
        // normalization in this case means that it removes redundant CSS classes that
        // already exist (addClass) or do not exist (removeClass) on the element
        normalizeAnimationOptions(element, options);
      }

      // when the options are merged and cleaned up we may end up not having to do
      // an animation at all, therefore we should check this before issuing a post
      // digest callback. Structural animations will always run no matter what.
      var isValidAnimation = newAnimation.structural;
      if (!isValidAnimation) {
        // animate (from/to) can be quickly checked first, otherwise we check if any classes are present
        isValidAnimation = (newAnimation.event === 'animate' && Object.keys(newAnimation.options.to || {}).length > 0)
                            || hasAnimationClasses(newAnimation.options);
      }

      if (!isValidAnimation) {
        close();
        clearElementAnimationState(element);
        return runner;
      }

      if (isStructural) {
        closeParentClassBasedAnimations(parent);
      }

      // the counter keeps track of cancelled animations
      var counter = (existingAnimation.counter || 0) + 1;
      newAnimation.counter = counter;

      markElementAnimationState(element, PRE_DIGEST_STATE, newAnimation);

      $rootScope.$$postDigest(function() {
        var animationDetails = activeAnimationsLookup.get(node);
        var animationCancelled = !animationDetails;
        animationDetails = animationDetails || {};

        // if addClass/removeClass is called before something like enter then the
        // registered parent element may not be present. The code below will ensure
        // that a final value for parent element is obtained
        var parentElement = element.parent() || [];

        // animate/structural/class-based animations all have requirements. Otherwise there
        // is no point in performing an animation. The parent node must also be set.
        var isValidAnimation = parentElement.length > 0
                                && (animationDetails.event === 'animate'
                                    || animationDetails.structural
                                    || hasAnimationClasses(animationDetails.options));

        // this means that the previous animation was cancelled
        // even if the follow-up animation is the same event
        if (animationCancelled || animationDetails.counter !== counter || !isValidAnimation) {
          // if another animation did not take over then we need
          // to make sure that the domOperation and options are
          // handled accordingly
          if (animationCancelled) {
            applyAnimationClasses(element, options);
            applyAnimationStyles(element, options);
          }

          // if the event changed from something like enter to leave then we do
          // it, otherwise if it's the same then the end result will be the same too
          if (animationCancelled || (isStructural && animationDetails.event !== event)) {
            options.domOperation();
            runner.end();
          }

          // in the event that the element animation was not cancelled or a follow-up animation
          // isn't allowed to animate from here then we need to clear the state of the element
          // so that any future animations won't read the expired animation data.
          if (!isValidAnimation) {
            clearElementAnimationState(element);
          }

          return;
        }

        // this combined multiple class to addClass / removeClass into a setClass event
        // so long as a structural event did not take over the animation
        event = !animationDetails.structural && hasAnimationClasses(animationDetails.options, true)
            ? 'setClass'
            : animationDetails.event;

        if (animationDetails.structural) {
          closeParentClassBasedAnimations(parentElement);
        }

        markElementAnimationState(element, RUNNING_STATE);
        var realRunner = $$animation(element, event, animationDetails.options);
        realRunner.done(function(status) {
          close(!status);
          var animationDetails = activeAnimationsLookup.get(node);
          if (animationDetails && animationDetails.counter === counter) {
            clearElementAnimationState(getDomNode(element));
          }
          notifyProgress(runner, event, 'close', {});
        });

        // this will update the runner's flow-control events based on
        // the `realRunner` object.
        runner.setHost(realRunner);
        notifyProgress(runner, event, 'start', {});
      });

      return runner;

      function notifyProgress(runner, event, phase, data) {
        triggerCallback(event, element, phase, data);
        runner.progress(event, phase, data);
      }

      function close(reject) { // jshint ignore:line
        applyAnimationClasses(element, options);
        applyAnimationStyles(element, options);
        options.domOperation();
        runner.complete(!reject);
      }
    }

    function closeChildAnimations(element) {
      var node = getDomNode(element);
      var children = node.querySelectorAll('[' + NG_ANIMATE_ATTR_NAME + ']');
      forEach(children, function(child) {
        var state = parseInt(child.getAttribute(NG_ANIMATE_ATTR_NAME));
        var animationDetails = activeAnimationsLookup.get(child);
        switch (state) {
          case RUNNING_STATE:
            animationDetails.runner.end();
            /* falls through */
          case PRE_DIGEST_STATE:
            if (animationDetails) {
              activeAnimationsLookup.remove(child);
            }
            break;
        }
      });
    }

    function clearElementAnimationState(element) {
      var node = getDomNode(element);
      node.removeAttribute(NG_ANIMATE_ATTR_NAME);
      activeAnimationsLookup.remove(node);
    }

    function isMatchingElement(nodeOrElmA, nodeOrElmB) {
      return getDomNode(nodeOrElmA) === getDomNode(nodeOrElmB);
    }

    function closeParentClassBasedAnimations(startingElement) {
      var parentNode = getDomNode(startingElement);
      do {
        if (!parentNode || parentNode.nodeType !== ELEMENT_NODE) break;

        var animationDetails = activeAnimationsLookup.get(parentNode);
        if (animationDetails) {
          examineParentAnimation(parentNode, animationDetails);
        }

        parentNode = parentNode.parentNode;
      } while (true);

      // since animations are detected from CSS classes, we need to flush all parent
      // class-based animations so that the parent classes are all present for child
      // animations to properly function (otherwise any CSS selectors may not work)
      function examineParentAnimation(node, animationDetails) {
        // enter/leave/move always have priority
        if (animationDetails.structural || !hasAnimationClasses(animationDetails.options)) return;

        if (animationDetails.state === RUNNING_STATE) {
          animationDetails.runner.end();
        }
        clearElementAnimationState(node);
      }
    }

    function areAnimationsAllowed(element, parentElement, event) {
      var bodyElementDetected = false;
      var rootElementDetected = false;
      var parentAnimationDetected = false;
      var animateChildren;

      var parentHost = element.data(NG_ANIMATE_PIN_DATA);
      if (parentHost) {
        parentElement = parentHost;
      }

      while (parentElement && parentElement.length) {
        if (!rootElementDetected) {
          // angular doesn't want to attempt to animate elements outside of the application
          // therefore we need to ensure that the rootElement is an ancestor of the current element
          rootElementDetected = isMatchingElement(parentElement, $rootElement);
        }

        var parentNode = parentElement[0];
        if (parentNode.nodeType !== ELEMENT_NODE) {
          // no point in inspecting the #document element
          break;
        }

        var details = activeAnimationsLookup.get(parentNode) || {};
        // either an enter, leave or move animation will commence
        // therefore we can't allow any animations to take place
        // but if a parent animation is class-based then that's ok
        if (!parentAnimationDetected) {
          parentAnimationDetected = details.structural || disabledElementsLookup.get(parentNode);
        }

        if (isUndefined(animateChildren) || animateChildren === true) {
          var value = parentElement.data(NG_ANIMATE_CHILDREN_DATA);
          if (isDefined(value)) {
            animateChildren = value;
          }
        }

        // there is no need to continue traversing at this point
        if (parentAnimationDetected && animateChildren === false) break;

        if (!rootElementDetected) {
          // angular doesn't want to attempt to animate elements outside of the application
          // therefore we need to ensure that the rootElement is an ancestor of the current element
          rootElementDetected = isMatchingElement(parentElement, $rootElement);
          if (!rootElementDetected) {
            parentHost = parentElement.data(NG_ANIMATE_PIN_DATA);
            if (parentHost) {
              parentElement = parentHost;
            }
          }
        }

        if (!bodyElementDetected) {
          // we also need to ensure that the element is or will be apart of the body element
          // otherwise it is pointless to even issue an animation to be rendered
          bodyElementDetected = isMatchingElement(parentElement, bodyElement);
        }

        parentElement = parentElement.parent();
      }

      var allowAnimation = !parentAnimationDetected || animateChildren;
      return allowAnimation && rootElementDetected && bodyElementDetected;
    }

    function markElementAnimationState(element, state, details) {
      details = details || {};
      details.state = state;

      var node = getDomNode(element);
      node.setAttribute(NG_ANIMATE_ATTR_NAME, state);

      var oldValue = activeAnimationsLookup.get(node);
      var newValue = oldValue
          ? extend(oldValue, details)
          : details;
      activeAnimationsLookup.put(node, newValue);
    }
  }];
}];

var $$rAFMutexFactory = ['$$rAF', function($$rAF) {
  return function() {
    var passed = false;
    $$rAF(function() {
      passed = true;
    });
    return function(fn) {
      passed ? fn() : $$rAF(fn);
    };
  };
}];

var $$AnimateRunnerFactory = ['$q', '$$rAFMutex', function($q, $$rAFMutex) {
  var INITIAL_STATE = 0;
  var DONE_PENDING_STATE = 1;
  var DONE_COMPLETE_STATE = 2;

  AnimateRunner.chain = function(chain, callback) {
    var index = 0;

    next();
    function next() {
      if (index === chain.length) {
        callback(true);
        return;
      }

      chain[index](function(response) {
        if (response === false) {
          callback(false);
          return;
        }
        index++;
        next();
      });
    }
  };

  AnimateRunner.all = function(runners, callback) {
    var count = 0;
    var status = true;
    forEach(runners, function(runner) {
      runner.done(onProgress);
    });

    function onProgress(response) {
      status = status && response;
      if (++count === runners.length) {
        callback(status);
      }
    }
  };

  function AnimateRunner(host) {
    this.setHost(host);

    this._doneCallbacks = [];
    this._runInAnimationFrame = $$rAFMutex();
    this._state = 0;
  }

  AnimateRunner.prototype = {
    setHost: function(host) {
      this.host = host || {};
    },

    done: function(fn) {
      if (this._state === DONE_COMPLETE_STATE) {
        fn();
      } else {
        this._doneCallbacks.push(fn);
      }
    },

    progress: noop,

    getPromise: function() {
      if (!this.promise) {
        var self = this;
        this.promise = $q(function(resolve, reject) {
          self.done(function(status) {
            status === false ? reject() : resolve();
          });
        });
      }
      return this.promise;
    },

    then: function(resolveHandler, rejectHandler) {
      return this.getPromise().then(resolveHandler, rejectHandler);
    },

    'catch': function(handler) {
      return this.getPromise()['catch'](handler);
    },

    'finally': function(handler) {
      return this.getPromise()['finally'](handler);
    },

    pause: function() {
      if (this.host.pause) {
        this.host.pause();
      }
    },

    resume: function() {
      if (this.host.resume) {
        this.host.resume();
      }
    },

    end: function() {
      if (this.host.end) {
        this.host.end();
      }
      this._resolve(true);
    },

    cancel: function() {
      if (this.host.cancel) {
        this.host.cancel();
      }
      this._resolve(false);
    },

    complete: function(response) {
      var self = this;
      if (self._state === INITIAL_STATE) {
        self._state = DONE_PENDING_STATE;
        self._runInAnimationFrame(function() {
          self._resolve(response);
        });
      }
    },

    _resolve: function(response) {
      if (this._state !== DONE_COMPLETE_STATE) {
        forEach(this._doneCallbacks, function(fn) {
          fn(response);
        });
        this._doneCallbacks.length = 0;
        this._state = DONE_COMPLETE_STATE;
      }
    }
  };

  return AnimateRunner;
}];

var $$AnimationProvider = ['$animateProvider', function($animateProvider) {
  var NG_ANIMATE_REF_ATTR = 'ng-animate-ref';

  var drivers = this.drivers = [];

  var RUNNER_STORAGE_KEY = '$$animationRunner';

  function setRunner(element, runner) {
    element.data(RUNNER_STORAGE_KEY, runner);
  }

  function removeRunner(element) {
    element.removeData(RUNNER_STORAGE_KEY);
  }

  function getRunner(element) {
    return element.data(RUNNER_STORAGE_KEY);
  }

  this.$get = ['$$jqLite', '$rootScope', '$injector', '$$AnimateRunner', '$$rAFScheduler',
       function($$jqLite,   $rootScope,   $injector,   $$AnimateRunner,   $$rAFScheduler) {

    var animationQueue = [];
    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

    var totalPendingClassBasedAnimations = 0;
    var totalActiveClassBasedAnimations = 0;
    var classBasedAnimationsQueue = [];

    // TODO(matsko): document the signature in a better way
    return function(element, event, options) {
      options = prepareAnimationOptions(options);
      var isStructural = ['enter', 'move', 'leave'].indexOf(event) >= 0;

      // there is no animation at the current moment, however
      // these runner methods will get later updated with the
      // methods leading into the driver's end/cancel methods
      // for now they just stop the animation from starting
      var runner = new $$AnimateRunner({
        end: function() { close(); },
        cancel: function() { close(true); }
      });

      if (!drivers.length) {
        close();
        return runner;
      }

      setRunner(element, runner);

      var classes = mergeClasses(element.attr('class'), mergeClasses(options.addClass, options.removeClass));
      var tempClasses = options.tempClasses;
      if (tempClasses) {
        classes += ' ' + tempClasses;
        options.tempClasses = null;
      }

      var classBasedIndex;
      if (!isStructural) {
        classBasedIndex = totalPendingClassBasedAnimations;
        totalPendingClassBasedAnimations += 1;
      }

      animationQueue.push({
        // this data is used by the postDigest code and passed into
        // the driver step function
        element: element,
        classes: classes,
        event: event,
        classBasedIndex: classBasedIndex,
        structural: isStructural,
        options: options,
        beforeStart: beforeStart,
        close: close
      });

      element.on('$destroy', handleDestroyedElement);

      // we only want there to be one function called within the post digest
      // block. This way we can group animations for all the animations that
      // were apart of the same postDigest flush call.
      if (animationQueue.length > 1) return runner;

      $rootScope.$$postDigest(function() {
        totalActiveClassBasedAnimations = totalPendingClassBasedAnimations;
        totalPendingClassBasedAnimations = 0;
        classBasedAnimationsQueue.length = 0;

        var animations = [];
        forEach(animationQueue, function(entry) {
          // the element was destroyed early on which removed the runner
          // form its storage. This means we can't animate this element
          // at all and it already has been closed due to destruction.
          if (getRunner(entry.element)) {
            animations.push(entry);
          }
        });

        // now any future animations will be in another postDigest
        animationQueue.length = 0;

        forEach(groupAnimations(animations), function(animationEntry) {
          if (animationEntry.structural) {
            triggerAnimationStart();
          } else {
            classBasedAnimationsQueue.push({
              node: getDomNode(animationEntry.element),
              fn: triggerAnimationStart
            });

            if (animationEntry.classBasedIndex === totalActiveClassBasedAnimations - 1) {
              // we need to sort each of the animations in order of parent to child
              // relationships. This ensures that the child classes are applied at the
              // right time.
              classBasedAnimationsQueue = classBasedAnimationsQueue.sort(function(a,b) {
                return b.node.contains(a.node);
              }).map(function(entry) {
                return entry.fn;
              });

              $$rAFScheduler(classBasedAnimationsQueue);
            }
          }

          function triggerAnimationStart() {
            // it's important that we apply the `ng-animate` CSS class and the
            // temporary classes before we do any driver invoking since these
            // CSS classes may be required for proper CSS detection.
            animationEntry.beforeStart();

            var startAnimationFn, closeFn = animationEntry.close;

            // in the event that the element was removed before the digest runs or
            // during the RAF sequencing then we should not trigger the animation.
            var targetElement = animationEntry.anchors
                ? (animationEntry.from.element || animationEntry.to.element)
                : animationEntry.element;

            if (getRunner(targetElement) && getDomNode(targetElement).parentNode) {
              var operation = invokeFirstDriver(animationEntry);
              if (operation) {
                startAnimationFn = operation.start;
              }
            }

            if (!startAnimationFn) {
              closeFn();
            } else {
              var animationRunner = startAnimationFn();
              animationRunner.done(function(status) {
                closeFn(!status);
              });
              updateAnimationRunners(animationEntry, animationRunner);
            }
          }
        });
      });

      return runner;

      // TODO(matsko): change to reference nodes
      function getAnchorNodes(node) {
        var SELECTOR = '[' + NG_ANIMATE_REF_ATTR + ']';
        var items = node.hasAttribute(NG_ANIMATE_REF_ATTR)
              ? [node]
              : node.querySelectorAll(SELECTOR);
        var anchors = [];
        forEach(items, function(node) {
          var attr = node.getAttribute(NG_ANIMATE_REF_ATTR);
          if (attr && attr.length) {
            anchors.push(node);
          }
        });
        return anchors;
      }

      function groupAnimations(animations) {
        var preparedAnimations = [];
        var refLookup = {};
        forEach(animations, function(animation, index) {
          var element = animation.element;
          var node = getDomNode(element);
          var event = animation.event;
          var enterOrMove = ['enter', 'move'].indexOf(event) >= 0;
          var anchorNodes = animation.structural ? getAnchorNodes(node) : [];

          if (anchorNodes.length) {
            var direction = enterOrMove ? 'to' : 'from';

            forEach(anchorNodes, function(anchor) {
              var key = anchor.getAttribute(NG_ANIMATE_REF_ATTR);
              refLookup[key] = refLookup[key] || {};
              refLookup[key][direction] = {
                animationID: index,
                element: jqLite(anchor)
              };
            });
          } else {
            preparedAnimations.push(animation);
          }
        });

        var usedIndicesLookup = {};
        var anchorGroups = {};
        forEach(refLookup, function(operations, key) {
          var from = operations.from;
          var to = operations.to;

          if (!from || !to) {
            // only one of these is set therefore we can't have an
            // anchor animation since all three pieces are required
            var index = from ? from.animationID : to.animationID;
            var indexKey = index.toString();
            if (!usedIndicesLookup[indexKey]) {
              usedIndicesLookup[indexKey] = true;
              preparedAnimations.push(animations[index]);
            }
            return;
          }

          var fromAnimation = animations[from.animationID];
          var toAnimation = animations[to.animationID];
          var lookupKey = from.animationID.toString();
          if (!anchorGroups[lookupKey]) {
            var group = anchorGroups[lookupKey] = {
              structural: true,
              beforeStart: function() {
                fromAnimation.beforeStart();
                toAnimation.beforeStart();
              },
              close: function() {
                fromAnimation.close();
                toAnimation.close();
              },
              classes: cssClassesIntersection(fromAnimation.classes, toAnimation.classes),
              from: fromAnimation,
              to: toAnimation,
              anchors: [] // TODO(matsko): change to reference nodes
            };

            // the anchor animations require that the from and to elements both have at least
            // one shared CSS class which effictively marries the two elements together to use
            // the same animation driver and to properly sequence the anchor animation.
            if (group.classes.length) {
              preparedAnimations.push(group);
            } else {
              preparedAnimations.push(fromAnimation);
              preparedAnimations.push(toAnimation);
            }
          }

          anchorGroups[lookupKey].anchors.push({
            'out': from.element, 'in': to.element
          });
        });

        return preparedAnimations;
      }

      function cssClassesIntersection(a,b) {
        a = a.split(' ');
        b = b.split(' ');
        var matches = [];

        for (var i = 0; i < a.length; i++) {
          var aa = a[i];
          if (aa.substring(0,3) === 'ng-') continue;

          for (var j = 0; j < b.length; j++) {
            if (aa === b[j]) {
              matches.push(aa);
              break;
            }
          }
        }

        return matches.join(' ');
      }

      function invokeFirstDriver(animationDetails) {
        // we loop in reverse order since the more general drivers (like CSS and JS)
        // may attempt more elements, but custom drivers are more particular
        for (var i = drivers.length - 1; i >= 0; i--) {
          var driverName = drivers[i];
          if (!$injector.has(driverName)) continue; // TODO(matsko): remove this check

          var factory = $injector.get(driverName);
          var driver = factory(animationDetails);
          if (driver) {
            return driver;
          }
        }
      }

      function beforeStart() {
        element.addClass(NG_ANIMATE_CLASSNAME);
        if (tempClasses) {
          $$jqLite.addClass(element, tempClasses);
        }
      }

      function updateAnimationRunners(animation, newRunner) {
        if (animation.from && animation.to) {
          update(animation.from.element);
          update(animation.to.element);
        } else {
          update(animation.element);
        }

        function update(element) {
          getRunner(element).setHost(newRunner);
        }
      }

      function handleDestroyedElement() {
        var runner = getRunner(element);
        if (runner && (event !== 'leave' || !options.$$domOperationFired)) {
          runner.end();
        }
      }

      function close(rejected) { // jshint ignore:line
        element.off('$destroy', handleDestroyedElement);
        removeRunner(element);

        applyAnimationClasses(element, options);
        applyAnimationStyles(element, options);
        options.domOperation();

        if (tempClasses) {
          $$jqLite.removeClass(element, tempClasses);
        }

        element.removeClass(NG_ANIMATE_CLASSNAME);
        runner.complete(!rejected);
      }
    };
  }];
}];

/* global angularAnimateModule: true,

   $$rAFMutexFactory,
   $$rAFSchedulerFactory,
   $$AnimateChildrenDirective,
   $$AnimateRunnerFactory,
   $$AnimateQueueProvider,
   $$AnimationProvider,
   $AnimateCssProvider,
   $$AnimateCssDriverProvider,
   $$AnimateJsProvider,
   $$AnimateJsDriverProvider,
*/

/**
 * @ngdoc module
 * @name ngAnimate
 * @description
 *
 * The `ngAnimate` module provides support for CSS-based animations (keyframes and transitions) as well as JavaScript-based animations via
 * callback hooks. Animations are not enabled by default, however, by including `ngAnimate` then the animation hooks are enabled for an Angular app.
 *
 * <div doc-module-components="ngAnimate"></div>
 *
 * # Usage
 * Simply put, there are two ways to make use of animations when ngAnimate is used: by using **CSS** and **JavaScript**. The former works purely based
 * using CSS (by using matching CSS selectors/styles) and the latter triggers animations that are registered via `module.animation()`. For
 * both CSS and JS animations the sole requirement is to have a matching `CSS class` that exists both in the registered animation and within
 * the HTML element that the animation will be triggered on.
 *
 * ## Directive Support
 * The following directives are "animation aware":
 *
 * | Directive                                                                                                | Supported Animations                                                     |
 * |----------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
 * | {@link ng.directive:ngRepeat#animations ngRepeat}                                                        | enter, leave and move                                                    |
 * | {@link ngRoute.directive:ngView#animations ngView}                                                       | enter and leave                                                          |
 * | {@link ng.directive:ngInclude#animations ngInclude}                                                      | enter and leave                                                          |
 * | {@link ng.directive:ngSwitch#animations ngSwitch}                                                        | enter and leave                                                          |
 * | {@link ng.directive:ngIf#animations ngIf}                                                                | enter and leave                                                          |
 * | {@link ng.directive:ngClass#animations ngClass}                                                          | add and remove (the CSS class(es) present)                               |
 * | {@link ng.directive:ngShow#animations ngShow} & {@link ng.directive:ngHide#animations ngHide}            | add and remove (the ng-hide class value)                                 |
 * | {@link ng.directive:form#animation-hooks form} & {@link ng.directive:ngModel#animation-hooks ngModel}    | add and remove (dirty, pristine, valid, invalid & all other validations) |
 * | {@link module:ngMessages#animations ngMessages}                                                          | add and remove (ng-active & ng-inactive)                                 |
 * | {@link module:ngMessages#animations ngMessage}                                                           | enter and leave                                                          |
 *
 * (More information can be found by visiting each the documentation associated with each directive.)
 *
 * ## CSS-based Animations
 *
 * CSS-based animations with ngAnimate are unique since they require no JavaScript code at all. By using a CSS class that we reference between our HTML
 * and CSS code we can create an animation that will be picked up by Angular when an the underlying directive performs an operation.
 *
 * The example below shows how an `enter` animation can be made possible on a element using `ng-if`:
 *
 * ```html
 * <div ng-if="bool" class="fade">
 *    Fade me in out
 * </div>
 * <button ng-click="bool=true">Fade In!</button>
 * <button ng-click="bool=false">Fade Out!</button>
 * ```
 *
 * Notice the CSS class **fade**? We can now create the CSS transition code that references this class:
 *
 * ```css
 * /&#42; The starting CSS styles for the enter animation &#42;/
 * .fade.ng-enter {
 *   transition:0.5s linear all;
 *   opacity:0;
 * }
 *
 * /&#42; The finishing CSS styles for the enter animation &#42;/
 * .fade.ng-enter.ng-enter-active {
 *   opacity:1;
 * }
 * ```
 *
 * The key thing to remember here is that, depending on the animation event (which each of the directives above trigger depending on what's going on) two
 * generated CSS classes will be applied to the element; in the example above we have `.ng-enter` and `.ng-enter-active`. For CSS transitions, the transition
 * code **must** be defined within the starting CSS class (in this case `.ng-enter`). The destination class is what the transition will animate towards.
 *
 * If for example we wanted to create animations for `leave` and `move` (ngRepeat triggers move) then we can do so using the same CSS naming conventions:
 *
 * ```css
 * /&#42; now the element will fade out before it is removed from the DOM &#42;/
 * .fade.ng-leave {
 *   transition:0.5s linear all;
 *   opacity:1;
 * }
 * .fade.ng-leave.ng-leave-active {
 *   opacity:0;
 * }
 * ```
 *
 * We can also make use of **CSS Keyframes** by referencing the keyframe animation within the starting CSS class:
 *
 * ```css
 * /&#42; there is no need to define anything inside of the destination
 * CSS class since the keyframe will take charge of the animation &#42;/
 * .fade.ng-leave {
 *   animation: my_fade_animation 0.5s linear;
 *   -webkit-animation: my_fade_animation 0.5s linear;
 * }
 *
 * @keyframes my_fade_animation {
 *   from { opacity:1; }
 *   to { opacity:0; }
 * }
 *
 * @-webkit-keyframes my_fade_animation {
 *   from { opacity:1; }
 *   to { opacity:0; }
 * }
 * ```
 *
 * Feel free also mix transitions and keyframes together as well as any other CSS classes on the same element.
 *
 * ### CSS Class-based Animations
 *
 * Class-based animations (animations that are triggered via `ngClass`, `ngShow`, `ngHide` and some other directives) have a slightly different
 * naming convention. Class-based animations are basic enough that a standard transition or keyframe can be referenced on the class being added
 * and removed.
 *
 * For example if we wanted to do a CSS animation for `ngHide` then we place an animation on the `.ng-hide` CSS class:
 *
 * ```html
 * <div ng-show="bool" class="fade">
 *   Show and hide me
 * </div>
 * <button ng-click="bool=true">Toggle</button>
 *
 * <style>
 * .fade.ng-hide {
 *   transition:0.5s linear all;
 *   opacity:0;
 * }
 * </style>
 * ```
 *
 * All that is going on here with ngShow/ngHide behind the scenes is the `.ng-hide` class is added/removed (when the hidden state is valid). Since
 * ngShow and ngHide are animation aware then we can match up a transition and ngAnimate handles the rest.
 *
 * In addition the addition and removal of the CSS class, ngAnimate also provides two helper methods that we can use to further decorate the animation
 * with CSS styles.
 *
 * ```html
 * <div ng-class="{on:onOff}" class="highlight">
 *   Highlight this box
 * </div>
 * <button ng-click="onOff=!onOff">Toggle</button>
 *
 * <style>
 * .highlight {
 *   transition:0.5s linear all;
 * }
 * .highlight.on-add {
 *   background:white;
 * }
 * .highlight.on {
 *   background:yellow;
 * }
 * .highlight.on-remove {
 *   background:black;
 * }
 * </style>
 * ```
 *
 * We can also make use of CSS keyframes by placing them within the CSS classes.
 *
 *
 * ### CSS Staggering Animations
 * A Staggering animation is a collection of animations that are issued with a slight delay in between each successive operation resulting in a
 * curtain-like effect. The ngAnimate module (versions >=1.2) supports staggering animations and the stagger effect can be
 * performed by creating a **ng-EVENT-stagger** CSS class and attaching that class to the base CSS class used for
 * the animation. The style property expected within the stagger class can either be a **transition-delay** or an
 * **animation-delay** property (or both if your animation contains both transitions and keyframe animations).
 *
 * ```css
 * .my-animation.ng-enter {
 *   /&#42; standard transition code &#42;/
 *   transition: 1s linear all;
 *   opacity:0;
 * }
 * .my-animation.ng-enter-stagger {
 *   /&#42; this will have a 100ms delay between each successive leave animation &#42;/
 *   transition-delay: 0.1s;
 *
 *   /&#42; in case the stagger doesn't work then the duration value
 *    must be set to 0 to avoid an accidental CSS inheritance &#42;/
 *   transition-duration: 0s;
 * }
 * .my-animation.ng-enter.ng-enter-active {
 *   /&#42; standard transition styles &#42;/
 *   opacity:1;
 * }
 * ```
 *
 * Staggering animations work by default in ngRepeat (so long as the CSS class is defined). Outside of ngRepeat, to use staggering animations
 * on your own, they can be triggered by firing multiple calls to the same event on $animate. However, the restrictions surrounding this
 * are that each of the elements must have the same CSS className value as well as the same parent element. A stagger operation
 * will also be reset if one or more animation frames have passed since the multiple calls to `$animate` were fired.
 *
 * The following code will issue the **ng-leave-stagger** event on the element provided:
 *
 * ```js
 * var kids = parent.children();
 *
 * $animate.leave(kids[0]); //stagger index=0
 * $animate.leave(kids[1]); //stagger index=1
 * $animate.leave(kids[2]); //stagger index=2
 * $animate.leave(kids[3]); //stagger index=3
 * $animate.leave(kids[4]); //stagger index=4
 *
 * window.requestAnimationFrame(function() {
 *   //stagger has reset itself
 *   $animate.leave(kids[5]); //stagger index=0
 *   $animate.leave(kids[6]); //stagger index=1
 *
 *   $scope.$digest();
 * });
 * ```
 *
 * Stagger animations are currently only supported within CSS-defined animations.
 *
 * ### The `ng-animate` CSS class
 *
 * When ngAnimate is animating an element it will apply the `ng-animate` CSS class to the element for the duration of the animation.
 * This is a temporary CSS class and it will be removed once the animation is over (for both JavaScript and CSS-based animations).
 *
 * Therefore, animations can be applied to an element using this temporary class directly via CSS.
 *
 * ```css
 * .zipper.ng-animate {
 *   transition:0.5s linear all;
 * }
 * .zipper.ng-enter {
 *   opacity:0;
 * }
 * .zipper.ng-enter.ng-enter-active {
 *   opacity:1;
 * }
 * .zipper.ng-leave {
 *   opacity:1;
 * }
 * .zipper.ng-leave.ng-leave-active {
 *   opacity:0;
 * }
 * ```
 *
 * (Note that the `ng-animate` CSS class is reserved and it cannot be applied on an element directly since ngAnimate will always remove
 * the CSS class once an animation has completed.)
 *
 *
 * ## JavaScript-based Animations
 *
 * ngAnimate also allows for animations to be consumed by JavaScript code. The approach is similar to CSS-based animations (where there is a shared
 * CSS class that is referenced in our HTML code) but in addition we need to register the JavaScript animation on the module. By making use of the
 * `module.animation()` module function we can register the ainmation.
 *
 * Let's see an example of a enter/leave animation using `ngRepeat`:
 *
 * ```html
 * <div ng-repeat="item in items" class="slide">
 *   {{ item }}
 * </div>
 * ```
 *
 * See the **slide** CSS class? Let's use that class to define an animation that we'll structure in our module code by using `module.animation`:
 *
 * ```js
 * myModule.animation('.slide', [function() {
 *   return {
 *     // make note that other events (like addClass/removeClass)
 *     // have different function input parameters
 *     enter: function(element, doneFn) {
 *       jQuery(element).fadeIn(1000, doneFn);
 *
 *       // remember to call doneFn so that angular
 *       // knows that the animation has concluded
 *     },
 *
 *     move: function(element, doneFn) {
 *       jQuery(element).fadeIn(1000, doneFn);
 *     },
 *
 *     leave: function(element, doneFn) {
 *       jQuery(element).fadeOut(1000, doneFn);
 *     }
 *   }
 * }]
 * ```
 *
 * The nice thing about JS-based animations is that we can inject other services and make use of advanced animation libraries such as
 * greensock.js and velocity.js.
 *
 * If our animation code class-based (meaning that something like `ngClass`, `ngHide` and `ngShow` triggers it) then we can still define
 * our animations inside of the same registered animation, however, the function input arguments are a bit different:
 *
 * ```html
 * <div ng-class="color" class="colorful">
 *   this box is moody
 * </div>
 * <button ng-click="color='red'">Change to red</button>
 * <button ng-click="color='blue'">Change to blue</button>
 * <button ng-click="color='green'">Change to green</button>
 * ```
 *
 * ```js
 * myModule.animation('.colorful', [function() {
 *   return {
 *     addClass: function(element, className, doneFn) {
 *       // do some cool animation and call the doneFn
 *     },
 *     removeClass: function(element, className, doneFn) {
 *       // do some cool animation and call the doneFn
 *     },
 *     setClass: function(element, addedClass, removedClass, doneFn) {
 *       // do some cool animation and call the doneFn
 *     }
 *   }
 * }]
 * ```
 *
 * ## CSS + JS Animations Together
 *
 * AngularJS 1.4 and higher has taken steps to make the amalgamation of CSS and JS animations more flexible. However, unlike earlier versions of Angular,
 * defining CSS and JS animations to work off of the same CSS class will not work anymore. Therefore the example below will only result in **JS animations taking
 * charge of the animation**:
 *
 * ```html
 * <div ng-if="bool" class="slide">
 *   Slide in and out
 * </div>
 * ```
 *
 * ```js
 * myModule.animation('.slide', [function() {
 *   return {
 *     enter: function(element, doneFn) {
 *       jQuery(element).slideIn(1000, doneFn);
 *     }
 *   }
 * }]
 * ```
 *
 * ```css
 * .slide.ng-enter {
 *   transition:0.5s linear all;
 *   transform:translateY(-100px);
 * }
 * .slide.ng-enter.ng-enter-active {
 *   transform:translateY(0);
 * }
 * ```
 *
 * Does this mean that CSS and JS animations cannot be used together? Do JS-based animations always have higher priority? We can make up for the
 * lack of CSS animations by using the `$animateCss` service to trigger our own tweaked-out, CSS-based animations directly from
 * our own JS-based animation code:
 *
 * ```js
 * myModule.animation('.slide', ['$animateCss', function($animateCss) {
 *   return {
 *     enter: function(element, doneFn) {
*        // this will trigger `.slide.ng-enter` and `.slide.ng-enter-active`.
 *       var runner = $animateCss(element, {
 *         event: 'enter',
 *         structural: true
 *       }).start();
*        runner.done(doneFn);
 *     }
 *   }
 * }]
 * ```
 *
 * The nice thing here is that we can save bandwidth by sticking to our CSS-based animation code and we don't need to rely on a 3rd-party animation framework.
 *
 * The `$animateCss` service is very powerful since we can feed in all kinds of extra properties that will be evaluated and fed into a CSS transition or
 * keyframe animation. For example if we wanted to animate the height of an element while adding and removing classes then we can do so by providing that
 * data into `$animateCss` directly:
 *
 * ```js
 * myModule.animation('.slide', ['$animateCss', function($animateCss) {
 *   return {
 *     enter: function(element, doneFn) {
 *       var runner = $animateCss(element, {
 *         event: 'enter',
 *         addClass: 'maroon-setting',
 *         from: { height:0 },
 *         to: { height: 200 }
 *       }).start();
 *
 *       runner.done(doneFn);
 *     }
 *   }
 * }]
 * ```
 *
 * Now we can fill in the rest via our transition CSS code:
 *
 * ```css
 * /&#42; the transition tells ngAnimate to make the animation happen &#42;/
 * .slide.ng-enter { transition:0.5s linear all; }
 *
 * /&#42; this extra CSS class will be absorbed into the transition
 * since the $animateCss code is adding the class &#42;/
 * .maroon-setting { background:red; }
 * ```
 *
 * And `$animateCss` will figure out the rest. Just make sure to have the `done()` callback fire the `doneFn` function to signal when the animation is over.
 *
 * To learn more about what's possible be sure to visit the {@link ngAnimate.$animateCss $animateCss service}.
 *
 * ## Animation Anchoring (via `ng-animate-ref`)
 *
 * ngAnimate in AngularJS 1.4 comes packed with the ability to cross-animate elements between
 * structural areas of an application (like views) by pairing up elements using an attribute
 * called `ng-animate-ref`.
 *
 * Let's say for example we have two views that are managed by `ng-view` and we want to show
 * that there is a relationship between two components situated in within these views. By using the
 * `ng-animate-ref` attribute we can identify that the two components are paired together and we
 * can then attach an animation, which is triggered when the view changes.
 *
 * Say for example we have the following template code:
 *
 * ```html
 * <!-- index.html -->
 * <div ng-view class="view-animation">
 * </div>
 *
 * <!-- home.html -->
 * <a href="#/banner-page">
 *   <img src="./banner.jpg" class="banner" ng-animate-ref="banner">
 * </a>
 *
 * <!-- banner-page.html -->
 * <img src="./banner.jpg" class="banner" ng-animate-ref="banner">
 * ```
 *
 * Now, when the view changes (once the link is clicked), ngAnimate will examine the
 * HTML contents to see if there is a match reference between any components in the view
 * that is leaving and the view that is entering. It will scan both the view which is being
 * removed (leave) and inserted (enter) to see if there are any paired DOM elements that
 * contain a matching ref value.
 *
 * The two images match since they share the same ref value. ngAnimate will now create a
 * transport element (which is a clone of the first image element) and it will then attempt
 * to animate to the position of the second image element in the next view. For the animation to
 * work a special CSS class called `ng-anchor` will be added to the transported element.
 *
 * We can now attach a transition onto the `.banner.ng-anchor` CSS class and then
 * ngAnimate will handle the entire transition for us as well as the addition and removal of
 * any changes of CSS classes between the elements:
 *
 * ```css
 * .banner.ng-anchor {
 *   /&#42; this animation will last for 1 second since there are
 *          two phases to the animation (an `in` and an `out` phase) &#42;/
 *   transition:0.5s linear all;
 * }
 * ```
 *
 * We also **must** include animations for the views that are being entered and removed
 * (otherwise anchoring wouldn't be possible since the new view would be inserted right away).
 *
 * ```css
 * .view-animation.ng-enter, .view-animation.ng-leave {
 *   transition:0.5s linear all;
 *   position:fixed;
 *   left:0;
 *   top:0;
 *   width:100%;
 * }
 * .view-animation.ng-enter {
 *   transform:translateX(100%);
 * }
 * .view-animation.ng-leave,
 * .view-animation.ng-enter.ng-enter-active {
 *   transform:translateX(0%);
 * }
 * .view-animation.ng-leave.ng-leave-active {
 *   transform:translateX(-100%);
 * }
 * ```
 *
 * Now we can jump back to the anchor animation. When the animation happens, there are two stages that occur:
 * an `out` and an `in` stage. The `out` stage happens first and that is when the element is animated away
 * from its origin. Once that animation is over then the `in` stage occurs which animates the
 * element to its destination. The reason why there are two animations is to give enough time
 * for the enter animation on the new element to be ready.
 *
 * The example above sets up a transition for both the in and out phases, but we can also target the out or
 * in phases directly via `ng-anchor-out` and `ng-anchor-in`.
 *
 * ```css
 * .banner.ng-anchor-out {
 *   transition: 0.5s linear all;
 *
 *   /&#42; the scale will be applied during the out animation,
 *          but will be animated away when the in animation runs &#42;/
 *   transform: scale(1.2);
 * }
 *
 * .banner.ng-anchor-in {
 *   transition: 1s linear all;
 * }
 * ```
 *
 *
 *
 *
 * ### Anchoring Demo
 *
  <example module="anchoringExample"
           name="anchoringExample"
           id="anchoringExample"
           deps="angular-animate.js;angular-route.js"
           animations="true">
    <file name="index.html">
      <a href="#/">Home</a>
      <hr />
      <div class="view-container">
        <div ng-view class="view"></div>
      </div>
    </file>
    <file name="script.js">
      angular.module('anchoringExample', ['ngAnimate', 'ngRoute'])
        .config(['$routeProvider', function($routeProvider) {
          $routeProvider.when('/', {
            templateUrl: 'home.html',
            controller: 'HomeController as home'
          });
          $routeProvider.when('/profile/:id', {
            templateUrl: 'profile.html',
            controller: 'ProfileController as profile'
          });
        }])
        .run(['$rootScope', function($rootScope) {
          $rootScope.records = [
            { id:1, title: "Miss Beulah Roob" },
            { id:2, title: "Trent Morissette" },
            { id:3, title: "Miss Ava Pouros" },
            { id:4, title: "Rod Pouros" },
            { id:5, title: "Abdul Rice" },
            { id:6, title: "Laurie Rutherford Sr." },
            { id:7, title: "Nakia McLaughlin" },
            { id:8, title: "Jordon Blanda DVM" },
            { id:9, title: "Rhoda Hand" },
            { id:10, title: "Alexandrea Sauer" }
          ];
        }])
        .controller('HomeController', [function() {
          //empty
        }])
        .controller('ProfileController', ['$rootScope', '$routeParams', function($rootScope, $routeParams) {
          var index = parseInt($routeParams.id, 10);
          var record = $rootScope.records[index - 1];

          this.title = record.title;
          this.id = record.id;
        }]);
    </file>
    <file name="home.html">
      <h2>Welcome to the home page</h1>
      <p>Please click on an element</p>
      <a class="record"
         ng-href="#/profile/{{ record.id }}"
         ng-animate-ref="{{ record.id }}"
         ng-repeat="record in records">
        {{ record.title }}
      </a>
    </file>
    <file name="profile.html">
      <div class="profile record" ng-animate-ref="{{ profile.id }}">
        {{ profile.title }}
      </div>
    </file>
    <file name="animations.css">
      .record {
        display:block;
        font-size:20px;
      }
      .profile {
        background:black;
        color:white;
        font-size:100px;
      }
      .view-container {
        position:relative;
      }
      .view-container > .view.ng-animate {
        position:absolute;
        top:0;
        left:0;
        width:100%;
        min-height:500px;
      }
      .view.ng-enter, .view.ng-leave,
      .record.ng-anchor {
        transition:0.5s linear all;
      }
      .view.ng-enter {
        transform:translateX(100%);
      }
      .view.ng-enter.ng-enter-active, .view.ng-leave {
        transform:translateX(0%);
      }
      .view.ng-leave.ng-leave-active {
        transform:translateX(-100%);
      }
      .record.ng-anchor-out {
        background:red;
      }
    </file>
  </example>
 *
 * ### How is the element transported?
 *
 * When an anchor animation occurs, ngAnimate will clone the starting element and position it exactly where the starting
 * element is located on screen via absolute positioning. The cloned element will be placed inside of the root element
 * of the application (where ng-app was defined) and all of the CSS classes of the starting element will be applied. The
 * element will then animate into the `out` and `in` animations and will eventually reach the coordinates and match
 * the dimensions of the destination element. During the entire animation a CSS class of `.ng-animate-shim` will be applied
 * to both the starting and destination elements in order to hide them from being visible (the CSS styling for the class
 * is: `visibility:hidden`). Once the anchor reaches its destination then it will be removed and the destination element
 * will become visible since the shim class will be removed.
 *
 * ### How is the morphing handled?
 *
 * CSS Anchoring relies on transitions and keyframes and the internal code is intelligent enough to figure out
 * what CSS classes differ between the starting element and the destination element. These different CSS classes
 * will be added/removed on the anchor element and a transition will be applied (the transition that is provided
 * in the anchor class). Long story short, ngAnimate will figure out what classes to add and remove which will
 * make the transition of the element as smooth and automatic as possible. Be sure to use simple CSS classes that
 * do not rely on DOM nesting structure so that the anchor element appears the same as the starting element (since
 * the cloned element is placed inside of root element which is likely close to the body element).
 *
 * Note that if the root element is on the `<html>` element then the cloned node will be placed inside of body.
 *
 *
 * ## Using $animate in your directive code
 *
 * So far we've explored how to feed in animations into an Angular application, but how do we trigger animations within our own directives in our application?
 * By injecting the `$animate` service into our directive code, we can trigger structural and class-based hooks which can then be consumed by animations. Let's
 * imagine we have a greeting box that shows and hides itself when the data changes
 *
 * ```html
 * <greeting-box active="onOrOff">Hi there</greeting-box>
 * ```
 *
 * ```js
 * ngModule.directive('greetingBox', ['$animate', function($animate) {
 *   return function(scope, element, attrs) {
 *     attrs.$observe('active', function(value) {
 *       value ? $animate.addClass(element, 'on') : $animate.removeClass(element, 'on');
 *     });
 *   });
 * }]);
 * ```
 *
 * Now the `on` CSS class is added and removed on the greeting box component. Now if we add a CSS class on top of the greeting box element
 * in our HTML code then we can trigger a CSS or JS animation to happen.
 *
 * ```css
 * /&#42; normally we would create a CSS class to reference on the element &#42;/
 * greeting-box.on { transition:0.5s linear all; background:green; color:white; }
 * ```
 *
 * The `$animate` service contains a variety of other methods like `enter`, `leave`, `animate` and `setClass`. To learn more about what's
 * possible be sure to visit the {@link ng.$animate $animate service API page}.
 *
 *
 * ### Preventing Collisions With Third Party Libraries
 *
 * Some third-party frameworks place animation duration defaults across many element or className
 * selectors in order to make their code small and reuseable. This can lead to issues with ngAnimate, which
 * is expecting actual animations on these elements and has to wait for their completion.
 *
 * You can prevent this unwanted behavior by using a prefix on all your animation classes:
 *
 * ```css
 * /&#42; prefixed with animate- &#42;/
 * .animate-fade-add.animate-fade-add-active {
 *   transition:1s linear all;
 *   opacity:0;
 * }
 * ```
 *
 * You then configure `$animate` to enforce this prefix:
 *
 * ```js
 * $animateProvider.classNameFilter(/animate-/);
 * ```
 *
 * This also may provide your application with a speed boost since only specific elements containing CSS class prefix
 * will be evaluated for animation when any DOM changes occur in the application.
 *
 * ## Callbacks and Promises
 *
 * When `$animate` is called it returns a promise that can be used to capture when the animation has ended. Therefore if we were to trigger
 * an animation (within our directive code) then we can continue performing directive and scope related activities after the animation has
 * ended by chaining onto the returned promise that animation method returns.
 *
 * ```js
 * // somewhere within the depths of the directive
 * $animate.enter(element, parent).then(function() {
 *   //the animation has completed
 * });
 * ```
 *
 * (Note that earlier versions of Angular prior to v1.4 required the promise code to be wrapped using `$scope.$apply(...)`. This is not the case
 * anymore.)
 *
 * In addition to the animation promise, we can also make use of animation-related callbacks within our directives and controller code by registering
 * an event listener using the `$animate` service. Let's say for example that an animation was triggered on our view
 * routing controller to hook into that:
 *
 * ```js
 * ngModule.controller('HomePageController', ['$animate', function($animate) {
 *   $animate.on('enter', ngViewElement, function(element) {
 *     // the animation for this route has completed
 *   }]);
 * }])
 * ```
 *
 * (Note that you will need to trigger a digest within the callback to get angular to notice any scope-related changes.)
 */

/**
 * @ngdoc service
 * @name $animate
 * @kind object
 *
 * @description
 * The ngAnimate `$animate` service documentation is the same for the core `$animate` service.
 *
 * Click here {@link ng.$animate $animate to learn more about animations with `$animate`}.
 */
angular.module('ngAnimate', [])
  .directive('ngAnimateChildren', $$AnimateChildrenDirective)

  .factory('$$rAFMutex', $$rAFMutexFactory)
  .factory('$$rAFScheduler', $$rAFSchedulerFactory)

  .factory('$$AnimateRunner', $$AnimateRunnerFactory)

  .provider('$$animateQueue', $$AnimateQueueProvider)
  .provider('$$animation', $$AnimationProvider)

  .provider('$animateCss', $AnimateCssProvider)
  .provider('$$animateCssDriver', $$AnimateCssDriverProvider)

  .provider('$$animateJs', $$AnimateJsProvider)
  .provider('$$animateJsDriver', $$AnimateJsDriverProvider);


})(window, window.angular);

///#source 1 1 /h5/libraries/bootstrap/dist/js/bootstrap.min.js
/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(i.style[t]!==undefined)return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){(n.support.transition=t(),n.support.transition)&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));typeof i=="string"&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;(u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,"")),r=n(u),i&&i.preventDefault(),r.length||(r=f.closest(".alert")),r.trigger(i=n.Event("close.bs.alert")),i.isDefaultPrevented())||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f=typeof i=="object"&&i;r||u.data("bs.button",r=new t(this,f));i=="toggle"?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.4";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t=t+"Text";u.resetText==null&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](u[t]==null?this.options[t]:u[t]);t=="loadingText"?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));typeof i=="number"?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));this.options.pause!="hover"||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.4";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f=n=="prev"&&i===0||n=="next"&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r=n=="prev"?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(n<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f=i=="next"?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),this.$element.trigger(s),s.isDefaultPrevented())?void 0:(this.sliding=!0,l&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.4";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!r||!r.length||(f=r.data("bs.collapse"),!f||!f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented())){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented())){if(i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},!n.support.transition)return u.call(this);this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){t&&t.which===3||(n(e).remove(),n(i).each(function(){var r=n(this),i=u(r),f={relatedTarget:this};i.hasClass("open")&&((i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented())||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function o(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));typeof i=="string"&&u[i].call(r)})}var e=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.4";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=u(f),o=i.hasClass("open"),r(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length)n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r);if(e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,r;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s&&t.which!=27||s&&t.which==27)return t.which==27&&o.find(i).trigger("focus"),e.trigger("click");(h=" li:not(.disabled):visible a",f=o.find('[role="menu"]'+h+', [role="listbox"]'+h),f.length)&&(r=f.index(t.target),t.which==38&&r>0&&r--,t.which==40&&r<f.length-1&&r++,~r||(r=0),f.eq(r).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=o;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);u||f.data("bs.modal",u=new t(this,e));typeof i=="string"?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.4";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});if(this.$element.trigger(u),!this.isShown&&!u.isDefaultPrevented()){this.isShown=!0;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})});this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in").attr("aria-hidden",!1);r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)})}};t.prototype.hide=function(i){(i&&i.preventDefault(),i=n.Event("hide.bs.modal"),this.$element.trigger(i),this.isShown&&!i.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){n.which==27&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){if(this.isShown)n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this));else n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){r=n.support.transition&&f;this.$backdrop=n('<div class="modal-backdrop '+f+'" />').appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}n.target===n.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this));if(r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){if(!n.isDefaultPrevented())u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],u=="click")this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if(u!="manual"){o=u=="hover"?"mouseenter":"focusin";s=u=="hover"?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i&&i.$tip&&i.$tip.is(":visible")){i.hoverState="in";return}if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;if(y){var w=i,b=this.options.container?n(this.options.container):this.$element.parent(),e=this.getPosition(b);i=i=="bottom"&&f.bottom+s>e.bottom?"top":i=="top"&&f.top-s<e.top?"bottom":i=="right"&&f.right+o>e.width?"left":i=="left"&&f.left-o<e.left?"right":i;r.removeClass(w).addClass(i)}p=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(p,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;n=="out"&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top=t.top+o;t.left=t.left+s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;i=="top"&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?u.left*2-l+h:u.top*2-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function e(){u.hoverState!="in"&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),f=n.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r=u.tagName=="BODY",i=u.getBoundingClientRect();i.width==null&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return n=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:n=="top"?{top:t.top-r,left:t.left+t.width/2-i/2}:n=="left"?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.width&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(Math.random()*1e6);while(document.getElementById(n));return n};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type)})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.4";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?typeof t=="string"?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(i).is(document.body)?n(window):n(i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f=typeof i=="object"&&i;r||u.data("bs.scrollspy",r=new t(this,f));typeof i=="string"&&r[i]()})}t.VERSION="3.3.4";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget,n;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(t[n+1]===undefined||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));typeof i=="string"&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function o(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);e?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),e=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&e?f.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f=typeof i=="object"&&i;r||u.data("bs.affix",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.4";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(i!=null&&this.affixed=="top")return u<i?"top":!1;if(this.affixed=="bottom")return i!=null?u+this.unpin<=f.top?!1:"bottom":u+e<=n-r?!1:"bottom";var o=this.affixed==null,s=o?u:f.top,h=o?e:t;return i!=null&&u<=i?"top":r!=null&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=n(document.body).height();if(typeof r!="object"&&(u=f=r),typeof f=="function"&&(f=r.top(this.$element)),typeof u=="function"&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(this.unpin!=null&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin=i=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}i=="bottom"&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};t.offsetBottom!=null&&(t.offset.bottom=t.offsetBottom);t.offsetTop!=null&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);
//# sourceMappingURL=bootstrap.min.js.map

///#source 1 1 /h5/libraries/ng-scrollbar/dist/ng-scrollbar.min.js
"use strict";angular.module("ngScrollbar",[]).directive("ngScrollbar",["$parse","$window",function(n,t){return{restrict:"A",replace:!0,transclude:!0,scope:{showYScrollbar:"=?isBarShown"},link:function(n,i,r){var h,s,a,e,p,w,b={bottom:r.hasOwnProperty("bottom")},o=angular.element(t),u={top:0},f={top:0},v,k,d,g,st=function(){v={position:"relative",overflow:"hidden","max-width":"100%",height:"100%"};f.height&&(v.height=f.height+"px");k={position:"absolute",height:u.height+"px",top:u.top+"px"};d={position:"relative","line-height":u.height+"px"};g={position:"relative",top:f.top+"px",overflow:"hidden"}},c=function(){e.css("top",u.top+"px");var n=u.top/f.height;f.top=-Math.round(f.scrollHeight*n);s.css("top",f.top+"px")},ht=function(n){var t=n.hasOwnProperty("offsetY")?n.offsetY:n.layerY,i=Math.max(0,Math.min(parseInt(u.trackHeight,10)-parseInt(u.height,10),t));u.top=i;c();n.stopPropagation()},nt=function(n){var t=20,i=n.wheelDeltaY!==undefined?n.wheelDeltaY/t:n.wheelDelta!==undefined?n.wheelDelta/t:-n.detail*(t/10);if(u.top=Math.max(0,Math.min(parseInt(f.height,10)-parseInt(u.height,10),parseInt(u.top,10)-i)),c(),!n.preventDefault)return!1;n.preventDefault()},l=0,tt=function(n,t,i){u.top=Math.max(0,Math.min(parseInt(u.trackHeight,10)-parseInt(u.height,10),i));n.stopPropagation()},it=function(n){var t=n.pageY-e[0].scrollTop-l;tt(n,0,t);c()},rt=function(n){o.off("mousemove",it);o.off("mouseup",rt);n.stopPropagation()},ut=function(n){var t=n.originalEvent.changedTouches[0].pageY-e[0].scrollTop-l;tt(n,0,t);c()},ft=function(n){o.off("touchmove",ut);o.off("touchend",ft);n.stopPropagation()},et=function(t){var y=i[0].parentElement.offsetTop,r=o[0].onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";if(t=b.bottom||t,h=angular.element(i.children()[0]),s=angular.element(h.children()[0]),a=angular.element(h.children()[1]),e=angular.element(angular.element(a.children()[0]).children()[0]),p=angular.element(e.children()[0]),w=angular.element(angular.element(a.children()[0]).children()[1]),f.height=i[0].offsetHeight-y,f.height<0&&(f.height=i[0].offsetHeight),f.scrollHeight=s[0].scrollHeight,f.height<f.scrollHeight){n.showYScrollbar=!0;n.$emit("scrollbar.show");u.height=Math.round(f.height/f.scrollHeight*f.height);u.trackHeight=f.height;st();i.css({overflow:"hidden"});h.css(v);s.css(g);e.css(k);p.css(d);w.bind("click",ht);s[0].addEventListener(r,nt,!1);e.on("mousedown",function(n){l=n.pageY-e[0].offsetTop;o.on("mouseup",rt);o.on("mousemove",it);n.preventDefault()});e.on("touchstart",function(n){l=n.originalEvent.changedTouches[0].pageY-e[0].offsetTop;o.on("touchend",ft);o.on("touchmove",ut);n.preventDefault()});t?(b.bottom=!1,u.top=parseInt(f.height,10)-parseInt(u.height,10)):u.top=Math.max(0,Math.min(parseInt(f.height,10)-parseInt(u.height,10),parseInt(u.top,10)));c()}else n.showYScrollbar=!1,n.$emit("scrollbar.hide"),e.off("mousedown"),s[0].removeEventListener(r,nt,!1),s.attr("style","position:relative;top:0"),h.css({height:"100%"})},y,ot=function(t,i){y!=null&&clearTimeout(y);var r=!!i&&!!i.rollToBottom;y=setTimeout(function(){f.height=null;et(r);n.$$phase||n.$digest();n.$parent.$$phase||n.$parent.$digest()},72)};if(et(),!r.rebuildOn||r.rebuildOn.split(" ").forEach(function(t){n.$on(t,ot)}),r.hasOwnProperty("rebuildOnResize"))o.on("resize",ot)},template:'<div><div class="ngsb-wrap"><div class="ngsb-container" ng-transclude><\/div><div class="ngsb-scrollbar" style="position: absolute; display: block;" ng-show="showYScrollbar"><div class="ngsb-thumb-container"><div class="ngsb-thumb-pos" oncontextmenu="return false;"><div class="ngsb-thumb" ><\/div><\/div><div class="ngsb-track"><\/div><\/div><\/div><\/div><\/div>'}}]);
//# sourceMappingURL=ng-scrollbar.min.js.map

///#source 1 1 /h5/libraries/ng-dialog/js/ngDialog.min.js
(function(n,t){typeof module!="undefined"&&module.exports?module.exports=t(require("angular")):typeof define=="function"&&define.amd?define(["angular"],t):t(n.angular)})(this,function(n){"use strict";var e=n.module("ngDialog",[]),t=n.element,r=n.isDefined,u=(document.body||document.documentElement).style,c=r(u.animation)||r(u.WebkitAnimation)||r(u.MozAnimation)||r(u.MsAnimation)||r(u.OAnimation),s="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",l="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",a="ngdialog-disabled-animation",h=!1,f={},i=[],o=!1;return e.provider("ngDialog",function(){var v=this.defaults={className:"ngdialog-theme-default",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceBodyReload=function(n){h=n||!1};this.setDefaults=function(t){n.extend(v,t)};var y=0,r=0,u,e={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(p,w,b,k,d,g,nt,tt,it,rt){var ft=p.find("body"),ut,et;return h&&g.$on("$locationChangeSuccess",function(){ft=p.find("body")}),ut={onDocumentKeydown:function(n){n.keyCode===27&&et.close("$escape")},activate:function(n){var t=n.data("$ngDialogOptions");if(t.trapFocus){n.on("keydown",ut.onTrapFocusKeydown);ft.on("keydown",ut.onTrapFocusKeydown)}},deactivate:function(n){n.off("keydown",ut.onTrapFocusKeydown);ft.off("keydown",ut.onTrapFocusKeydown)},deactivateAll:function(){n.forEach(function(t){var i=n.element(t);ut.deactivate(i)})},setBodyPadding:function(n){var t=parseInt(ft.css("padding-right")||0,10);ft.css("padding-right",t+n+"px");ft.data("ng-dialog-original-padding",t)},resetBodyPadding:function(){var n=ft.data("ng-dialog-original-padding");n?ft.css("padding-right",n+"px"):ft.css("padding-right","")},performCloseDialog:function(n,t){var y=n.data("$ngDialogOptions"),h=n.attr("id"),l=f[h],a,v;l&&(typeof tt.Hammer!="undefined"?(a=l.hammerTime,a.off("tap",u),a.destroy&&a.destroy(),delete l.hammerTime):n.unbind("click"),r===1&&ft.unbind("keydown"),n.hasClass("ngdialog-closing")||(r-=1),v=n.data("$ngDialogPreviousFocus"),v&&v.focus(),g.$broadcast("ngDialog.closing",n,t),r=r<0?0:r,c&&!y.disableAnimation?(l.$destroy(),n.unbind(s).bind(s,function(){n.remove();r===0&&(ft.removeClass("ngdialog-open"),ut.resetBodyPadding());g.$broadcast("ngDialog.closed",n,t)}).addClass("ngdialog-closing")):(l.$destroy(),n.remove(),r===0&&(ft.removeClass("ngdialog-open"),ut.resetBodyPadding()),g.$broadcast("ngDialog.closed",n,t)),e[h]&&(e[h].resolve({id:h,value:t,$dialog:n,remainingDialogs:r}),delete e[h]),f[h]&&delete f[h],i.splice(i.indexOf(h),1),i.length||(ft.unbind("keydown",ut.onDocumentKeydown),o=!1))},closeDialog:function(t,i){var u=t.data("$ngDialogPreCloseCallback"),r;u&&n.isFunction(u)?(r=u.call(t,i),n.isObject(r)?r.closePromise?r.closePromise.then(function(){ut.performCloseDialog(t,i)}):r.then(function(){ut.performCloseDialog(t,i)},function(){return}):r!==!1&&ut.performCloseDialog(t,i)):ut.performCloseDialog(t,i)},onTrapFocusKeydown:function(t){var r=n.element(t.currentTarget),i,u,f;if(r.hasClass("ngdialog"))i=r;else if(i=ut.getActiveDialog(),i===null)return;u=t.keyCode===9;f=t.shiftKey===!0;u&&ut.handleTab(i,t,f)},handleTab:function(n,t,i){var r=ut.getFocusableElements(n);if(r.length===0){document.activeElement&&document.activeElement.blur();return}var o=document.activeElement,u=Array.prototype.indexOf.call(r,o),e=u===-1,s=u===0,h=u===r.length-1,f=!1;i?(e||s)&&(r[r.length-1].focus(),f=!0):(e||h)&&(r[0].focus(),f=!0);f&&(t.preventDefault(),t.stopPropagation())},autoFocus:function(n){var e=n[0],i=e.querySelector("*[autofocus]"),r,u,f;if(i===null||(i.focus(),document.activeElement!==i)){if(r=ut.getFocusableElements(n),r.length>0){r[0].focus();return}u=ut.filterVisibleElements(e.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));u.length>0&&(f=u[0],t(f).attr("tabindex","-1").css("outline","0"),f.focus())}},getFocusableElements:function(n){var t=n[0],i=t.querySelectorAll(l);return ut.filterVisibleElements(i)},filterVisibleElements:function(n){for(var t,r=[],i=0;i<n.length;i++)t=n[i],(t.offsetWidth>0||t.offsetHeight>0)&&r.push(t);return r},getActiveDialog:function(){var n=document.querySelectorAll(".ngdialog");return n.length===0?null:t(n[n.length-1])},applyAriaAttributes:function(n,t){if(t.ariaAuto){if(!t.ariaRole){var i=ut.getFocusableElements(n).length>0?"dialog":"alertdialog";t.ariaRole=i}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6");t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&n.attr("role",t.ariaRole);ut.applyAriaAttribute(n,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector);ut.applyAriaAttribute(n,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(n,i,r,u){var o,e,f;return r&&n.attr(i,r),u?(o=n.attr("id"),e=n[0].querySelector(u),!e)?void 0:(f=o+"-"+i,t(e).attr("id",f),n.attr(i,f),f):void 0}},et={open:function(s){function lt(n,t){return g.$broadcast("ngDialog.templateLoading",n),d.get(n,t||{}).then(function(t){return g.$broadcast("ngDialog.templateLoaded",n),t.data||""})}function at(t){return t?n.isString(t)&&h.plain?t:typeof h.cache=="boolean"&&!h.cache?lt(t,{cache:!1}):lt(t,{cache:w}):"Empty template"}var h=n.copy(v),ht=++y,p="ngdialog"+ht,ct,l,c,st,ot;return i.push(p),s=s||{},n.extend(h,s),e[p]=ct=k.defer(),f[p]=l=n.isObject(h.scope)?h.scope.$new():g.$new(),ot=n.extend({},h.resolve),n.forEach(ot,function(t,i){ot[i]=n.isString(t)?rt.get(t):rt.invoke(t,null,null,i)}),k.all({template:at(h.template||h.templateUrl),locals:k.all(ot)}).then(function(i){var e=i.template,w=i.locals,s,v,y,f,p;if(h.showClose&&(e+='<div class="ngdialog-close"><\/div>'),c=t('<div id="ngdialog'+ht+'" class="ngdialog"><\/div>'),c.html(h.overlay?'<div class="ngdialog-overlay"><\/div><div class="ngdialog-content" role="document">'+e+"<\/div>":'<div class="ngdialog-content" role="document">'+e+"<\/div>"),c.data("$ngDialogOptions",h),h.data&&n.isString(h.data)?(s=h.data.replace(/^\s*/,"")[0],l.ngDialogData=s==="{"||s==="["?n.fromJson(h.data):h.data):h.data&&n.isObject(h.data)&&(l.ngDialogData=h.data),h.controller&&(n.isString(h.controller)||n.isArray(h.controller)||n.isFunction(h.controller))&&(h.controllerAs&&n.isString(h.controllerAs)&&(v=h.controllerAs),y=it(h.controller,n.extend(w,{$scope:l,$element:c}),null,v),c.data("$ngDialogControllerController",y)),h.className&&c.addClass(h.className),h.disableAnimation&&c.addClass(a),st=h.appendTo&&n.isString(h.appendTo)?n.element(document.querySelector(h.appendTo)):ft,ut.applyAriaAttributes(c,h),h.preCloseCallback&&(n.isFunction(h.preCloseCallback)?f=h.preCloseCallback:n.isString(h.preCloseCallback)&&l&&(n.isFunction(l[h.preCloseCallback])?f=l[h.preCloseCallback]:l.$parent&&n.isFunction(l.$parent[h.preCloseCallback])?f=l.$parent[h.preCloseCallback]:g&&n.isFunction(g[h.preCloseCallback])&&(f=g[h.preCloseCallback])),f&&c.data("$ngDialogPreCloseCallback",f)),l.closeThisDialog=function(n){ut.closeDialog(c,n)},nt(function(){var i=document.querySelectorAll(".ngdialog"),t,n;ut.deactivateAll(i);b(c)(l);t=tt.innerWidth-ft.prop("clientWidth");ft.addClass("ngdialog-open");n=t-(tt.innerWidth-ft.prop("clientWidth"));n>0&&ut.setBodyPadding(n);st.append(c);ut.activate(c);h.trapFocus&&ut.autoFocus(c);h.name?g.$broadcast("ngDialog.opened",{dialog:c,name:h.name}):g.$broadcast("ngDialog.opened",c)}),o||(ft.bind("keydown",ut.onDocumentKeydown),o=!0),h.closeByNavigation&&g.$on("$locationChangeSuccess",function(){ut.closeDialog(c)}),h.preserveFocus&&c.data("$ngDialogPreviousFocus",document.activeElement),u=function(n){var r=h.closeByDocument?t(n.target).hasClass("ngdialog-overlay"):!1,i=t(n.target).hasClass("ngdialog-close");(r||i)&&et.close(c.attr("id"),i?"$closeButton":"$document")},typeof tt.Hammer!="undefined"){p=l.hammerTime=tt.Hammer(c[0]);p.on("tap",u)}else c.bind("click",u);return r+=1,et}),{id:p,closePromise:ct.promise,close:function(n){ut.closeDialog(c,n)}}},openConfirm:function(i){var u=k.defer(),r={closeByEscape:!1,closeByDocument:!1},f;return n.extend(r,i),r.scope=n.isObject(r.scope)?r.scope.$new():g.$new(),r.scope.confirm=function(n){u.resolve(n);var i=t(document.getElementById(f.id));ut.performCloseDialog(i,n)},f=et.open(r),f.closePromise.then(function(n){return n?u.reject(n.value):u.reject()}),u.promise},isOpen:function(n){var i=t(document.getElementById(n));return i.length>0},close:function(n,r){var u=t(document.getElementById(n)),f;return u.length?ut.closeDialog(u,r):n==="$escape"?(f=i[i.length-1],u=t(document.getElementById(f)),u.data("$ngDialogOptions").closeByEscape&&ut.closeDialog(u,r)):et.closeAll(r),et},closeAll:function(n){for(var u,r=document.querySelectorAll(".ngdialog"),i=r.length-1;i>=0;i--)u=r[i],ut.closeDialog(t(u),n)},getOpenDialogs:function(){return i},getDefaults:function(){return v}},et}]}),e.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(i,r,u){r.on("click",function(r){var e,f;r.preventDefault();e=n.isDefined(i.ngDialogScope)?i.ngDialogScope:"noScope";n.isDefined(u.ngDialogClosePrevious)&&t.close(u.ngDialogClosePrevious);f=t.getDefaults();t.open({template:u.ngDialog,className:u.ngDialogClass||f.className,controller:u.ngDialogController,controllerAs:u.ngDialogControllerAs,bindToController:u.ngDialogBindToController,scope:e,data:u.ngDialogData,showClose:u.ngDialogShowClose==="false"?!1:u.ngDialogShowClose==="true"?!0:f.showClose,closeByDocument:u.ngDialogCloseByDocument==="false"?!1:u.ngDialogCloseByDocument==="true"?!0:f.closeByDocument,closeByEscape:u.ngDialogCloseByEscape==="false"?!1:u.ngDialogCloseByEscape==="true"?!0:f.closeByEscape,overlay:u.ngDialogOverlay==="false"?!1:u.ngDialogOverlay==="true"?!0:f.overlay,preCloseCallback:u.ngDialogPreCloseCallback||f.preCloseCallback})})}}}]),e});
//# sourceMappingURL=ngDialog.min.js.map

///#source 1 1 /h5/libraries/ngExDialog/ngExDialog.js
/*
 * License
 * This article, along with any associated source code and files, is licensed under The Code Project Open License (CPOL)
 * http://www.codeproject.com/script/Articles/ListVersions.aspx?aid=992699
 */

(function (angular, factory) {
	if (typeof define === 'function' && define.amd) {
		define(['angular'], function (angular) {
			return factory(angular);
		});
	} else {
		return factory(angular);
	}
}(angular || null, function (angular) {
	'use strict';
	var psm = angular.module('ngExDialog', []);

	//Not used. Set a provider level variable instead.
	//psm.value('dialogDefaults', ['exDialog', function (exDialog) {
	//    return exDialog.getDefaults();
	//}]);
	var dialogDefaults;
	var hasDragged = false;

	//Main configurable dialog provider.
	psm.provider('exDialog', function () {
		var style = (document.body || document.documentElement).style;
		var animationEndSupport = angular.isDefined(style.animation) || angular.isDefined(style.WebkitAnimation) || angular.isDefined(style.OAnimation) || angular.isDefined(style.MozAnimation) || angular.isDefined(style.MsAnimation);
		var animationEndEvent = 'animationend webkitAnimationEnd oanimationend mozAnimationEnd MSAnimationEnd ';
		var scope;
		var closeByEvents;
		var seqNumber = 0;
		var dialogCount = 0;
		var deferList = {};

		//Default settings. Will be overwritten by settings from app level.
		dialogDefaults = this.dialogDefaults = {
			template: 'commonDialog.html',
			width: '750px',
			height:'450px',
			closeByXButton: true,
			closeByClickOutside: true,
			closeByEscKey: true,
			appendToElement: '',
			beforeCloseCallback: '',
			grayBackground: true,
			cacheTemplate: true,
			draggable: true,
			animation: true,
			//Internal uses.
			messageTitle: 'Information',
			messageIcon: 'info',
			messageCloseButtonLabel: 'OK',
			confirmTitle: 'Confirmation',
			confirmIcon: 'question',
			confirmActionButtonLabel: 'Yes',
			confirmCloseButtonLabel: 'No'
		};

		this.setDefaults = function (newDefaults) {
			angular.extend(dialogDefaults, newDefaults);
		};

		//Main provider method.
		this.$get = ['$document', '$templateCache', '$compile', '$q', '$http', '$rootScope', '$timeout', '$window', '$controller', function ($document, $templateCache, $compile, $q, $http, $rootScope, $timeout, $window, $controller) {

			//Flag to disable dragging for input fields.
			$rootScope.noDrag = false;
			
			var elemBody = $document.find('body');

			//Process real close here.
			var ProcessClose = function (dialogObj, value) {
				var id = dialogObj.attr('id');
				var animation = dialogObj[0].animation; //Animation flag.

				dialogObj.unbind('click');

				if (dialogCount === 1) {
					elemBody.unbind('keydown');
				}

				//Deduct dialog count.
				if (!dialogObj.hasClass(animation ? 'dialog-closing' : 'dialog-closing-no-animation')) {
					dialogCount -= 1;
				}

				$rootScope.$broadcast('exDialog.closing', dialogObj);

				var finishClose = function () {
					dialogObj.remove();
					if (dialogCount === 0) {
						elemBody.removeClass('dialog-open');
					}
					$rootScope.$broadcast('exDialog.closed', dialogObj);
				}

				if (animation) {
					if (animationEndSupport) {
						scope.$destroy();
						//The following line is not supported by Firefox.
						dialogObj.unbind(animationEndEvent).bind(animationEndEvent, function () {
							//IE and Chrome hit here.
							finishClose();                            
						}).addClass('dialog-closing');
						//Not use this line, use "animation" false code block instead.
						//}).addClass(animation ? 'dialog-closing' : 'dialog-closing-no-animation');
					} else {
						//Firefox hit here
						finishClose();
					}
				}
				else {
					//Run this block of code for dialog without animation.
					scope.$destroy();
					dialogObj.addClass('dialog-closing-no-animation');
					finishClose();
				}
				
				if (deferList[id]) {
					deferList[id].resolve({
						id: id,
						value: value,
						dialogObj: dialogObj,
						dialogCount: dialogCount
					});
					delete deferList[id];
				}
			};

			var closeDialog = function (dialogObj, value) {
				//Handles before-close callback. Otherwise just close the dialog.
				var beforeCloseCallback = dialogObj.data('exDialogBeforeCloseCallback');
				if (beforeCloseCallback && angular.isFunction(beforeCloseCallback)) {
					var beforeCloseCallbackResult = beforeCloseCallback.call(dialogObj, value);
					if (angular.isObject(beforeCloseCallbackResult)) {
						if (beforeCloseCallbackResult.closePromise) {
							beforeCloseCallbackResult.closePromise.then(function () {
								ProcessClose(dialogObj, value);
							});
						} else {
							beforeCloseCallbackResult.then(function () {
								ProcessClose(dialogObj, value);
							}, function () {
								return;
							});
						}
					} else if (beforeCloseCallbackResult !== false) {
						ProcessClose(dialogObj, value);
					}
				} else {
					ProcessClose(dialogObj, value);
				}
			};

			//For Esc key to close dialog.
			var onDocumentKeydown = function (event) {
				if (event.keyCode === 27) {
					pubMembers.close('$escape');
				}
			};

			//Parameters for common template dialog and will be scope properties used by directive code.
			var getCommonParams = function (params) {
				return {
					title: params.title,
					icon: params.icon,
					message: params.message,
					actionButtonLabel: params.actionButtonLabel,
					closeButtonLabel: params.closeButtonLabel,
					closeAllDialogs: params.closeAllDialogs == undefined ? undefined : params.closeAllDialogs,
					//Options for adding CSS classes.
					dialogAddClass: params.dialogAddClass,
					headerAddClass: params.headerAddClass,
					titleAddClass: params.titleAddClass,
					bodyAddClass: params.bodyAddClass,
					messageAddClass: params.messageAddClass,
					footerAddClass: params.footerAddClass,
					actionButtonAddClass: params.actionButtonAddClass,
					closeButtonAddClass: params.closeButtonAddClass
				};
			};

			var pubMembers = {
				getDefaults: function () {
					return dialogDefaults;
				},
				/*
				 Three wrap functions; openMessage, openConfirm, and openPrime 
				 Base funciton: open
				 @params {Object}:
				 //These for message and confirm types with built-in template only.
				 - title {String} - dialog title in header, default to "information" or configured
				 - icon {String} - values are 'info', 'warning', 'question', 'error', default to "info" or configured
				 - message {String} - body message
				 - closeButtonLabel {String} - close button label, default to "OK" for alert and "No" for confirm, or configured
				 - actionButtonLabel {String} - Action button label, default to "Yes" for confirm, or configured
				 - closeAllDialogs {Boolean} - close all dialogs including parents
				 - keepOpenForAction {Boolean} - keep previous confirmation dialog open when clicking action button, default to undefined, or configured
				 - keepOpenForClose {Boolean} - keep previous confirmation dialog open when clicking close button, default to undefined, or configured
				 - dialogAddClass {String} - undefined
				 - headerAddClass  {String} - undefined
				 - titleAddClass {String} - undefined
				 - bodyAddClass {String} - undefined
				 - messageAddClass {String} - undefined
				 - footerAddClass {String} - undefined
				 - actionButtonAddClass {String} - undefined
				 - closeButtonAddClass {String} - undefined
				 
				 //These for all types including custom template.
				 - scope {Object} - source scope
				 - template {String} - id for ng-template script, url for file, or plain string containing HTML text. Required for openPrime()
				 - controller {String} - required if the custom template needs it.
				 - width (String} - dialog width, configured
				 - closeByXButton {Boolean} - show x close button, default true, or configured
				 - closeByEscKey {Boolean} - default true, or configured
				 - closeByClickOutside {Boolean} - default true, or configured
				 - closeImmediateParent {Boolean} - undefined
				 - beforeCloseCallback {String|Function} - user supplied function name/function called before closing dialog (if set)
				 - grayBackground {Boolean} - default true, or configured
				 - cacheTemplate {Boolean} - default true, or configured //template cache
				 - draggable {Boolean} - default true, or configured
				 - animation {Boolean} - default true, or configured
				 @return {Object} dialog for open and openMessage(), premise for openConfirm()
				*/
				//Message dialog.
				openMessage: function (prm1, message, title, icon) {
					//Set parameter options.
					var params = {};
					if (angular.isObject(prm1) && prm1.scope != undefined && angular.isObject(prm1.scope)) {
						//Use paramter object.
						params = prm1;
					}
					else {
						//Use simple individual paramters.
						params.scope = prm1;
						params.message = message;
						params.title = title;
						params.icon = icon;
					}

					if (params.scope && angular.isObject(params.scope)) {
						//Items need to be processed from directives in template.
						params.scope.dialogProp = getCommonParams(params);
						params.scope.dialogProp.type = 'message';
					}
					else {
						//Passed scope is required.
						params.template = "<span>Error: No current scope in parameters<span>";
					}
					return pubMembers.open(params);
				},

				//Confirm dialog.
				openConfirm: function (prm1, message, title, icon) {
					//Set parameter options.
					var params = {};
					if (angular.isObject(prm1) && prm1.scope != undefined && angular.isObject(prm1.scope)) {
						params = prm1;
					}
					else {
						params.scope = prm1;
						params.message = message;
						params.title = title;
						params.icon = icon;
					}

					//Validate existence of passed scope.
					if (params.scope == undefined || !angular.isObject(params.scope)) {
						params.template = "<span>Error: No current scope in parameters<span>";
						var dialog = exDialog.open(params);
						return dialog;
					}
					else {
						params.scope = params.scope.$new();
						//Items need to be processed from directives in template.
						params.scope.dialogProp = getCommonParams(params);
						params.scope.dialogProp.type = 'confirm';

						params.scope.confirm = function (value) {
							defer.resolve(value);
							//Keep previous dialog open or not.
							if (params.keepOpenForAction == undefined || !params.keepOpenForAction) {
								var dialogObj = angular.element(document.getElementById(openResult.id));
								ProcessClose(dialogObj, value);
								//If use pubMembers.close(), needs to pass id.
								//pubMembers.close(openResult.id, value);
							}
						};
						
						var defer = $q.defer();
						var openResult = pubMembers.open(params);
						openResult.closePromise.then(function (data) {
							if (data) {
								return defer.reject(data.value);
							}
							return defer.reject();
						});
						return defer.promise;
					}
				},

				//Prime dialog for customizing and data.
				openPrime: function (params) {
					if (params.scope == undefined || !angular.isObject(params.scope)) {
						params.template = "<span>Error: No current scope in parameters<span>";
					}
					else if (params.template == undefined || !angular.isString(params.template)) {
						params.template = "<span>Error: No template defined<span>";
					}
					return pubMembers.open(params);
				},

				//Base dialog, usually not directly called.
				open: function (prms) {
					var dialogObj, dialogParentObj;

					var params = angular.copy(dialogDefaults);
					if (prms == undefined) prms = {};
					angular.extend(params, prms);

					//Note: Method scope.closeThisAndPreviousDialogs() uses hard-coded index value 6 to get the number part.
					seqNumber += 1;
					var dialogId = 'exmdlg' + seqNumber;

					var defer = deferList[dialogId] = $q.defer();

					//Create the child scope for the dialog.
					scope = angular.isObject(params.scope) ? params.scope.$new() : $rootScope.$new();

					//Main process method.
					$q.when(loadTemplate(params.template)).then(function (template) {
						//Cache template.
						if (params.template.trim().substring(0, 1) != '<') {
							$templateCache.put(params.template, template);
						}

						//Set X-button.
						if (params.closeByXButton) {
							template += '<div class="x-close"></div>';
						}

						//Dialog main elemnent.
						dialogObj = angular.element('<div id="' + dialogId + '" class="dialog-main" vertical-center ></div>');

						//dialogMainAddClass can be used to add or overwrite items in the "dialog-main" although it's not shown in the params list.
						if (params.dialogMainAddClass) {
							dialogObj.addClass(params.dialogMainAddClass);
						}

						//Set draggable.
						var draggable = "draggable";
						if (params.draggable == false) {
							draggable = "";
						}

						//Set animation and gray-background.
						var contentCss, grayBackgroundCss;
						if (params.animation) {
							contentCss = "dialog-content";
							grayBackgroundCss = params.grayBackground ? 'dialog-backgray' : 'dialog-backclear';
						}
						else {
							contentCss = "dialog-content-no-animation";
							grayBackgroundCss = params.grayBackground ? 'dialog-backgray-no-animation' : 'dialog-backclear';
						}

						if(params.withoutBg) {
							contentCss += ' no-background';
						}
						dialogObj[0]["animation"] = params.animation;

						//Add gray-background layer and dialog content elements.
						dialogObj.html('<div class="' + grayBackgroundCss + '"></div><div class="' + contentCss + '" ' + draggable + ' >' + template + '</div>');

						//Set dialog width (set it to dialog content element).
						if (params.width) {
							angular.element(dialogObj[0].children[1]).css('width', params.width);
						}
						//Set dialog height (set it to dialog content element).
						if (params.height) {
							angular.element(dialogObj[0].children[1]).css('height', params.height);
						}
						//Bind template controller.
						if (params.controller && angular.isString(params.controller)) {
							$controller(params.controller, {
								$scope: scope,
								$element: dialogObj
							});
						}

						//Set dialog parent element.
						if (params.appendToElement && angular.isString(params.appendToElement)) {
							dialogParentObj = angular.element(document.querySelector(params.appendToElement));
						} else {
							dialogParentObj = elemBody;
						}

						//Set before-close callback.
						if (params.beforeCloseCallback) {
							var beforeCloseCallback;
							if (angular.isFunction(params.beforeCloseCallback)) {
								beforeCloseCallback = params.beforeCloseCallback;
							} else if (angular.isString(params.beforeCloseCallback)) {
								if (scope) {
									if (angular.isFunction(scope[params.beforeCloseCallback])) {
										beforeCloseCallback = scope[params.beforeCloseCallback];
									} else if (scope.$parent && angular.isFunction(scope.$parent[params.beforeCloseCallback])) {
										beforeCloseCallback = scope.$parent[params.beforeCloseCallback];
									} else if ($rootScope && angular.isFunction($rootScope[params.beforeCloseCallback])) {
										beforeCloseCallback = $rootScope[params.beforeCloseCallback];
									}
								}
							}
							if (beforeCloseCallback) {
								dialogObj.data('exDialogBeforeCloseCallback', beforeCloseCallback);
							}
						}

						//Bind closeDialog method to the scope so that it can called outside.		                
						scope.closeThisDialog = function (value) {                            
							//Passing keepOpen param will cancel this close request.
							if ((value == 'action' && (params.keepOpenForAction == undefined || !params.keepOpenForAction)) || 
							   (value == 'close' && (params.keepOpenForClose == undefined || !params.keepOpenForClose))) {
								closeDialog(dialogObj, value);

								//Also check and close immediate parent dialog.
								if (params.closeImmediateParent) {
									//Get hard-coded index value. 
									var prevSeqNum = parseInt(dialogId.substring(6)) - 1;
									var prevDialogObj = angular.element(document.getElementById('exmdlg' + prevSeqNum));
									closeDialog(prevDialogObj, value);
								}
							}
							else {
								//Resolve defer.premise for close button action if not close the dialog.
								//Only for close button on confirmation dialog.
								if (deferList[dialogId]) {
									deferList[dialogId].resolve({
										id: dialogId,
										value: value,
										dialogObj: dialogObj,
										dialogCount: dialogCount
									});
									delete deferList[dialogId];
								}                               
							}
						};

						//Compile and append the dialog.
						$timeout(function () {
							$compile(dialogObj)(scope);
							elemBody.addClass('dialog-open');
							dialogParentObj.append(dialogObj);

							//Not used.
							if (params.name) {
								$rootScope.$broadcast('exDialog.opened', { dialog: dialogObj, name: params.name });
							} else {
								$rootScope.$broadcast('exDialog.opened', dialogObj);
							}

							//Focus on dialog after it is opened.
							dialogObj[0].children[1].focus();
						});

						//Set for using Esc key to close dialog.
						if (params.closeByEscKey) {
							elemBody.bind('keydown', onDocumentKeydown);
						}

						closeByEvents = function (event) {
							//For click-outside.
							if (params.closeByClickOutside) {
								if (angular.element(event.target).hasClass('dialog-backgray') ||
									angular.element(event.target).hasClass('dialog-backgray-no-animation') ||
									angular.element(event.target).hasClass('dialog-backclear')) {
									pubMembers.close(dialogObj.attr('id'), 'close', params.closeImmediateParent, params.closeAllDialogs);
								}
							}
							//For X-button.
							var hasXBtn = angular.element(event.target).hasClass('x-close');
							if (hasXBtn) {
								pubMembers.close(dialogObj.attr('id'), 'close', params.closeImmediateParent, params.closeAllDialogs);
							}
						};

						dialogObj.bind('click', closeByEvents);

						dialogCount += 1;                        

						//Reset hasDragged flag.
						hasDragged = false;

						return pubMembers;
					});

					//Check to load template from cache or file.
					function loadTemplate(template) {
						if (!template || template == undefined || !angular.isString(template)) return 'No dialog template';
						//var test = template.trim().substring(0, 1);
						if (template.trim().substring(0, 1) == '<') {
							return template;
						}
						else {
							if (typeof params.cacheTemplate === 'boolean' && !params.cacheTemplate) {
								return loadTemplateUrl(template, { cache: false });
							}
							return $templateCache.get(template) || loadTemplateUrl(template, { cache: true });
						}
					}

					function loadTemplateUrl(template, config) {
						return $http.get(template, (config || {})).then(function (res) {
							return res.data || '';
						});
					}

					//Return dialog object with these properties and a function.
					return {
						id: dialogId,
						closePromise: defer.promise,
						close: function (value) {
							closeDialog(dialogObj, value);
						}
					};
				},

				//Both close() and closeAll() Can be called outside with provider prefix.
				close: function (id, value, closeImmediateParent, closeAllDialogs) {
					if (closeAllDialogs) {
						pubMembers.closeAll(value);
					}
					else {
						var dialogObj = angular.element(document.getElementById(id));
						closeDialog(dialogObj, value);
						
						//Also check and close immediate parent dialog.
						if (closeImmediateParent) {
							//Get hard-coded index value. 
							var prevSeqNum = parseInt(dialogObj[0].id.substring(6)) - 1;
							var prevDialogObj = angular.element(document.getElementById('exmdlg' + prevSeqNum));
							closeDialog(prevDialogObj, value);
						}
					}                    
				},

				closeAll: function (value) {
					var $all = document.querySelectorAll('.dialog-main');

					angular.forEach($all, function (dialog) {
						closeDialog(angular.element(dialog), value);
					});
				}
			};
			return pubMembers;
		}];
	});

	psm.controller('commonDialogController', ['$scope', 'exDialog', function ($scope, exDialog) {
		//Call for closing all opened dialogs.
		$scope.closeAllDialogs = function () {
			exDialog.closeAll();
		};
	}]);

	psm.directive('setDialogDiv', function () {
		return {
			restrict: 'EA', //E = element, A = attribute, C = class, M = comment
			link: function (scope, elem) {
				var sourceElem = angular.element(elem);
				if (scope.dialogProp.dialogAddClass) {
					sourceElem.addClass(scope.dialogProp.dialogAddClass);
				}
			}
		}
	});

	psm.directive('setDialogHeader', function () {
		return {
			restrict: 'EA',
			link: function (scope, elem) {
				var sourceElem = angular.element(elem);
				if (scope.dialogProp.headerAddClass) {
					sourceElem.addClass(scope.dialogProp.headerAddClass);
				}
			}
		}
	});

	psm.directive('setDialogTitle', function () {
		return {
			restrict: 'EA',
			link: function (scope, elem, attr) {
				var sourceElem = angular.element(elem);
				if (scope.dialogProp.title == undefined || scope.dialogProp.title == "") {
					if (scope.dialogProp.progressBar) {
						//Progress bar is not used.
						scope.dialogProp.title = "Please wait..";
					}
					else {
						if (scope.dialogProp.type == "confirm") {
							scope.dialogProp.title = dialogDefaults.confirmTitle;
						}
						else {
							scope.dialogProp.title = dialogDefaults.messageTitle;
						}
						sourceElem.text();
					}
				}
				sourceElem.text(scope.dialogProp.title);

				if (scope.dialogProp.titleAddClass) {
					sourceElem.addClass(scope.dialogProp.titleAddClass);
				}
			}
		}
	});

	psm.directive('setDialogBody', function () {
		return {
			restrict: 'EA',
			link: function (scope, elem) {
				var sourceElem = angular.element(elem);
				if (scope.dialogProp.bodyAddClass) {
					sourceElem.addClass(scope.dialogProp.bodyAddClass);
				}
			}
		}
	});

	psm.directive('setDialogIcon', function () {
		return {
			restrict: 'EA',
			link: function (scope, elem) {
				var sourceElem = angular.element(elem);
				if (scope.dialogProp.icon) {
					scope.dialogProp.icon = scope.dialogProp.icon.toLowerCase();
				}
				if (scope.dialogProp.type == 'confirm' && (scope.dialogProp.icon == undefined || scope.dialogProp.icon == "")) {
					sourceElem.addClass("dialog-icon-" + dialogDefaults.confirmIcon);
				}
				else {
					switch (scope.dialogProp.icon) {
						case "info":
							sourceElem.addClass("dialog-icon-info");
							break;
						case "warning":
							sourceElem.addClass("dialog-icon-warning");
							break;
						case "error":
							sourceElem.addClass("dialog-icon-error");
							break;
						case "question":
							sourceElem.addClass("dialog-icon-question");
							break;
						case "none":
							//Nothing
							break;
						default:
							sourceElem.addClass("dialog-icon-" + dialogDefaults.messageIcon);
					}
				}
			}
		}
	});

	psm.directive('setDialogMessage', function () {
		return {
			restrict: 'EA',
			link: function (scope, elem) {
				var sourceElem = angular.element(elem);
				if (scope.dialogProp.progressBar) {
					sourceElem.html("<img src='/ngExDialog/Images/ajax-loader.gif' alt='Loading...'/>")
				}
				else {
					sourceElem.text(scope.dialogProp.message);
				}
				if (scope.dialogProp.messageAddClass) {
					sourceElem.addClass(scope.dialogProp.messageAddClass);
				}
			}
		}
	});

	psm.directive('setDialogFooter', function () {
		return {
			restrict: 'EA',
			link: function (scope, elem) {
				var sourceElem = angular.element(elem);
				if (scope.dialogProp.footerAddClass) {
					sourceElem.addClass(scope.dialogProp.footerAddClass);
				}
			}
		}
	});

	psm.directive('setActionButton', function () {
		return {
			restrict: 'EA',
			link: function (scope, elem) {
				var actionButton = angular.element(elem);
				//Bypass non-confirm type.
				if (scope.dialogProp.type == 'confirm') {
					if (scope.dialogProp.actionButtonLabel == undefined || scope.dialogProp.actionButtonLabel == '') {
						scope.dialogProp.actionButtonLabel = dialogDefaults.confirmActionButtonLabel;
					}
					actionButton.text(scope.dialogProp.actionButtonLabel);

					if (scope.dialogProp.actionButtonAddClass) {
						actionButton.addClass(scope.dialogProp.actionButtonAddClass);
					}
				}
			}
		}
	});

	psm.directive('setCloseButton', ['$timeout',function ($timeout) {
		return {
			restrict: 'EA',
			link: function (scope, elem) {
				var closeButton = angular.element(elem);

				if (scope.dialogProp.closeButtonLabel == undefined || scope.dialogProp.closeButtonLabel == '') {
					if (scope.dialogProp.type == "confirm") {
						scope.dialogProp.closeButtonLabel = dialogDefaults.confirmCloseButtonLabel;
					}
					else {
						scope.dialogProp.closeButtonLabel = dialogDefaults.messageCloseButtonLabel;
					}
				}
				closeButton.text(scope.dialogProp.closeButtonLabel);

				//Make OK or No button a little wider.
				if (scope.dialogProp.closeButtonLabel == "OK" || (scope.dialogProp.closeButtonLabel).toUpperCase() == "NO") {
					closeButton.addClass("padding-sides");
				}
				if (scope.dialogProp.closeButtonAddClass) {
					closeButton.addClass(scope.dialogProp.closeButtonAddClass);
				}
			}
		}
	}]);

	psm.directive('verticalCenter', ['$window', function ($window) {
		return function (scope, element) {
			var wd = angular.element($window);
			scope.$watch(function () {
				return {
					'wh': window.innerHeight,  //Same as $window.innerHeight.
					'ch': element[0].children[1].offsetHeight, //Dialog content height.                    
				};
			}, function (newValue) {  //Don't need oldValue here.              
				if (!hasDragged) {
					var paddingTopValue = (newValue.wh - newValue.ch) / 2;
					if (paddingTopValue < 0) {
						paddingTopValue = 0;
					}
					else {
						//Padding a little less so that dialog appear a little top from center.
						paddingTopValue = paddingTopValue - 30;
					}
					element.css('padding-top', paddingTopValue + 'px');
				}
			}, true);

			wd.bind('resize', function () {
				scope.$apply();
			});
		}
	}]);

	//Draggable directive taken and modified from: http://docs.angularjs.org/guide/compiler
	psm.directive('draggable', ['$document', '$rootScope', function ($document, $rootScope) {
		"use strict";
		return function (scope, element) {
			var startX = 0, startY = 0;
			var x = 0, y = 0;
			
			element.css({
				position: 'relative',
				cursor: 'move' //'pointer' 
			});
			element.on('mousedown', function (event) {
				//Prevent default dragging of selected content.
				//Not used here since this disables input fields.
				//event.preventDefault();
				startX = event.screenX - x;
				startY = event.screenY - y;                                
				$document.on('mousemove', mousemove);
				$document.on('mouseup', mouseup);
			});

			function mousemove(event) {                
				
				//Flag passed from input elements: ng-focus="setDrag(true)" ng-blur="setDrag(false)".
				if (!$rootScope.noDrag) {
					y = event.screenY - startY;
					x = event.screenX - startX;

					element.css({
						top: y + 'px',
						left: x + 'px'
					});                    
					//element[0].focus();

					//Flag set for disabling vertical re-center after any dragging.
					hasDragged = true;

					//Disable element/text selection.
					window.getSelection().removeAllRanges();
				}                
			}

			function mouseup() {
				$document.unbind('mousemove', mousemove);
				$document.unbind('mouseup', mouseup);
			}
		};
	}]);

	//Cache commonDialog template used for default simple and confirm dialogs.
	psm.run(['$templateCache', function ($templateCache) {
		$templateCache.put('ngExDialog/commonDialog.html', '<div ng-controller="commonDialogController" set-dialog-div><div class="dialog-header" set-dialog-header><div class="dialog-title" set-dialog-title></div></div><div class="dialog-message dialog-body" set-dialog-body><table style="width:100%;"><tr><td><div set-dialog-icon></div></td><td><div class="dialog-message-body" set-dialog-message></div></td></tr></table></div><div class="dialog-buttons dialog-footer" set-dialog-footer><button type="button" class="dialog-button dialog-button-secondary"  ng-click="dialogProp.closeAllDialogs?closeAllDialogs():closeThisDialog(\'close\')" ng-show="dialogProp.closeButtonLabel != undefined && dialogProp.closeButtonLabel != \'\'" set-close-button></button><button type="button" class="dialog-button dialog-button-primary" ng-click="confirm(\'action\')" ng-show="dialogProp.actionButtonLabel != undefined && dialogProp.actionButtonLabel != \'\'" set-action-button></button></div></div>');
	}]);

}));

///#source 1 1 /h5/libraries/angular-perfect-scrollbar/angular-perfect-scrollbar.min.js
angular.module("perfect_scrollbar",[]).directive("perfectScrollbar",["$parse","$window",function(n,t){var i=["wheelSpeed","wheelPropagation","minScrollbarLength","useBothWheelAxes","useKeyboard","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","includePadding"];return{restrict:"EA",transclude:!0,template:"<div><div ng-transclude><\/div><\/div>",replace:!0,link:function(r,u,f){function o(n){r.$evalAsync(function(){f.scrollDown=="true"&&n!="mouseenter"&&setTimeout(function(){$(u).scrollTop($(u).prop("scrollHeight"))},100);u.perfectScrollbar("update")})}for(var e,h=angular.element(t),c={},s=0,l=i.length;s<l;s++)e=i[s],f[e]!==undefined&&(c[e]=n(f[e])());if(r.$evalAsync(function(){u.perfectScrollbar(c);var t=n(f.onScroll);u.scroll(function(){var n=u.scrollTop(),i=u.prop("scrollHeight")-u.height();r.$apply(function(){t(r,{scrollTop:n,scrollHeight:i})})})}),u.bind("mouseenter",o("mouseenter")),f.refreshOnChange&&r.$watchCollection(f.refreshOnChange,function(){o()}),f.refreshOnResize)h.on("resize",o);u.bind("$destroy",function(){h.off("resize",o);u.perfectScrollbar("destroy")})}}}]);
//# sourceMappingURL=angular-perfect-scrollbar.min.js.map

///#source 1 1 /h5/libraries/angular-perfect-scrollbar/perfect-scrollbar.with-mousewheel.min.js
/*! perfect-scrollbar - v0.4.11
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2014 Hyeonje Alex Jun; Licensed MIT */
(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)})(function(e){"use strict";var t={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},o=function(){var e=0;return function(){var t=e;return e+=1,".perfect-scrollbar-"+t}}();e.fn.perfectScrollbar=function(n,r){return this.each(function(){var l=e.extend(!0,{},t),s=e(this);if("object"==typeof n?e.extend(!0,l,n):r=n,"update"===r)return s.data("perfect-scrollbar-update")&&s.data("perfect-scrollbar-update")(),s;if("destroy"===r)return s.data("perfect-scrollbar-destroy")&&s.data("perfect-scrollbar-destroy")(),s;if(s.data("perfect-scrollbar"))return s.data("perfect-scrollbar");s.addClass("ps-container");var a,i,c,u,d,p,f,h,v,b,g=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(s),m=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(s),w=e("<div class='ps-scrollbar-x'></div>").appendTo(g),L=e("<div class='ps-scrollbar-y'></div>").appendTo(m),T=parseInt(g.css("bottom"),10),y=T===T,x=y?null:parseInt(g.css("top"),10),S=parseInt(m.css("right"),10),I=S===S,P=I?null:parseInt(m.css("left"),10),D="rtl"===s.css("direction"),M=o(),C=parseInt(g.css("borderLeftWidth"),10)+parseInt(g.css("borderRightWidth"),10),X=parseInt(g.css("borderTopWidth"),10)+parseInt(g.css("borderBottomWidth"),10),Y=function(e,t){var o=e+t,n=u-v;b=0>o?0:o>n?n:o;var r=parseInt(b*(p-u)/(u-v),10);s.scrollTop(r),y?g.css({bottom:T-r}):g.css({top:x+r})},k=function(e,t){var o=e+t,n=c-f;h=0>o?0:o>n?n:o;var r=parseInt(h*(d-c)/(c-f),10);s.scrollLeft(r),I?m.css({right:S-r}):m.css({left:P+r})},W=function(e){return l.minScrollbarLength&&(e=Math.max(e,l.minScrollbarLength)),l.maxScrollbarLength&&(e=Math.min(e,l.maxScrollbarLength)),e},j=function(){var e={width:c,display:a?"inherit":"none"};e.left=D?s.scrollLeft()+c-d:s.scrollLeft(),y?e.bottom=T-s.scrollTop():e.top=x+s.scrollTop(),g.css(e);var t={top:s.scrollTop(),height:u,display:i?"inherit":"none"};I?t.right=D?d-s.scrollLeft()-S-L.outerWidth():S-s.scrollLeft():t.left=D?s.scrollLeft()+2*c-d-P-L.outerWidth():P+s.scrollLeft(),m.css(t),w.css({left:h,width:f-C}),L.css({top:b,height:v-X}),a?s.addClass("ps-active-x"):s.removeClass("ps-active-x"),i?s.addClass("ps-active-y"):s.removeClass("ps-active-y")},O=function(){c=l.includePadding?s.innerWidth():s.width(),u=l.includePadding?s.innerHeight():s.height(),d=s.prop("scrollWidth"),p=s.prop("scrollHeight"),!l.suppressScrollX&&d>c+l.scrollXMarginOffset?(a=!0,f=W(parseInt(c*c/d,10)),h=parseInt(s.scrollLeft()*(c-f)/(d-c),10)):(a=!1,f=0,h=0,s.scrollLeft(0)),!l.suppressScrollY&&p>u+l.scrollYMarginOffset?(i=!0,v=W(parseInt(u*u/p,10)),b=parseInt(s.scrollTop()*(u-v)/(p-u),10)):(i=!1,v=0,b=0,s.scrollTop(0)),b>=u-v&&(b=u-v),h>=c-f&&(h=c-f),j()},E=function(){var t,o;w.bind("mousedown"+M,function(e){o=e.pageX,t=w.position().left,g.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+M,function(e){g.hasClass("in-scrolling")&&(k(t,e.pageX-o),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+M,function(){g.hasClass("in-scrolling")&&g.removeClass("in-scrolling")}),t=o=null},H=function(){var t,o;L.bind("mousedown"+M,function(e){o=e.pageY,t=L.position().top,m.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+M,function(e){m.hasClass("in-scrolling")&&(Y(t,e.pageY-o),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+M,function(){m.hasClass("in-scrolling")&&m.removeClass("in-scrolling")}),t=o=null},A=function(e,t){var o=s.scrollTop();if(0===e){if(!i)return!1;if(0===o&&t>0||o>=p-u&&0>t)return!l.wheelPropagation}var n=s.scrollLeft();if(0===t){if(!a)return!1;if(0===n&&0>e||n>=d-c&&e>0)return!l.wheelPropagation}return!0},q=function(){l.wheelSpeed/=10;var e=!1;s.bind("mousewheel"+M,function(t,o,n,r){var c=t.deltaX*t.deltaFactor||n,u=t.deltaY*t.deltaFactor||r;e=!1,l.useBothWheelAxes?i&&!a?(u?s.scrollTop(s.scrollTop()-u*l.wheelSpeed):s.scrollTop(s.scrollTop()+c*l.wheelSpeed),e=!0):a&&!i&&(c?s.scrollLeft(s.scrollLeft()+c*l.wheelSpeed):s.scrollLeft(s.scrollLeft()-u*l.wheelSpeed),e=!0):(s.scrollTop(s.scrollTop()-u*l.wheelSpeed),s.scrollLeft(s.scrollLeft()+c*l.wheelSpeed)),O(),e=e||A(c,u),e&&(t.stopPropagation(),t.preventDefault())}),s.bind("MozMousePixelScroll"+M,function(t){e&&t.preventDefault()})},B=function(){var t=!1;s.bind("mouseenter"+M,function(){t=!0}),s.bind("mouseleave"+M,function(){t=!1});var o=!1;e(document).bind("keydown"+M,function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||!t||e(document.activeElement).is(":input,[contenteditable]"))){var r=0,l=0;switch(n.which){case 37:r=-30;break;case 38:l=30;break;case 39:r=30;break;case 40:l=-30;break;case 33:l=90;break;case 32:case 34:l=-90;break;case 35:l=-u;break;case 36:l=u;break;default:return}s.scrollTop(s.scrollTop()-l),s.scrollLeft(s.scrollLeft()+r),o=A(r,l),o&&n.preventDefault()}})},F=function(){var e=function(e){e.stopPropagation()};L.bind("click"+M,e),m.bind("click"+M,function(e){var t=parseInt(v/2,10),o=e.pageY-m.offset().top-t,n=u-v,r=o/n;0>r?r=0:r>1&&(r=1),s.scrollTop((p-u)*r)}),w.bind("click"+M,e),g.bind("click"+M,function(e){var t=parseInt(f/2,10),o=e.pageX-g.offset().left-t,n=c-f,r=o/n;0>r?r=0:r>1&&(r=1),s.scrollLeft((d-c)*r)})},z=function(){var t=function(e,t){s.scrollTop(s.scrollTop()-t),s.scrollLeft(s.scrollLeft()-e),O()},o={},n=0,r={},l=null,a=!1;e(window).bind("touchstart"+M,function(){a=!0}),e(window).bind("touchend"+M,function(){a=!1}),s.bind("touchstart"+M,function(e){var t=e.originalEvent.targetTouches[0];o.pageX=t.pageX,o.pageY=t.pageY,n=(new Date).getTime(),null!==l&&clearInterval(l),e.stopPropagation()}),s.bind("touchmove"+M,function(e){if(!a&&1===e.originalEvent.targetTouches.length){var l=e.originalEvent.targetTouches[0],s={};s.pageX=l.pageX,s.pageY=l.pageY;var i=s.pageX-o.pageX,c=s.pageY-o.pageY;t(i,c),o=s;var u=(new Date).getTime(),d=u-n;d>0&&(r.x=i/d,r.y=c/d,n=u),e.preventDefault()}}),s.bind("touchend"+M,function(){clearInterval(l),l=setInterval(function(){return.01>Math.abs(r.x)&&.01>Math.abs(r.y)?(clearInterval(l),void 0):(t(30*r.x,30*r.y),r.x*=.8,r.y*=.8,void 0)},10)})},K=function(){s.bind("scroll"+M,function(){O()})},Q=function(){s.unbind(M),e(window).unbind(M),e(document).unbind(M),s.data("perfect-scrollbar",null),s.data("perfect-scrollbar-update",null),s.data("perfect-scrollbar-destroy",null),w.remove(),L.remove(),g.remove(),m.remove(),g=m=w=L=a=i=c=u=d=p=f=h=T=y=x=v=b=S=I=P=D=M=null},R=function(t){s.addClass("ie").addClass("ie"+t);var o=function(){var t=function(){e(this).addClass("hover")},o=function(){e(this).removeClass("hover")};s.bind("mouseenter"+M,t).bind("mouseleave"+M,o),g.bind("mouseenter"+M,t).bind("mouseleave"+M,o),m.bind("mouseenter"+M,t).bind("mouseleave"+M,o),w.bind("mouseenter"+M,t).bind("mouseleave"+M,o),L.bind("mouseenter"+M,t).bind("mouseleave"+M,o)},n=function(){j=function(){var e={left:h+s.scrollLeft(),width:f};y?e.bottom=T:e.top=x,w.css(e);var t={top:b+s.scrollTop(),height:v};I?t.right=S:t.left=P,L.css(t),w.hide().show(),L.hide().show()}};6===t&&(o(),n())},N="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,Z=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&&"msie"===e[1]&&R(parseInt(e[2],10)),O(),K(),E(),H(),F(),N&&z(),s.mousewheel&&q(),l.useKeyboard&&B(),s.data("perfect-scrollbar",s),s.data("perfect-scrollbar-update",O),s.data("perfect-scrollbar-destroy",Q)};return Z(),s})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=i.call(arguments,1),c=0,u=0,d=0,p=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in s&&(d=-1*s.deltaY,c=d),"deltaX"in s&&(u=s.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===s.deltaMode){var f=e.data(this,"mousewheel-line-height");c*=f,d*=f,u*=f}else if(2===s.deltaMode){var h=e.data(this,"mousewheel-page-height");c*=h,d*=h,u*=h}return p=Math.max(Math.abs(d),Math.abs(u)),(!l||l>p)&&(l=p,n(s,p)&&(l/=40)),n(s,p)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/l),u=Math[u>=1?"floor":"ceil"](u/l),d=Math[d>=1?"floor":"ceil"](d/l),t.deltaX=u,t.deltaY=d,t.deltaFactor=l,t.deltaMode=0,a.unshift(t,c,u,d),r&&clearTimeout(r),r=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function o(){l=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&0===t%120}var r,l,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(e.event.fixHooks)for(var c=s.length;c;)e.event.fixHooks[s[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var o=a.length;o;)this.addEventListener(a[--o],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
///#source 1 1 /h5/libraries/angular-perfect-scrollbar/perfect-scrollbar.min.js
/*! perfect-scrollbar - v0.4.11
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2014 Hyeonje Alex Jun; Licensed MIT */
(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)})(function(e){"use strict";var t={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},o=function(){var e=0;return function(){var t=e;return e+=1,".perfect-scrollbar-"+t}}();e.fn.perfectScrollbar=function(r,n){return this.each(function(){var l=e.extend(!0,{},t),s=e(this);if("object"==typeof r?e.extend(!0,l,r):n=r,"update"===n)return s.data("perfect-scrollbar-update")&&s.data("perfect-scrollbar-update")(),s;if("destroy"===n)return s.data("perfect-scrollbar-destroy")&&s.data("perfect-scrollbar-destroy")(),s;if(s.data("perfect-scrollbar"))return s.data("perfect-scrollbar");s.addClass("ps-container");var a,c,i,u,d,p,f,h,v,b,g=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(s),m=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(s),w=e("<div class='ps-scrollbar-x'></div>").appendTo(g),T=e("<div class='ps-scrollbar-y'></div>").appendTo(m),L=parseInt(g.css("bottom"),10),y=L===L,I=y?null:parseInt(g.css("top"),10),S=parseInt(m.css("right"),10),x=S===S,C=x?null:parseInt(m.css("left"),10),P="rtl"===s.css("direction"),D=o(),X=parseInt(g.css("borderLeftWidth"),10)+parseInt(g.css("borderRightWidth"),10),Y=parseInt(g.css("borderTopWidth"),10)+parseInt(g.css("borderBottomWidth"),10),k=function(e,t){var o=e+t,r=u-v;b=0>o?0:o>r?r:o;var n=parseInt(b*(p-u)/(u-v),10);s.scrollTop(n),y?g.css({bottom:L-n}):g.css({top:I+n})},M=function(e,t){var o=e+t,r=i-f;h=0>o?0:o>r?r:o;var n=parseInt(h*(d-i)/(i-f),10);s.scrollLeft(n),x?m.css({right:S-n}):m.css({left:C+n})},W=function(e){return l.minScrollbarLength&&(e=Math.max(e,l.minScrollbarLength)),l.maxScrollbarLength&&(e=Math.min(e,l.maxScrollbarLength)),e},j=function(){var e={width:i,display:a?"inherit":"none"};e.left=P?s.scrollLeft()+i-d:s.scrollLeft(),y?e.bottom=L-s.scrollTop():e.top=I+s.scrollTop(),g.css(e);var t={top:s.scrollTop(),height:u,display:c?"inherit":"none"};x?t.right=P?d-s.scrollLeft()-S-T.outerWidth():S-s.scrollLeft():t.left=P?s.scrollLeft()+2*i-d-C-T.outerWidth():C+s.scrollLeft(),m.css(t),w.css({left:h,width:f-X}),T.css({top:b,height:v-Y}),a?s.addClass("ps-active-x"):s.removeClass("ps-active-x"),c?s.addClass("ps-active-y"):s.removeClass("ps-active-y")},E=function(){i=l.includePadding?s.innerWidth():s.width(),u=l.includePadding?s.innerHeight():s.height(),d=s.prop("scrollWidth"),p=s.prop("scrollHeight"),!l.suppressScrollX&&d>i+l.scrollXMarginOffset?(a=!0,f=W(parseInt(i*i/d,10)),h=parseInt(s.scrollLeft()*(i-f)/(d-i),10)):(a=!1,f=0,h=0,s.scrollLeft(0)),!l.suppressScrollY&&p>u+l.scrollYMarginOffset?(c=!0,v=W(parseInt(u*u/p,10)),b=parseInt(s.scrollTop()*(u-v)/(p-u),10)):(c=!1,v=0,b=0,s.scrollTop(0)),b>=u-v&&(b=u-v),h>=i-f&&(h=i-f),j()},O=function(){var t,o;w.bind("mousedown"+D,function(e){o=e.pageX,t=w.position().left,g.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+D,function(e){g.hasClass("in-scrolling")&&(M(t,e.pageX-o),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+D,function(){g.hasClass("in-scrolling")&&g.removeClass("in-scrolling")}),t=o=null},q=function(){var t,o;T.bind("mousedown"+D,function(e){o=e.pageY,t=T.position().top,m.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+D,function(e){m.hasClass("in-scrolling")&&(k(t,e.pageY-o),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+D,function(){m.hasClass("in-scrolling")&&m.removeClass("in-scrolling")}),t=o=null},A=function(e,t){var o=s.scrollTop();if(0===e){if(!c)return!1;if(0===o&&t>0||o>=p-u&&0>t)return!l.wheelPropagation}var r=s.scrollLeft();if(0===t){if(!a)return!1;if(0===r&&0>e||r>=d-i&&e>0)return!l.wheelPropagation}return!0},B=function(){l.wheelSpeed/=10;var e=!1;s.bind("mousewheel"+D,function(t,o,r,n){var i=t.deltaX*t.deltaFactor||r,u=t.deltaY*t.deltaFactor||n;e=!1,l.useBothWheelAxes?c&&!a?(u?s.scrollTop(s.scrollTop()-u*l.wheelSpeed):s.scrollTop(s.scrollTop()+i*l.wheelSpeed),e=!0):a&&!c&&(i?s.scrollLeft(s.scrollLeft()+i*l.wheelSpeed):s.scrollLeft(s.scrollLeft()-u*l.wheelSpeed),e=!0):(s.scrollTop(s.scrollTop()-u*l.wheelSpeed),s.scrollLeft(s.scrollLeft()+i*l.wheelSpeed)),E(),e=e||A(i,u),e&&(t.stopPropagation(),t.preventDefault())}),s.bind("MozMousePixelScroll"+D,function(t){e&&t.preventDefault()})},F=function(){var t=!1;s.bind("mouseenter"+D,function(){t=!0}),s.bind("mouseleave"+D,function(){t=!1});var o=!1;e(document).bind("keydown"+D,function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||!t||e(document.activeElement).is(":input,[contenteditable]"))){var n=0,l=0;switch(r.which){case 37:n=-30;break;case 38:l=30;break;case 39:n=30;break;case 40:l=-30;break;case 33:l=90;break;case 32:case 34:l=-90;break;case 35:l=-u;break;case 36:l=u;break;default:return}s.scrollTop(s.scrollTop()-l),s.scrollLeft(s.scrollLeft()+n),o=A(n,l),o&&r.preventDefault()}})},H=function(){var e=function(e){e.stopPropagation()};T.bind("click"+D,e),m.bind("click"+D,function(e){var t=parseInt(v/2,10),o=e.pageY-m.offset().top-t,r=u-v,n=o/r;0>n?n=0:n>1&&(n=1),s.scrollTop((p-u)*n)}),w.bind("click"+D,e),g.bind("click"+D,function(e){var t=parseInt(f/2,10),o=e.pageX-g.offset().left-t,r=i-f,n=o/r;0>n?n=0:n>1&&(n=1),s.scrollLeft((d-i)*n)})},K=function(){var t=function(e,t){s.scrollTop(s.scrollTop()-t),s.scrollLeft(s.scrollLeft()-e),E()},o={},r=0,n={},l=null,a=!1;e(window).bind("touchstart"+D,function(){a=!0}),e(window).bind("touchend"+D,function(){a=!1}),s.bind("touchstart"+D,function(e){var t=e.originalEvent.targetTouches[0];o.pageX=t.pageX,o.pageY=t.pageY,r=(new Date).getTime(),null!==l&&clearInterval(l),e.stopPropagation()}),s.bind("touchmove"+D,function(e){if(!a&&1===e.originalEvent.targetTouches.length){var l=e.originalEvent.targetTouches[0],s={};s.pageX=l.pageX,s.pageY=l.pageY;var c=s.pageX-o.pageX,i=s.pageY-o.pageY;t(c,i),o=s;var u=(new Date).getTime(),d=u-r;d>0&&(n.x=c/d,n.y=i/d,r=u),e.preventDefault()}}),s.bind("touchend"+D,function(){clearInterval(l),l=setInterval(function(){return.01>Math.abs(n.x)&&.01>Math.abs(n.y)?(clearInterval(l),void 0):(t(30*n.x,30*n.y),n.x*=.8,n.y*=.8,void 0)},10)})},z=function(){s.bind("scroll"+D,function(){E()})},Q=function(){s.unbind(D),e(window).unbind(D),e(document).unbind(D),s.data("perfect-scrollbar",null),s.data("perfect-scrollbar-update",null),s.data("perfect-scrollbar-destroy",null),w.remove(),T.remove(),g.remove(),m.remove(),g=m=w=T=a=c=i=u=d=p=f=h=L=y=I=v=b=S=x=C=P=D=null},R=function(t){s.addClass("ie").addClass("ie"+t);var o=function(){var t=function(){e(this).addClass("hover")},o=function(){e(this).removeClass("hover")};s.bind("mouseenter"+D,t).bind("mouseleave"+D,o),g.bind("mouseenter"+D,t).bind("mouseleave"+D,o),m.bind("mouseenter"+D,t).bind("mouseleave"+D,o),w.bind("mouseenter"+D,t).bind("mouseleave"+D,o),T.bind("mouseenter"+D,t).bind("mouseleave"+D,o)},r=function(){j=function(){var e={left:h+s.scrollLeft(),width:f};y?e.bottom=L:e.top=I,w.css(e);var t={top:b+s.scrollTop(),height:v};x?t.right=S:t.left=C,T.css(t),w.hide().show(),T.hide().show()}};6===t&&(o(),r())},G="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,J=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&&"msie"===e[1]&&R(parseInt(e[2],10)),E(),z(),O(),q(),H(),G&&K(),s.mousewheel&&B(),l.useKeyboard&&F(),s.data("perfect-scrollbar",s),s.data("perfect-scrollbar-update",E),s.data("perfect-scrollbar-destroy",Q)};return J(),s})}});
///#source 1 1 /h5/libraries/ladda/dist/ladda.min.js
/*!
 * Ladda 0.9.8 (2015-03-19, 17:22)
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2015 Hakim El Hattab, http://hakim.se
 */
(function(t,e){"object"==typeof exports?module.exports=e(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],e):t.Ladda=e(t.Spinner)})(this,function(t){"use strict";function e(t){if(t===void 0)return console.warn("Ladda button target must be defined."),void 0;t.querySelector(".ladda-label")||(t.innerHTML='<span class="ladda-label">'+t.innerHTML+"</span>");var e,n=t.querySelector(".ladda-spinner");n||(n=document.createElement("span"),n.className="ladda-spinner"),t.appendChild(n);var r,a={start:function(){return e||(e=o(t)),t.setAttribute("disabled",""),t.setAttribute("data-loading",""),clearTimeout(r),e.spin(n),this.setProgress(0),this},startAfter:function(t){return clearTimeout(r),r=setTimeout(function(){a.start()},t),this},stop:function(){return t.removeAttribute("disabled"),t.removeAttribute("data-loading"),clearTimeout(r),e&&(r=setTimeout(function(){e.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(e){e=Math.max(Math.min(e,1),0);var n=t.querySelector(".ladda-progress");0===e&&n&&n.parentNode?n.parentNode.removeChild(n):(n||(n=document.createElement("div"),n.className="ladda-progress",t.appendChild(n)),n.style.width=(e||0)*t.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),t.setAttribute("disabled",""),this},isLoading:function(){return t.hasAttribute("data-loading")},remove:function(){clearTimeout(r),t.removeAttribute("disabled",""),t.removeAttribute("data-loading",""),e&&(e.stop(),e=null);for(var n=0,i=u.length;i>n;n++)if(a===u[n]){u.splice(n,1);break}}};return u.push(a),a}function n(t,e){for(;t.parentNode&&t.tagName!==e;)t=t.parentNode;return e===t.tagName?t:void 0}function r(t){for(var e=["input","textarea","select"],n=[],r=0;e.length>r;r++)for(var a=t.getElementsByTagName(e[r]),i=0;a.length>i;i++)a[i].hasAttribute("required")&&n.push(a[i]);return n}function a(t,a){a=a||{};var i=[];"string"==typeof t?i=s(document.querySelectorAll(t)):"object"==typeof t&&"string"==typeof t.nodeName&&(i=[t]);for(var o=0,u=i.length;u>o;o++)(function(){var t=i[o];if("function"==typeof t.addEventListener){var s=e(t),u=-1;t.addEventListener("click",function(){var e=!0,i=n(t,"FORM");if(i!==void 0)for(var o=r(i),d=0;o.length>d;d++)""===o[d].value.replace(/^\s+|\s+$/g,"")&&(e=!1),"checkbox"!==o[d].type&&"radio"!==o[d].type||o[d].checked||(e=!1),"email"===o[d].type&&(e=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(o[d].value));e&&(s.startAfter(1),"number"==typeof a.timeout&&(clearTimeout(u),u=setTimeout(s.stop,a.timeout)),"function"==typeof a.callback&&a.callback.apply(null,[s]))},!1)}})()}function i(){for(var t=0,e=u.length;e>t;t++)u[t].stop()}function o(e){var n,r=e.offsetHeight;0===r&&(r=parseFloat(window.getComputedStyle(e).height)),r>32&&(r*=.8),e.hasAttribute("data-spinner-size")&&(r=parseInt(e.getAttribute("data-spinner-size"),10)),e.hasAttribute("data-spinner-color")&&(n=e.getAttribute("data-spinner-color"));var a=12,i=.2*r,o=.6*i,s=7>i?2:3;return new t({color:n||"#fff",lines:a,radius:i,length:o,width:s,zIndex:"auto",top:"auto",left:"auto",className:""})}function s(t){for(var e=[],n=0;t.length>n;n++)e.push(t[n]);return e}var u=[];return{bind:a,create:e,stopAll:i}});
///#source 1 1 /h5/libraries/angular-loading-bar/build/angular-round-progress-directive.min.js
/*!
 * AngularJS Round Progress Directive
 *
 * Copyright 2013 Stephane Begaudeau
 * Released under the MIT license
 * 
 * Modified for seismic
 * 
 */
angular.module("angular.directives-round-progress",[]).directive("angRoundProgress",["$interval",function(n){function t(n,t,i,r,u,f,e,o){n.beginPath();n.arc(t,i,parseInt(r),f,e,!1);n.lineWidth=parseInt(u);n.strokeStyle=o;n.stroke()}function r(n,t,i,r,u,f,e,o,s){n.font=t;n.textAlign=i;n.textBaseline=r;n.fillStyle=u;n.fillText(f,e,o,s)}var i=function(i){var e,f,h;if(i.length===1){e=i[0];f=document.createElement("canvas");f.setAttribute("width",width);f.setAttribute("height",height);h=e.getAttribute("data-round-progress-model");e.parentNode.replaceChild(f,e);var o=0,u=0,s=-1;return{pre:function(i){i.$watch(h,function(i){var b=i.width,v=i.height,y=v/6.5,p=2,tt=i.isProgress,l=i.circleWidth,w=i.circleBackgroundColor,k=i.upCircleForegroundColor,d=i.downCircleForegroundColor,g=i.labelColor,a=i.circleRadius,nt=i.labelFont,it=i.isFinished,e=f.getContext("2d"),h,c;e.clearRect(0,0,b,v);h=b/2;c=v/2;t(e,h,c,parseInt(a),parseInt(l),.5*Math.PI,0*Math.PI,w);t(e,h+p,c+y,parseInt(a),parseInt(l),1.5*Math.PI,1*Math.PI,w);n.cancel(s);s=n(function(){var r,f;i.isFinished&&n.cancel(s);u<=.5?(r=-(u*1.5*Math.PI*2),f=0,t(e,h,c,parseInt(a),parseInt(l),r,f,k)):u<=1&&(t(e,h,c,a,l,-4.71,0,k),u=(u-.5)*1.5,r=1.5*Math.PI,f=1.5*Math.PI+u*Math.PI*2,t(e,h+p,c+y,parseInt(a),parseInt(l),r,f,d));o<100?o++:(o=0,e.clearRect(0,0,b,v),t(e,h,c,parseInt(a),parseInt(l),.5*Math.PI,0*Math.PI,w),t(e,h+p,c+y,parseInt(a),parseInt(l),1.5*Math.PI,1*Math.PI,w));u=o/100},20);r(e,nt,"center","middle",g,i.label,h+p,c+y+30,300)},!0)},post:function(){}}}};return{compile:i,replace:!0}}]);
//# sourceMappingURL=angular-round-progress-directive.min.js.map

///#source 1 1 /h5/libraries/angular-placeholder/angular-placeholder.min.js
angular.module("ngPlaceholder",[]).directive("ngPlaceholder",[function(){var n=function(){var n=document.createElement("input");return"placeholder"in n}();return{restrict:"A",link:function(t,i,r){var u=r.ngPlaceholder||r.placeholder,f=i[0].form;if(n){i.attr("placeholder",u);return}i.val(u);i.bind("focus",function(){i.val()===u&&i.val("")});i.bind("blur",function(){i.val()===""&&i.val(u)});f!==null&&angular.element(f).bind("submit",function(){return i.val()===u&&i.val(""),!0})}}}]);
//# sourceMappingURL=angular-placeholder.min.js.map

///#source 1 1 /h5/libraries/linq.js/linq.min.js
Enumerable=function(){var n=function(n){this.GetEnumerator=n},s,u;n.Choice=function(){var t=arguments[0]instanceof Array?arguments[0]:arguments;return new n(function(){return new i(r.Blank,function(){return this.Yield(t[Math.floor(Math.random()*t.length)])},r.Blank)})};n.Cycle=function(){var t=arguments[0]instanceof Array?arguments[0]:arguments;return new n(function(){var n=0;return new i(r.Blank,function(){return n>=t.length&&(n=0),this.Yield(t[n++])},r.Blank)})};n.Empty=function(){return new n(function(){return new i(r.Blank,function(){return!1},r.Blank)})};n.From=function(e){if(e==null)return n.Empty();if(e instanceof n)return e;if(typeof e==f.Number||typeof e==f.Boolean)return n.Repeat(e,1);if(typeof e==f.String)return new n(function(){var n=0;return new i(r.Blank,function(){return n<e.length?this.Yield(e.charAt(n++)):!1},r.Blank)});if(typeof e!=f.Function){if(typeof e.length==f.Number)return new u(e);if(!(e instanceof Object)&&t.IsIEnumerable(e))return new n(function(){var t=!0,n;return new i(function(){n=new Enumerator(e)},function(){return t?t=!1:n.moveNext(),n.atEnd()?!1:this.Yield(n.item())},r.Blank)})}return new n(function(){var n=[],t=0;return new i(function(){for(var t in e)e[t]instanceof Function||n.push({Key:t,Value:e[t]})},function(){return t<n.length?this.Yield(n[t++]):!1},r.Blank)})};n.Return=function(t){return n.Repeat(t,1)};n.Matches=function(t,u,f){return f==null&&(f=""),u instanceof RegExp&&(f+=u.ignoreCase?"i":"",f+=u.multiline?"m":"",u=u.source),f.indexOf("g")===-1&&(f+="g"),new n(function(){var n;return new i(function(){n=new RegExp(u,f)},function(){var i=n.exec(t);return i?this.Yield(i):!1},r.Blank)})};n.Range=function(t,i,r){return r==null&&(r=1),n.ToInfinity(t,r).Take(i)};n.RangeDown=function(t,i,r){return r==null&&(r=1),n.ToNegativeInfinity(t,r).Take(i)};n.RangeTo=function(t,i,r){return r==null&&(r=1),t<i?n.ToInfinity(t,r).TakeWhile(function(n){return n<=i}):n.ToNegativeInfinity(t,r).TakeWhile(function(n){return n>=i})};n.Repeat=function(t,u){return u!=null?n.Repeat(t).Take(u):new n(function(){return new i(r.Blank,function(){return this.Yield(t)},r.Blank)})};n.RepeatWithFinalize=function(r,u){return r=t.CreateLambda(r),u=t.CreateLambda(u),new n(function(){var n;return new i(function(){n=r()},function(){return this.Yield(n)},function(){n!=null&&(u(n),n=null)})})};n.Generate=function(u,f){return f!=null?n.Generate(u).Take(f):(u=t.CreateLambda(u),new n(function(){return new i(r.Blank,function(){return this.Yield(u())},r.Blank)}))};n.ToInfinity=function(t,u){return t==null&&(t=0),u==null&&(u=1),new n(function(){var n;return new i(function(){n=t-u},function(){return this.Yield(n+=u)},r.Blank)})};n.ToNegativeInfinity=function(t,u){return t==null&&(t=0),u==null&&(u=1),new n(function(){var n;return new i(function(){n=t+u},function(){return this.Yield(n-=u)},r.Blank)})};n.Unfold=function(u,f){return f=t.CreateLambda(f),new n(function(){var t=!0,n;return new i(r.Blank,function(){return t?(t=!1,n=u,this.Yield(n)):(n=f(n),this.Yield(n))},r.Blank)})};n.prototype={CascadeBreadthFirst:function(r,u){var f=this;return r=t.CreateLambda(r),u=t.CreateLambda(u),new n(function(){var e,s=0,o=[];return new i(function(){e=f.GetEnumerator()},function(){for(;;){if(e.MoveNext())return o.push(e.Current()),this.Yield(u(e.Current(),s));var i=n.From(o).SelectMany(function(n){return r(n)});if(i.Any())s++,o=[],t.Dispose(e),e=i.GetEnumerator();else return!1}},function(){t.Dispose(e)})})},CascadeDepthFirst:function(r,u){var f=this;return r=t.CreateLambda(r),u=t.CreateLambda(u),new n(function(){var o=[],e;return new i(function(){e=f.GetEnumerator()},function(){for(;;){if(e.MoveNext()){var i=u(e.Current(),o.length);return o.push(e),e=n.From(r(e.Current())).GetEnumerator(),this.Yield(i)}if(o.length<=0)return!1;t.Dispose(e);e=o.pop()}},function(){try{t.Dispose(e)}finally{n.From(o).ForEach(function(n){n.Dispose()})}})})},Flatten:function(){var u=this;return new n(function(){var e,f=null;return new i(function(){e=u.GetEnumerator()},function(){for(;;){if(f!=null){if(f.MoveNext())return this.Yield(f.Current());f=null}if(e.MoveNext())if(e.Current()instanceof Array){t.Dispose(f);f=n.From(e.Current()).SelectMany(r.Identity).Flatten().GetEnumerator();continue}else return this.Yield(e.Current());return!1}},function(){try{t.Dispose(e)}finally{t.Dispose(f)}})})},Pairwise:function(r){var u=this;return r=t.CreateLambda(r),new n(function(){var n;return new i(function(){n=u.GetEnumerator();n.MoveNext()},function(){var t=n.Current();return n.MoveNext()?this.Yield(r(t,n.Current())):!1},function(){t.Dispose(n)})})},Scan:function(r,u,f){var e,o;return f!=null?this.Scan(r,u).Select(f):(u==null?(u=t.CreateLambda(r),e=!1):(u=t.CreateLambda(u),e=!0),o=this,new n(function(){var n,f,s=!0;return new i(function(){n=o.GetEnumerator()},function(){if(s){if(s=!1,e)return this.Yield(f=r);if(n.MoveNext())return this.Yield(f=n.Current())}return n.MoveNext()?this.Yield(f=u(f,n.Current())):!1},function(){t.Dispose(n)})}))},Select:function(r){var u=this;return r=t.CreateLambda(r),new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()?this.Yield(r(n.Current(),f++)):!1},function(){t.Dispose(n)})})},SelectMany:function(r,u){var f=this;return r=t.CreateLambda(r),u==null&&(u=function(n,t){return t}),u=t.CreateLambda(u),new n(function(){var o,e=undefined,s=0;return new i(function(){o=f.GetEnumerator()},function(){if(e===undefined&&!o.MoveNext())return!1;do{if(e==null){var i=r(o.Current(),s++);e=n.From(i).GetEnumerator()}if(e.MoveNext())return this.Yield(u(o.Current(),e.Current()));t.Dispose(e);e=null}while(o.MoveNext());return!1},function(){try{t.Dispose(o)}finally{t.Dispose(e)}})})},Where:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){while(n.MoveNext())if(r(n.Current(),f++))return this.Yield(n.Current());return!1},function(){t.Dispose(n)})})},OfType:function(n){var t;switch(n){case Number:t=f.Number;break;case String:t=f.String;break;case Boolean:t=f.Boolean;break;case Function:t=f.Function;break;default:t=null}return t===null?this.Where(function(t){return t instanceof n}):this.Where(function(n){return typeof n===t})},Zip:function(r,u){u=t.CreateLambda(u);var f=this;return new n(function(){var e,o,s=0;return new i(function(){e=f.GetEnumerator();o=n.From(r).GetEnumerator()},function(){return e.MoveNext()&&o.MoveNext()?this.Yield(u(e.Current(),o.Current(),s++)):!1},function(){try{t.Dispose(e)}finally{t.Dispose(o)}})})},Join:function(u,f,e,o,s){f=t.CreateLambda(f);e=t.CreateLambda(e);o=t.CreateLambda(o);s=t.CreateLambda(s);var h=this;return new n(function(){var c,a,l=null,v=0;return new i(function(){c=h.GetEnumerator();a=n.From(u).ToLookup(e,r.Identity,s)},function(){for(var n,t;;){if(l!=null){if(n=l[v++],n!==undefined)return this.Yield(o(c.Current(),n));n=null;v=0}if(c.MoveNext())t=f(c.Current()),l=a.Get(t).ToArray();else return!1}},function(){t.Dispose(c)})})},GroupJoin:function(u,f,e,o,s){f=t.CreateLambda(f);e=t.CreateLambda(e);o=t.CreateLambda(o);s=t.CreateLambda(s);var h=this;return new n(function(){var c=h.GetEnumerator(),l=null;return new i(function(){c=h.GetEnumerator();l=n.From(u).ToLookup(e,r.Identity,s)},function(){if(c.MoveNext()){var n=l.Get(f(c.Current()));return this.Yield(o(c.Current(),n))}return!1},function(){t.Dispose(c)})})},All:function(n){n=t.CreateLambda(n);var i=!0;return this.ForEach(function(t){if(!n(t))return i=!1,!1}),i},Any:function(n){n=t.CreateLambda(n);var i=this.GetEnumerator();try{if(arguments.length==0)return i.MoveNext();while(i.MoveNext())if(n(i.Current()))return!0;return!1}finally{t.Dispose(i)}},Concat:function(r){var u=this;return new n(function(){var e,f;return new i(function(){e=u.GetEnumerator()},function(){if(f==null){if(e.MoveNext())return this.Yield(e.Current());f=n.From(r).GetEnumerator()}return f.MoveNext()?this.Yield(f.Current()):!1},function(){try{t.Dispose(e)}finally{t.Dispose(f)}})})},Insert:function(r,u){var f=this;return new n(function(){var o,e,s=0,h=!1;return new i(function(){o=f.GetEnumerator();e=n.From(u).GetEnumerator()},function(){return s==r&&e.MoveNext()?(h=!0,this.Yield(e.Current())):o.MoveNext()?(s++,this.Yield(o.Current())):!h&&e.MoveNext()?this.Yield(e.Current()):!1},function(){try{t.Dispose(o)}finally{t.Dispose(e)}})})},Alternate:function(t){return t=n.Return(t),this.SelectMany(function(i){return n.Return(i).Concat(t)}).TakeExceptLast()},Contains:function(n,i){i=t.CreateLambda(i);var r=this.GetEnumerator();try{while(r.MoveNext())if(i(r.Current())===n)return!0;return!1}finally{t.Dispose(r)}},DefaultIfEmpty:function(r){var u=this;return new n(function(){var n,f=!0;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()?(f=!1,this.Yield(n.Current())):f?(f=!1,this.Yield(r)):!1},function(){t.Dispose(n)})})},Distinct:function(t){return this.Except(n.Empty(),t)},Except:function(r,u){u=t.CreateLambda(u);var f=this;return new n(function(){var e,o;return new i(function(){e=f.GetEnumerator();o=new h(u);n.From(r).ForEach(function(n){o.Add(n)})},function(){while(e.MoveNext()){var n=e.Current();if(!o.Contains(n))return o.Add(n),this.Yield(n)}return!1},function(){t.Dispose(e)})})},Intersect:function(r,u){u=t.CreateLambda(u);var f=this;return new n(function(){var e,o,s;return new i(function(){e=f.GetEnumerator();o=new h(u);n.From(r).ForEach(function(n){o.Add(n)});s=new h(u)},function(){while(e.MoveNext()){var n=e.Current();if(!s.Contains(n)&&o.Contains(n))return s.Add(n),this.Yield(n)}return!1},function(){t.Dispose(e)})})},SequenceEqual:function(i,r){var f,u;r=t.CreateLambda(r);f=this.GetEnumerator();try{u=n.From(i).GetEnumerator();try{while(f.MoveNext())if(!u.MoveNext()||r(f.Current())!==r(u.Current()))return!1;return u.MoveNext()?!1:!0}finally{t.Dispose(u)}}finally{t.Dispose(f)}},Union:function(r,u){u=t.CreateLambda(u);var f=this;return new n(function(){var s,e,o;return new i(function(){s=f.GetEnumerator();o=new h(u)},function(){var t;if(e===undefined){while(s.MoveNext())if(t=s.Current(),!o.Contains(t))return o.Add(t),this.Yield(t);e=n.From(r).GetEnumerator()}while(e.MoveNext())if(t=e.Current(),!o.Contains(t))return o.Add(t),this.Yield(t);return!1},function(){try{t.Dispose(s)}finally{t.Dispose(e)}})})},OrderBy:function(n){return new e(this,n,!1)},OrderByDescending:function(n){return new e(this,n,!0)},Reverse:function(){var t=this;return new n(function(){var n,u;return new i(function(){n=t.ToArray();u=n.length},function(){return u>0?this.Yield(n[--u]):!1},r.Blank)})},Shuffle:function(){var t=this;return new n(function(){var n;return new i(function(){n=t.ToArray()},function(){if(n.length>0){var t=Math.floor(Math.random()*n.length);return this.Yield(n.splice(t,1)[0])}return!1},r.Blank)})},GroupBy:function(r,u,f,e){var o=this;return r=t.CreateLambda(r),u=t.CreateLambda(u),f!=null&&(f=t.CreateLambda(f)),e=t.CreateLambda(e),new n(function(){var n;return new i(function(){n=o.ToLookup(r,u,e).ToEnumerable().GetEnumerator()},function(){while(n.MoveNext())return f==null?this.Yield(n.Current()):this.Yield(f(n.Current().Key(),n.Current()));return!1},function(){t.Dispose(n)})})},PartitionBy:function(r,u,f,e){var s=this,o;return r=t.CreateLambda(r),u=t.CreateLambda(u),e=t.CreateLambda(e),f==null?(o=!1,f=function(n,t){return new c(n,t)}):(o=!0,f=t.CreateLambda(f)),new n(function(){var h,l,a,c=[];return new i(function(){h=s.GetEnumerator();h.MoveNext()&&(l=r(h.Current()),a=e(l),c.push(u(h.Current())))},function(){for(var t,i;(t=h.MoveNext())==!0;)if(a===e(r(h.Current())))c.push(u(h.Current()));else break;return c.length>0?(i=o?f(l,n.From(c)):f(l,c),t?(l=r(h.Current()),a=e(l),c=[u(h.Current())]):c=[],this.Yield(i)):!1},function(){t.Dispose(h)})})},BufferWithCount:function(r){var u=this;return new n(function(){var n;return new i(function(){n=u.GetEnumerator()},function(){for(var t=[],i=0;n.MoveNext();)if(t.push(n.Current()),++i>=r)return this.Yield(t);return t.length>0?this.Yield(t):!1},function(){t.Dispose(n)})})},Aggregate:function(n,t,i){return this.Scan(n,t,i).Last()},Average:function(n){n=t.CreateLambda(n);var i=0,r=0;return this.ForEach(function(t){i+=n(t);++r}),i/r},Count:function(n){n=n==null?r.True:t.CreateLambda(n);var i=0;return this.ForEach(function(t,r){n(t,r)&&++i}),i},Max:function(n){return n==null&&(n=r.Identity),this.Select(n).Aggregate(function(n,t){return n>t?n:t})},Min:function(n){return n==null&&(n=r.Identity),this.Select(n).Aggregate(function(n,t){return n<t?n:t})},MaxBy:function(n){return n=t.CreateLambda(n),this.Aggregate(function(t,i){return n(t)>n(i)?t:i})},MinBy:function(n){return n=t.CreateLambda(n),this.Aggregate(function(t,i){return n(t)<n(i)?t:i})},Sum:function(n){return n==null&&(n=r.Identity),this.Select(n).Aggregate(0,function(n,t){return n+t})},ElementAt:function(n){var t,i=!1;if(this.ForEach(function(r,u){if(u==n)return t=r,i=!0,!1}),!i)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return t},ElementAtOrDefault:function(n,t){var i,r=!1;return this.ForEach(function(t,u){if(u==n)return i=t,r=!0,!1}),r?i:t},First:function(n){if(n!=null)return this.Where(n).First();var t,i=!1;if(this.ForEach(function(n){return t=n,i=!0,!1}),!i)throw new Error("First:No element satisfies the condition.");return t},FirstOrDefault:function(n,t){if(t!=null)return this.Where(t).FirstOrDefault(n);var i,r=!1;return this.ForEach(function(n){return i=n,r=!0,!1}),r?i:n},Last:function(n){if(n!=null)return this.Where(n).Last();var t,i=!1;if(this.ForEach(function(n){i=!0;t=n}),!i)throw new Error("Last:No element satisfies the condition.");return t},LastOrDefault:function(n,t){if(t!=null)return this.Where(t).LastOrDefault(n);var i,r=!1;return this.ForEach(function(n){r=!0;i=n}),r?i:n},Single:function(n){if(n!=null)return this.Where(n).Single();var i,t=!1;if(this.ForEach(function(n){if(t)throw new Error("Single:sequence contains more than one element.");else t=!0,i=n}),!t)throw new Error("Single:No element satisfies the condition.");return i},SingleOrDefault:function(n,t){if(t!=null)return this.Where(t).SingleOrDefault(n);var r,i=!1;return this.ForEach(function(n){if(i)throw new Error("Single:sequence contains more than one element.");else i=!0,r=n}),i?r:n},Skip:function(r){var u=this;return new n(function(){var n,f=0;return new i(function(){for(n=u.GetEnumerator();f++<r&&n.MoveNext(););},function(){return n.MoveNext()?this.Yield(n.Current()):!1},function(){t.Dispose(n)})})},SkipWhile:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n,e=0,f=!1;return new i(function(){n=u.GetEnumerator()},function(){while(!f)if(n.MoveNext()){if(!r(n.Current(),e++))return f=!0,this.Yield(n.Current());continue}else return!1;return n.MoveNext()?this.Yield(n.Current()):!1},function(){t.Dispose(n)})})},Take:function(r){var u=this;return new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){return f++<r&&n.MoveNext()?this.Yield(n.Current()):!1},function(){t.Dispose(n)})})},TakeWhile:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()&&r(n.Current(),f++)?this.Yield(n.Current()):!1},function(){t.Dispose(n)})})},TakeExceptLast:function(r){r==null&&(r=1);var u=this;return new n(function(){if(r<=0)return u.GetEnumerator();var n,f=[];return new i(function(){n=u.GetEnumerator()},function(){while(n.MoveNext()){if(f.length==r)return f.push(n.Current()),this.Yield(f.shift());f.push(n.Current())}return!1},function(){t.Dispose(n)})})},TakeFromLast:function(r){if(r<=0||r==null)return n.Empty();var u=this;return new n(function(){var o,f,e=[];return new i(function(){o=u.GetEnumerator()},function(){while(o.MoveNext())e.length==r&&e.shift(),e.push(o.Current());return f==null&&(f=n.From(e).GetEnumerator()),f.MoveNext()?this.Yield(f.Current()):!1},function(){t.Dispose(f)})})},IndexOf:function(n){var t=null;return this.ForEach(function(i,r){if(i===n)return t=r,!0}),t!==null?t:-1},LastIndexOf:function(n){var t=-1;return this.ForEach(function(i,r){i===n&&(t=r)}),t},ToArray:function(){var n=[];return this.ForEach(function(t){n.push(t)}),n},ToLookup:function(n,i,r){n=t.CreateLambda(n);i=t.CreateLambda(i);r=t.CreateLambda(r);var u=new h(r);return this.ForEach(function(t){var r=n(t),f=i(t),e=u.Get(r);e!==undefined?e.push(f):u.Add(r,[f])}),new a(u)},ToObject:function(n,i){n=t.CreateLambda(n);i=t.CreateLambda(i);var r={};return this.ForEach(function(t){r[n(t)]=i(t)}),r},ToDictionary:function(n,i,r){n=t.CreateLambda(n);i=t.CreateLambda(i);r=t.CreateLambda(r);var u=new h(r);return this.ForEach(function(t){u.Add(n(t),i(t))}),u},ToJSON:function(n,t){return JSON.stringify(this.ToArray(),n,t)},ToString:function(n,t){return n==null&&(n=""),t==null&&(t=r.Identity),this.Select(t).ToArray().join(n)},Do:function(r){var u=this;return r=t.CreateLambda(r),new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()?(r(n.Current(),f++),this.Yield(n.Current())):!1},function(){t.Dispose(n)})})},ForEach:function(n){n=t.CreateLambda(n);var r=0,i=this.GetEnumerator();try{while(i.MoveNext())if(n(i.Current(),r++)===!1)break}finally{t.Dispose(i)}},Write:function(n,i){n==null&&(n="");i=t.CreateLambda(i);var r=!0;this.ForEach(function(t){r?r=!1:document.write(n);document.write(i(t))})},WriteLine:function(n){n=t.CreateLambda(n);this.ForEach(function(t){document.write(n(t));document.write("<br />")})},Force:function(){var n=this.GetEnumerator();try{while(n.MoveNext());}finally{t.Dispose(n)}},Let:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var f;return new i(function(){f=n.From(r(u)).GetEnumerator()},function(){return f.MoveNext()?this.Yield(f.Current()):!1},function(){t.Dispose(f)})})},Share:function(){var u=this,t;return new n(function(){return new i(function(){t==null&&(t=u.GetEnumerator())},function(){return t.MoveNext()?this.Yield(t.Current()):!1},r.Blank)})},MemoizeAll:function(){var f=this,t,u;return new n(function(){var n=-1;return new i(function(){u==null&&(u=f.GetEnumerator(),t=[])},function(){return(n++,t.length<=n)?u.MoveNext()?this.Yield(t[n]=u.Current()):!1:this.Yield(t[n])},r.Blank)})},Catch:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n;return new i(function(){n=u.GetEnumerator()},function(){try{return n.MoveNext()?this.Yield(n.Current()):!1}catch(t){return r(t),!1}},function(){t.Dispose(n)})})},Finally:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()?this.Yield(n.Current()):!1},function(){try{t.Dispose(n)}finally{r()}})})},Trace:function(n,i){return n==null&&(n="Trace"),i=t.CreateLambda(i),this.Do(function(t){console.log(n,":",i(t))})}};var r={Identity:function(n){return n},True:function(){return!0},Blank:function(){}},f={Boolean:"boolean",Number:"number",String:"string",Object:"object",Undefined:typeof undefined,Function:typeof function(){}},t={CreateLambda:function(n){if(n==null)return r.Identity;if(typeof n==f.String){if(n=="")return r.Identity;if(n.indexOf("=>")==-1)return new Function("$,$$,$$$,$$$$","return "+n);var t=n.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return new Function(t[1],"return "+t[2])}return n},IsIEnumerable:function(n){if(typeof Enumerator!=f.Undefined)try{return new Enumerator(n),!0}catch(t){}return!1},Compare:function(n,t){return n===t?0:n>t?1:-1},Dispose:function(n){n!=null&&n.Dispose()}},o={Before:0,Running:1,After:2},i=function(n,t,i){var u=new l,r=o.Before;this.Current=u.Current;this.MoveNext=function(){try{switch(r){case o.Before:r=o.Running;n();case o.Running:return t.apply(u)?!0:(this.Dispose(),!1);case o.After:return!1}}catch(i){this.Dispose();throw i;}};this.Dispose=function(){if(r==o.Running)try{i()}finally{r=o.After}}},l=function(){var n=null;this.Current=function(){return n};this.Yield=function(t){return n=t,!0}},e=function(n,i,r,u){this.source=n;this.keySelector=t.CreateLambda(i);this.descending=r;this.parent=u};e.prototype=new n;e.prototype.CreateOrderedEnumerable=function(n,t){return new e(this.source,n,t,this)};e.prototype.ThenBy=function(n){return this.CreateOrderedEnumerable(n,!1)};e.prototype.ThenByDescending=function(n){return this.CreateOrderedEnumerable(n,!0)};e.prototype.GetEnumerator=function(){var u=this,t,n,f=0;return new i(function(){t=[];n=[];u.source.ForEach(function(i,r){t.push(i);n.push(r)});var i=s.Create(u,null);i.GenerateKeys(t);n.sort(function(n,t){return i.Compare(n,t)})},function(){return f<n.length?this.Yield(t[n[f++]]):!1},r.Blank)};s=function(n,t,i){this.keySelector=n;this.descending=t;this.child=i;this.keys=null};s.Create=function(n,t){var i=new s(n.keySelector,n.descending,t);return n.parent!=null?s.Create(n.parent,i):i};s.prototype.GenerateKeys=function(n){for(var i=n.length,u=this.keySelector,r=new Array(i),t=0;t<i;t++)r[t]=u(n[t]);this.keys=r;this.child!=null&&this.child.GenerateKeys(n)};s.prototype.Compare=function(n,i){var r=t.Compare(this.keys[n],this.keys[i]);if(r==0){if(this.child!=null)return this.child.Compare(n,i);r=t.Compare(n,i)}return this.descending?-r:r};u=function(n){this.source=n};u.prototype=new n;u.prototype.Any=function(t){return t==null?this.source.length>0:n.prototype.Any.apply(this,arguments)};u.prototype.Count=function(t){return t==null?this.source.length:n.prototype.Count.apply(this,arguments)};u.prototype.ElementAt=function(t){return 0<=t&&t<this.source.length?this.source[t]:n.prototype.ElementAt.apply(this,arguments)};u.prototype.ElementAtOrDefault=function(n,t){return 0<=n&&n<this.source.length?this.source[n]:t};u.prototype.First=function(t){return t==null&&this.source.length>0?this.source[0]:n.prototype.First.apply(this,arguments)};u.prototype.FirstOrDefault=function(t,i){return i!=null?n.prototype.FirstOrDefault.apply(this,arguments):this.source.length>0?this.source[0]:t};u.prototype.Last=function(t){return t==null&&this.source.length>0?this.source[this.source.length-1]:n.prototype.Last.apply(this,arguments)};u.prototype.LastOrDefault=function(t,i){return i!=null?n.prototype.LastOrDefault.apply(this,arguments):this.source.length>0?this.source[this.source.length-1]:t};u.prototype.Skip=function(t){var u=this.source;return new n(function(){var n;return new i(function(){n=t<0?0:t},function(){return n<u.length?this.Yield(u[n++]):!1},r.Blank)})};u.prototype.TakeExceptLast=function(n){return n==null&&(n=1),this.Take(this.source.length-n)};u.prototype.TakeFromLast=function(n){return this.Skip(this.source.length-n)};u.prototype.Reverse=function(){var t=this.source;return new n(function(){var n;return new i(function(){n=t.length},function(){return n>0?this.Yield(t[--n]):!1},r.Blank)})};u.prototype.SequenceEqual=function(t,i){return(t instanceof u||t instanceof Array)&&i==null&&n.From(t).Count()!=this.Count()?!1:n.prototype.SequenceEqual.apply(this,arguments)};u.prototype.ToString=function(t,i){return i!=null||!(this.source instanceof Array)?n.prototype.ToString.apply(this,arguments):(t==null&&(t=""),this.source.join(t))};u.prototype.GetEnumerator=function(){var n=this.source,t=0;return new i(r.Blank,function(){return t<n.length?this.Yield(n[t++]):!1},r.Blank)};var h=function(){var t=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},u=function(n){return n===null?"null":n===undefined?"undefined":typeof n.toString===f.Function?n.toString():Object.prototype.toString.call(n)},s=function(n,t){this.Key=n;this.Value=t;this.Prev=null;this.Next=null},e=function(){this.First=null;this.Last=null},o;return e.prototype={AddLast:function(n){this.Last!=null?(this.Last.Next=n,n.Prev=this.Last,this.Last=n):this.First=this.Last=n},Replace:function(n,t){n.Prev!=null?(n.Prev.Next=t,t.Prev=n.Prev):this.First=t;n.Next!=null?(n.Next.Prev=t,t.Next=n.Next):this.Last=t},Remove:function(n){n.Prev!=null?n.Prev.Next=n.Next:this.First=n.Next;n.Next!=null?n.Next.Prev=n.Prev:this.Last=n.Prev}},o=function(n){this.count=0;this.entryList=new e;this.buckets={};this.compareSelector=n==null?r.Identity:n},o.prototype={Add:function(n,i){var h=this.compareSelector(n),o=u(h),e=new s(n,i),r,f;if(t(this.buckets,o)){for(r=this.buckets[o],f=0;f<r.length;f++)if(this.compareSelector(r[f].Key)===h){this.entryList.Replace(r[f],e);r[f]=e;return}r.push(e)}else this.buckets[o]=[e];this.count++;this.entryList.AddLast(e)},Get:function(n){var e=this.compareSelector(n),o=u(e),r,i,f;if(!t(this.buckets,o))return undefined;for(r=this.buckets[o],i=0;i<r.length;i++)if(f=r[i],this.compareSelector(f.Key)===e)return f.Value;return undefined},Set:function(n,i){var o=this.compareSelector(n),h=u(o),f,r,e;if(t(this.buckets,h))for(f=this.buckets[h],r=0;r<f.length;r++)if(this.compareSelector(f[r].Key)===o)return e=new s(n,i),this.entryList.Replace(f[r],e),f[r]=e,!0;return!1},Contains:function(n){var f=this.compareSelector(n),e=u(f),r,i;if(!t(this.buckets,e))return!1;for(r=this.buckets[e],i=0;i<r.length;i++)if(this.compareSelector(r[i].Key)===f)return!0;return!1},Clear:function(){this.count=0;this.buckets={};this.entryList=new e},Remove:function(n){var e=this.compareSelector(n),f=u(e),i,r;if(t(this.buckets,f))for(i=this.buckets[f],r=0;r<i.length;r++)if(this.compareSelector(i[r].Key)===e){this.entryList.Remove(i[r]);i.splice(r,1);i.length==0&&delete this.buckets[f];this.count--;return}},Count:function(){return this.count},ToEnumerable:function(){var t=this;return new n(function(){var n;return new i(function(){n=t.entryList.First},function(){if(n!=null){var t={Key:n.Key,Value:n.Value};return n=n.Next,this.Yield(t)}return!1},r.Blank)})}},o}(),a=function(t){this.Count=function(){return t.Count()};this.Get=function(i){return n.From(t.Get(i))};this.Contains=function(n){return t.Contains(n)};this.ToEnumerable=function(){return t.ToEnumerable().Select(function(n){return new c(n.Key,n.Value)})}},c=function(n,t){this.Key=function(){return n};u.call(this,t)};return c.prototype=new u,n}();
//# sourceMappingURL=linq.min.js.map

///#source 1 1 /h5/libraries/angular-rateyo/angular-rating-yo.min.js
angular.module("rateYo",[]).directive("rateYo",function(){"use strict";return{require:"ngModel",scope:{rating:"=ngModel",options:"=options",readOnly:"@readOnly"},link:function(n,t,i){var r={rating:n.rating,readOnly:n.readOnly};n.options&&(typeof n.options=="string"&&(n.options=n.$eval(n.options)),r=angular.extend(r,n.options));$(t).rateYo(r);$(t).rateYo().on("rateyo.set",function(n,r){i.onSet&&t.scope()[i.onSet](n,r)}).on("rateyo.change",function(n,r){i.onChange&&t.scope()[i.onChange](n,r)});n.$watch("rating",function(n){$(t).rateYo("rating",n)});n.$watch("options",function(n){angular.forEach(n,function(n,i){$(t).rateYo("option",i,n)})},!0)}}});
//# sourceMappingURL=angular-rating-yo.min.js.map

///#source 1 1 /h5/libraries/angular-timeline/angular-timeline.js
'use strict';
angular.module('angular-timeline', []);// Source: src/timeline-badge-directive.js
/**
 * @ngdoc directive
 * @name angular-timeline.directive:timeline-badge
 * @restrict AE
 *
 * @description
 * Shown in the centre pane (or left on narrow devices) to indicate the activity.
 */
angular.module('angular-timeline').directive('timelineBadge', function() {
  return {
    require: '^timelineEvent',
    restrict: 'AE',
    transclude: true,
    template: '<div ng-transclude class="timeline-badge"></div>'
  };
});

// Source: src/timeline-directive.js
/**
 * @ngdoc directive
 * @name angular-timeline
 * @restrict AE
 *
 * @description
 * Primary container for displaying a vertical set of timeline events.
 */
angular.module('angular-timeline').directive('timeline', function() {
  return {
    restrict: 'AE',
    transclude: true,
    template: '<ul class="timeline" ng-transclude></ul>'
  };
});

// Source: src/timeline-event-directive.js
/**
 * @ngdoc directive
 * @name angular-timeline.directive:timeline
 * @restrict AE
 *
 * @description
 * Represents an event occuring at a point in time, displayed on the left or the right
 * of the timeline line.
 *
 * You typically embed a `timeline-badge` and `timeline-panel` element within a `timeline-event`.
 */
angular.module('angular-timeline').directive('timelineEvent', function() {
  return {
    require: '^timeline',
    restrict: 'AE',
    transclude: true,
    template: '<li ng-class-even="\'timeline-inverted\'" ng-transclude></li>'
  };
});

// Source: src/timeline-footer-directive.js
/**
 * @ngdoc directive
 * @name angular-timeline.directive:timeline-footer
 * @restrict AE
 *
 * @description
 * Optional element to add a footer section to the `timeline-panel` for links or other actions.
 */
angular.module('angular-timeline').directive('timelineFooter', function() {
  return {
    require: '^timelinePanel',
    restrict: 'AE',
    transclude: true,
    template: '<div class="timeline-footer" ng-transclude></div>'
  };
});

// Source: src/timeline-heading-directive.js
/**
 * @ngdoc directive
 * @name angular-timeline.directive:timeline-heading
 * @restrict AE
 *
 * @description
 * Optional element to show the heading for a `timeline-panel`.
 */
angular.module('angular-timeline').directive('timelineHeading', function() {
  return {
    require: '^timelinePanel',
    restrict: 'AE',
    transclude: true,
    template: '<div class="timeline-heading" ng-transclude></div>'
  };
});

// Source: src/timeline-panel-directive.js
/**
 * @ngdoc directive
 * @name angular-timeline.directive:timeline-panel
 * @restrict AE
 *
 * @description
 * An panel inside the `timeline-event` which shows detailed information about the event.
 */
angular.module('angular-timeline').directive('timelinePanel', function() {
  return {
    require: '^timeline',
    restrict: 'AE',
    transclude: true,
    template: '<div class="timeline-panel" ng-transclude></div>'
  };
});

///#source 1 1 /h5/libraries/angular-sanitize/angular-sanitize.min.js
/**
 * @license AngularJS v1.3.15
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t){"use strict";function g(){this.$get=["$$sanitizeUri",function(n){return function(t){var i=[];return at(t,k(i,function(t,i){return!/^unsafe/.test(n(t,i))})),i.join("")}}]}function nt(n){var i=[],r=k(i,t.noop);return r.chars(n),i.join("")}function i(n){for(var i={},r=n.split(","),t=0;t<r.length;t++)i[r[t]]=!0;return i}function at(n,i){function g(n,u,f,e){if(u=t.lowercase(u),l[u])while(s.last()&&a[s.last()])w("",s.last());c[u]&&s.last()==u&&w("",u);e=o[u]||!!e;e||s.push(u);var h={};f.replace(tt,function(n,t,i,u,f){var e=i||u||f||"";h[t]=r(e)});i.start&&i.start(u,h,e)}function w(n,r){var u=0,f;if(r=t.lowercase(r),r)for(u=s.length-1;u>=0;u--)if(s[u]==r)break;if(u>=0){for(f=s.length-1;f>=u;f--)i.end&&i.end(s[f]);s.length=u}}typeof n!="string"&&(n=n===null||typeof n=="undefined"?"":""+n);var y,p,h,s=[],k=n,b;for(s.last=function(){return s[s.length-1]};n;){if(b="",p=!0,s.last()&&v[s.last()]?(n=n.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(n,t){return t=t.replace(ut,"$1").replace(ft,"$1"),i.chars&&i.chars(r(t)),""}),w("",s.last())):(n.indexOf("<!--")===0?(y=n.indexOf("--",4),y>=0&&n.lastIndexOf("-->",y)===y&&(i.comment&&i.comment(n.substring(4,y)),n=n.substring(y+3),p=!1)):e.test(n)?(h=n.match(e),h&&(n=n.replace(h[0],""),p=!1)):rt.test(n)?(h=n.match(f),h&&(n=n.substring(h[0].length),h[0].replace(f,w),p=!1)):it.test(n)&&(h=n.match(u),h?(h[4]&&(n=n.substring(h[0].length),h[0].replace(u,g)),p=!1):(b+="<",n=n.substring(1))),p&&(y=n.indexOf("<"),b+=y<0?n:n.substring(0,y),n=y<0?"":n.substring(y),i.chars&&i.chars(r(b)))),n==k)throw d("badparse","The sanitizer was unable to parse the following block of html: {0}",n);k=n}w()}function r(n){return n?(w.innerHTML=n.replace(/</g,"&lt;"),w.textContent):""}function b(n){return n.replace(/&/g,"&amp;").replace(et,function(n){var t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(ot,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,f,e){n=t.lowercase(n);!u&&v[n]&&(u=n);u||y[n]!==!0||(r("<"),r(n),t.forEach(f,function(u,f){var e=t.lowercase(f),o=n==="img"&&e==="src"||e==="background";lt[e]===!0&&(p[e]!==!0||i(u,o))&&(r(" "),r(f),r('="'),r(b(u)),r('"'))}),r(e?"/>":">"))},end:function(n){n=t.lowercase(n);u||y[n]!==!0||(r("<\/"),r(n),r(">"));n==u&&(u=!1)},chars:function(n){u||r(b(n))}}}var d=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,tt=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,it=/^</,rt=/^<\//,ut=/<!--(.*?)-->/g,e=/<!DOCTYPE([^>]*?)>/i,ft=/<!\[CDATA\[(.*?)]]>/g,et=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ot=/([^\#-~| |!])/g,o=i("area,br,col,hr,img,wbr"),s=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),h=i("rp,rt"),c=t.extend({},h,s),l=t.extend({},s,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),a=t.extend({},h,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),st=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),v=i("script,style"),y=t.extend({},o,l,a,c,st),p=i("background,cite,href,longdesc,src,usemap,xlink:href"),ht=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),ct=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),lt=t.extend({},p,ct,ht),w=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",g);t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,r=/^mailto:/;return function(u,f){function l(n){n&&o.push(nt(n))}function a(n,i){o.push("<a ");t.isDefined(f)&&o.push('target="',f,'" ');o.push('href="',n.replace(/"/g,"&quot;"),'">');l(i);o.push("<\/a>")}if(!u)return u;for(var e,s=u,o=[],h,c;e=s.match(i);)h=e[0],e[2]||e[4]||(h=(e[3]?"http://":"mailto:")+h),c=e.index,l(s.substr(0,c)),a(h,e[0].replace(r,"")),s=s.substring(c+e[0].length);return l(s),n(o.join(""))}}])})(window,window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

///#source 1 1 /h5/libraries/angular-scroll-animate/angular-scroll-animate.js
'use strict';
angular.module('angular-scroll-animate', []);// Source: src/angular-scroll-animate.js
/**
 * @ngdoc directive
 * @name angular-scroll-animate.directive:when-visible
 * @restrict A
 *
 * @description
 * Allows method hooks into the detection of when an element is scrolled into or out of view.
 *
 * @example
 * <example module="angular-scroll-animate">
 *   <file name="index.html">
 *     <div ng-controller="ExampleCtrl" class="car" when-visible="animateIn" when-not-visible="animateOut">Broom</div>
 *   </file>
 *   <file name="controller.js">
 *   angular.module('example', []).controller('ExampleCtrl', function($scope) {
 *
 *     $scope.animateIn = function($el) {
 *       $el.removeClass('hidden');
 *       $el.addClass('fadeIn');
 *     };
 *
 *     $scope.animateOut = function($el) {
 *      $el.addClass('hidden');
 *       $el.removeClassClass('fadeIn');
 *     };
 *   });
 *
 *   </file>
 *   <file name="animations.css">
 *     .hidden { visibility: hidden; }
 *     .fadeIn { transition: all 300ms ease-in 2s; }
 *   </file>
 * </example>
 */
angular.module('angular-scroll-animate', []).directive('whenVisible', ['$document', '$window',
 function($document, $window) {

    var determineWhereElementIsInViewport =
      function($el, viewportHeight, whenVisibleFn, whenNotVisibleFn, delayPercent, scope) {

        var elementBounds = $el[0].getBoundingClientRect();

        var panelTop = elementBounds.top;
        var panelBottom = elementBounds.bottom;

        // pixel buffer until deciding to show the element
        var delayPx = delayPercent * elementBounds.height;

        var bottomVisible = (panelBottom - delayPx > 0) && (panelBottom < viewportHeight);
        var topVisible = (panelTop + delayPx <= viewportHeight) && (panelTop > 0);

        if ($el.data('hidden') && bottomVisible || topVisible) {
          whenVisibleFn($el, scope);
          $el.data('hidden', false);
        }

        // scrolled out from scrolling down or up
        else if (!($el.data('hidden')) && (panelBottom < 0 || panelTop > viewportHeight)) {
          whenNotVisibleFn($el, scope);
          $el.data('hidden', true);
        }
      };

    return {
      restrict: 'A',
      scope: {
        whenVisible: '&',
        whenNotVisible: '&?',
        delayPercent: '=?'
      },

      controller: ['$scope', function(scope) {
        if (!scope.whenVisible || !angular.isFunction(scope.whenVisible())) {
          throw new Error('Directive: angular-scroll-animate \'when-visible\' attribute must specify a function.');
        }

        if (scope.whenNotVisible && !angular.isFunction(scope.whenNotVisible())) {
          throw new Error('Directive: angular-scroll-animate \'when-not-visible\' attribute must specify a function.');
        }

        if (scope.delayPercent) {

          var delayPercent = parseFloat(scope.delayPercent);

          if ((Number.isNaN(delayPercent)) || (delayPercent < 0 || delayPercent > 1)) {
            throw new Error('Directive: angular-scroll-animate \'delay-percent\' attribute must be a decimal fraction between 0 and 1.');
          }
        }
    }],

      link: function(scope, el, attributes) {

        var delayPercent = attributes.delayPercent || 0.25; // lower = more eager to hide / show, higher = less eager

        var onScroll = function() {

          var document = $document[0].documentElement;
          var viewportHeight = document.clientHeight;

          determineWhereElementIsInViewport(el, viewportHeight,
            scope.whenVisible(), scope.whenNotVisible(), delayPercent, scope);
        };

        var documentListenerEvents = 'scroll';
        $document.on(documentListenerEvents, onScroll);

        scope.$on('$destroy', function() {
          $document.off(documentListenerEvents, onScroll);
        });

        var $elWindow = angular.element($window);
        var windowListenerEvents = 'resize orientationchange';
        $elWindow.on(windowListenerEvents, onScroll);

        scope.$on('$destroy', function() {
          $elWindow.off(windowListenerEvents, onScroll);
        });

        // initialise
        el.data('hidden', true);
        scope.$evalAsync(onScroll);
      }
    };
 }]);

///#source 1 1 /h5/libraries/undo.js
/*
 * Undo.js - A undo/redo framework for JavaScript
 * 
 * http://jzaefferer.github.com/undo
 *
 * Copyright (c) 2011 Jrn Zaefferer
 * 
 * MIT licensed.
 */
(function () {

    // based on Backbone.js' inherits	
    var ctor = function () { };
    var inherits = function (parent, protoProps) {
        var child;

        if (protoProps && protoProps.hasOwnProperty('constructor')) {
            child = protoProps.constructor;
        } else {
            child = function () { return parent.apply(this, arguments); };
        }

        ctor.prototype = parent.prototype;
        child.prototype = new ctor();

        if (protoProps) extend(child.prototype, protoProps);

        child.prototype.constructor = child;
        child.__super__ = parent.prototype;
        return child;
    };

    function extend(target, ref) {
        var name, value;
        for (name in ref) {
            value = ref[name];
            if (value !== undefined) {
                target[name] = value;
            }
        }
        return target;
    };

    var Undo = {
        version: '0.1.15'
    };

    Undo.Stack = function () {
        this.commands = [];
        this.stackPosition = -1;
        this.savePosition = -1;
    };

    extend(Undo.Stack.prototype, {
        execute: function (command) {
            this._clearRedo();
            command.execute();
            this.commands.push(command);
            this.stackPosition++;
            this.changed();
        },
        undo: function () {
            this.commands[this.stackPosition].undo();
            this.stackPosition--;
            this.changed();
        },
        canUndo: function () {
            return this.stackPosition >= 0;
        },
        redo: function () {
            this.stackPosition++;
            this.commands[this.stackPosition].redo();
            this.changed();
        },
        canRedo: function () {
            return this.stackPosition < this.commands.length - 1;
        },
        save: function () {
            this.savePosition = this.stackPosition;
            this.changed();
        },
        dirty: function () {
            return this.stackPosition != this.savePosition;
        },
        _clearRedo: function () {
            // TODO there's probably a more efficient way for this
            this.commands = this.commands.slice(0, this.stackPosition + 1);
        },
        changed: function () {
            // do nothing, override
        }
    });

    Undo.Command = function (name) {
        this.name = name;
    }

    var up = new Error("override me!");

    extend(Undo.Command.prototype, {
        execute: function () {
            throw up;
        },
        undo: function () {
            throw up;
        },
        redo: function () {
            this.execute();
        }
    });

    Undo.Command.extend = function (protoProps) {
        var child = inherits(this, protoProps);
        child.extend = Undo.Command.extend;
        return child;
    };

    // AMD support
    if (typeof define === "function" && define.amd) {
        // Define as an anonymous module
        define(Undo);
    } else if (typeof module != "undefined" && module.exports) {
        module.exports = Undo
    } else {
        this.Undo = Undo;
    }
}).call(this);
///#source 1 1 /h5/libraries/angular-datepicker/angular-datepicker.js
angular.module('ui.bootstrap.datepicker', ['ui.bootstrap.dateparser', 'ui.bootstrap.position'])

.value('$datepickerSuppressError', false)

.constant('datepickerConfig', {
    formatDay: 'dd',
    formatMonth: 'MMMM',
    formatYear: 'yyyy',
    formatDayHeader: 'EEE',
    formatDayTitle: 'MMMM yyyy',
    formatMonthTitle: 'yyyy',
    datepickerMode: 'day',
    minMode: 'day',
    maxMode: 'year',
    showWeeks: true,
    startingDay: 0,
    yearRange: 20,
    minDate: null,
    maxDate: null,
    shortcutPropagation: false
})

.controller('DatepickerController', ['$scope', '$attrs', '$parse', '$interpolate', '$log', 'dateFilter', 'datepickerConfig', '$datepickerSuppressError', function ($scope, $attrs, $parse, $interpolate, $log, dateFilter, datepickerConfig, $datepickerSuppressError) {
    var self = this,
        ngModelCtrl = { $setViewValue: angular.noop }; // nullModelCtrl;

    // Modes chain
    this.modes = ['day', 'month', 'year'];

    // Configuration attributes
    angular.forEach(['formatDay', 'formatMonth', 'formatYear', 'formatDayHeader', 'formatDayTitle', 'formatMonthTitle',
                     'showWeeks', 'startingDay', 'yearRange', 'shortcutPropagation'], function (key, index) {
                         self[key] = angular.isDefined($attrs[key]) ? (index < 6 ? $interpolate($attrs[key])($scope.$parent) : $scope.$parent.$eval($attrs[key])) : datepickerConfig[key];
                     });

    // Watchable date attributes
    angular.forEach(['minDate', 'maxDate'], function (key) {
        if ($attrs[key]) {
            $scope.$parent.$watch($parse($attrs[key]), function (value) {
                self[key] = value ? new Date(value) : null;
                self.refreshView();
            });
        } else {
            self[key] = datepickerConfig[key] ? new Date(datepickerConfig[key]) : null;
        }
    });

    angular.forEach(['minMode', 'maxMode'], function (key) {
        if ($attrs[key]) {
            $scope.$parent.$watch($parse($attrs[key]), function (value) {
                self[key] = angular.isDefined(value) ? value : $attrs[key];
                $scope[key] = self[key];
                if ((key == 'minMode' && self.modes.indexOf($scope.datepickerMode) < self.modes.indexOf(self[key])) || (key == 'maxMode' && self.modes.indexOf($scope.datepickerMode) > self.modes.indexOf(self[key]))) {
                    $scope.datepickerMode = self[key];
                }
            });
        } else {
            self[key] = datepickerConfig[key] || null;
            $scope[key] = self[key];
        }
    });

    $scope.datepickerMode = $scope.datepickerMode || datepickerConfig.datepickerMode;
    $scope.uniqueId = 'datepicker-' + $scope.$id + '-' + Math.floor(Math.random() * 10000);

    if (angular.isDefined($attrs.initDate)) {
        this.activeDate = $scope.$parent.$eval($attrs.initDate) || new Date();
        $scope.$parent.$watch($attrs.initDate, function (initDate) {
            if (initDate && (ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue) || ngModelCtrl.$invalid)) {
                self.activeDate = initDate;
                self.refreshView();
            }
        });
    } else {
        this.activeDate = new Date();
    }

    $scope.isActive = function (dateObject) {
        if (self.compare(dateObject.date, self.activeDate) === 0) {
            $scope.activeDateId = dateObject.uid;
            return true;
        }
        return false;
    };

    this.init = function (ngModelCtrl_) {
        ngModelCtrl = ngModelCtrl_;

        ngModelCtrl.$render = function () {
            self.render();
        };
    };

    this.render = function () {
        if (ngModelCtrl.$viewValue) {
            var date = new Date(ngModelCtrl.$viewValue),
                isValid = !isNaN(date);

            if (isValid) {
                this.activeDate = date;
            } else if (!$datepickerSuppressError) {
                $log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
            }
        }
        this.refreshView();
    };

    this.refreshView = function () {
        if (this.element) {
            this._refreshView();

            var date = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;
            ngModelCtrl.$setValidity('dateDisabled', !date || (this.element && !this.isDisabled(date)));
        }
    };

    this.createDateObject = function (date, format) {
        var model = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;
        return {
            date: date,
            label: dateFilter(date, format),
            selected: model && this.compare(date, model) === 0,
            disabled: this.isDisabled(date),
            current: this.compare(date, new Date()) === 0,
            customClass: this.customClass(date)
        };
    };

    this.isDisabled = function (date) {
        return ((this.minDate && this.compare(date, this.minDate) < 0) || (this.maxDate && this.compare(date, this.maxDate) > 0) || ($attrs.dateDisabled && $scope.dateDisabled({ date: date, mode: $scope.datepickerMode })));
    };

    this.customClass = function (date) {
        return $scope.customClass({ date: date, mode: $scope.datepickerMode });
    };

    // Split array into smaller arrays
    this.split = function (arr, size) {
        var arrays = [];
        while (arr.length > 0) {
            arrays.push(arr.splice(0, size));
        }
        return arrays;
    };

    // Fix a hard-reprodusible bug with timezones
    // The bug depends on OS, browser, current timezone and current date
    // i.e.
    // var date = new Date(2014, 0, 1);
    // console.log(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());
    // can result in "2013 11 31 23" because of the bug.
    this.fixTimeZone = function (date) {
        var hours = date.getHours();
        date.setHours(hours === 23 ? hours + 2 : 0);
    };

    $scope.select = function (date) {
        if ($scope.datepickerMode === self.minMode) {
            var dt = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);
            dt.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());
            ngModelCtrl.$setViewValue(dt);
            ngModelCtrl.$render();
        } else {
            self.activeDate = date;
            $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) - 1];
        }
    };

    $scope.move = function (direction) {
        var year = self.activeDate.getFullYear() + direction * (self.step.years || 0),
            month = self.activeDate.getMonth() + direction * (self.step.months || 0);
        self.activeDate.setFullYear(year, month, 1);
        self.refreshView();
    };

    $scope.toggleMode = function (direction) {
        direction = direction || 1;

        if (($scope.datepickerMode === self.maxMode && direction === 1) || ($scope.datepickerMode === self.minMode && direction === -1)) {
            return;
        }

        $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) + direction];
    };

    // Key event mapper
    $scope.keys = { 13: 'enter', 32: 'space', 33: 'pageup', 34: 'pagedown', 35: 'end', 36: 'home', 37: 'left', 38: 'up', 39: 'right', 40: 'down' };

    var focusElement = function () {
        self.element[0].focus();
    };

    // Listen for focus requests from popup directive
    $scope.$on('datepicker.focus', focusElement);

    $scope.keydown = function (evt) {
        var key = $scope.keys[evt.which];

        if (!key || evt.shiftKey || evt.altKey) {
            return;
        }

        evt.preventDefault();
        if (!self.shortcutPropagation) {
            evt.stopPropagation();
        }

        if (key === 'enter' || key === 'space') {
            if (self.isDisabled(self.activeDate)) {
                return; // do nothing
            }
            $scope.select(self.activeDate);
            focusElement();
        } else if (evt.ctrlKey && (key === 'up' || key === 'down')) {
            $scope.toggleMode(key === 'up' ? 1 : -1);
            focusElement();
        } else {
            self.handleKeyDown(key, evt);
            self.refreshView();
        }
    };
}])

.directive('datepicker', function () {
    return {
        restrict: 'EA',
        replace: true,
        templateUrl: function (element, attrs) {
            return attrs.templateUrl || 'template/datepicker/datepicker.html';
        },
        scope: {
            datepickerMode: '=?',
            dateDisabled: '&',
            customClass: '&',
            shortcutPropagation: '&?'
        },
        require: ['datepicker', '^ngModel'],
        controller: 'DatepickerController',
        controllerAs: 'datepicker',
        link: function (scope, element, attrs, ctrls) {
            var datepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];

            datepickerCtrl.init(ngModelCtrl);
        }
    };
})

.directive('daypicker', ['dateFilter', function (dateFilter) {
    return {
        restrict: 'EA',
        replace: true,
        templateUrl: 'template/datepicker/day.html',
        require: '^datepicker',
        link: function (scope, element, attrs, ctrl) {
            scope.showWeeks = ctrl.showWeeks;

            ctrl.step = { months: 1 };
            ctrl.element = element;

            var DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            function getDaysInMonth(year, month) {
                return ((month === 1) && (year % 4 === 0) && ((year % 100 !== 0) || (year % 400 === 0))) ? 29 : DAYS_IN_MONTH[month];
            }

            function getDates(startDate, n) {
                var dates = new Array(n), current = new Date(startDate), i = 0, date;
                while (i < n) {
                    date = new Date(current);
                    ctrl.fixTimeZone(date);
                    dates[i++] = date;
                    current.setDate(current.getDate() + 1);
                }
                return dates;
            }

            ctrl._refreshView = function () {
                var year = ctrl.activeDate.getFullYear(),
                  month = ctrl.activeDate.getMonth(),
                  firstDayOfMonth = new Date(year, month, 1),
                  difference = ctrl.startingDay - firstDayOfMonth.getDay(),
                  numDisplayedFromPreviousMonth = (difference > 0) ? 7 - difference : -difference,
                  firstDate = new Date(firstDayOfMonth);

                if (numDisplayedFromPreviousMonth > 0) {
                    firstDate.setDate(-numDisplayedFromPreviousMonth + 1);
                }

                // 42 is the number of days on a six-month calendar
                var days = getDates(firstDate, 42);
                for (var i = 0; i < 42; i++) {
                    days[i] = angular.extend(ctrl.createDateObject(days[i], ctrl.formatDay), {
                        secondary: days[i].getMonth() !== month,
                        uid: scope.uniqueId + '-' + i
                    });
                }

                scope.labels = new Array(7);
                for (var j = 0; j < 7; j++) {
                    scope.labels[j] = {
                        abbr: dateFilter(days[j].date, ctrl.formatDayHeader),
                        full: dateFilter(days[j].date, 'EEEE')
                    };
                }

                scope.title = dateFilter(ctrl.activeDate, ctrl.formatDayTitle);
                scope.rows = ctrl.split(days, 7);

                if (scope.showWeeks) {
                    scope.weekNumbers = [];
                    var thursdayIndex = (4 + 7 - ctrl.startingDay) % 7,
                        numWeeks = scope.rows.length;
                    for (var curWeek = 0; curWeek < numWeeks; curWeek++) {
                        scope.weekNumbers.push(
                          getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));
                    }
                }
            };

            ctrl.compare = function (date1, date2) {
                return (new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate()));
            };

            function getISO8601WeekNumber(date) {
                var checkDate = new Date(date);
                checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
                var time = checkDate.getTime();
                checkDate.setMonth(0); // Compare with Jan 1
                checkDate.setDate(1);
                return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
            }

            ctrl.handleKeyDown = function (key, evt) {
                var date = ctrl.activeDate.getDate();

                if (key === 'left') {
                    date = date - 1;   // up
                } else if (key === 'up') {
                    date = date - 7;   // down
                } else if (key === 'right') {
                    date = date + 1;   // down
                } else if (key === 'down') {
                    date = date + 7;
                } else if (key === 'pageup' || key === 'pagedown') {
                    var month = ctrl.activeDate.getMonth() + (key === 'pageup' ? -1 : 1);
                    ctrl.activeDate.setMonth(month, 1);
                    date = Math.min(getDaysInMonth(ctrl.activeDate.getFullYear(), ctrl.activeDate.getMonth()), date);
                } else if (key === 'home') {
                    date = 1;
                } else if (key === 'end') {
                    date = getDaysInMonth(ctrl.activeDate.getFullYear(), ctrl.activeDate.getMonth());
                }
                ctrl.activeDate.setDate(date);
            };

            ctrl.refreshView();
        }
    };
}])

.directive('monthpicker', ['dateFilter', function (dateFilter) {
    return {
        restrict: 'EA',
        replace: true,
        templateUrl: 'template/datepicker/month.html',
        require: '^datepicker',
        link: function (scope, element, attrs, ctrl) {
            ctrl.step = { years: 1 };
            ctrl.element = element;

            ctrl._refreshView = function () {
                var months = new Array(12),
                    year = ctrl.activeDate.getFullYear(),
                    date;

                for (var i = 0; i < 12; i++) {
                    date = new Date(year, i, 1);
                    ctrl.fixTimeZone(date);
                    months[i] = angular.extend(ctrl.createDateObject(date, ctrl.formatMonth), {
                        uid: scope.uniqueId + '-' + i
                    });
                }

                scope.title = dateFilter(ctrl.activeDate, ctrl.formatMonthTitle);
                scope.rows = ctrl.split(months, 3);
            };

            ctrl.compare = function (date1, date2) {
                return new Date(date1.getFullYear(), date1.getMonth()) - new Date(date2.getFullYear(), date2.getMonth());
            };

            ctrl.handleKeyDown = function (key, evt) {
                var date = ctrl.activeDate.getMonth();

                if (key === 'left') {
                    date = date - 1;   // up
                } else if (key === 'up') {
                    date = date - 3;   // down
                } else if (key === 'right') {
                    date = date + 1;   // down
                } else if (key === 'down') {
                    date = date + 3;
                } else if (key === 'pageup' || key === 'pagedown') {
                    var year = ctrl.activeDate.getFullYear() + (key === 'pageup' ? -1 : 1);
                    ctrl.activeDate.setFullYear(year);
                } else if (key === 'home') {
                    date = 0;
                } else if (key === 'end') {
                    date = 11;
                }
                ctrl.activeDate.setMonth(date);
            };

            ctrl.refreshView();
        }
    };
}])

.directive('yearpicker', ['dateFilter', function (dateFilter) {
    return {
        restrict: 'EA',
        replace: true,
        templateUrl: 'template/datepicker/year.html',
        require: '^datepicker',
        link: function (scope, element, attrs, ctrl) {
            var range = ctrl.yearRange;

            ctrl.step = { years: range };
            ctrl.element = element;

            function getStartingYear(year) {
                return parseInt((year - 1) / range, 10) * range + 1;
            }

            ctrl._refreshView = function () {
                var years = new Array(range), date;

                for (var i = 0, start = getStartingYear(ctrl.activeDate.getFullYear()) ; i < range; i++) {
                    date = new Date(start + i, 0, 1);
                    ctrl.fixTimeZone(date);
                    years[i] = angular.extend(ctrl.createDateObject(date, ctrl.formatYear), {
                        uid: scope.uniqueId + '-' + i
                    });
                }

                scope.title = [years[0].label, years[range - 1].label].join(' - ');
                scope.rows = ctrl.split(years, 5);
            };

            ctrl.compare = function (date1, date2) {
                return date1.getFullYear() - date2.getFullYear();
            };

            ctrl.handleKeyDown = function (key, evt) {
                var date = ctrl.activeDate.getFullYear();

                if (key === 'left') {
                    date = date - 1;   // up
                } else if (key === 'up') {
                    date = date - 5;   // down
                } else if (key === 'right') {
                    date = date + 1;   // down
                } else if (key === 'down') {
                    date = date + 5;
                } else if (key === 'pageup' || key === 'pagedown') {
                    date += (key === 'pageup' ? -1 : 1) * ctrl.step.years;
                } else if (key === 'home') {
                    date = getStartingYear(ctrl.activeDate.getFullYear());
                } else if (key === 'end') {
                    date = getStartingYear(ctrl.activeDate.getFullYear()) + range - 1;
                }
                ctrl.activeDate.setFullYear(date);
            };

            ctrl.refreshView();
        }
    };
}])

.constant('datepickerPopupConfig', {
    datepickerPopup: 'yyyy-MM-dd',
    datepickerPopupTemplateUrl: 'template/datepicker/popup.html',
    datepickerTemplateUrl: 'template/datepicker/datepicker.html',
    html5Types: {
        date: 'yyyy-MM-dd',
        'datetime-local': 'yyyy-MM-ddTHH:mm:ss.sss',
        'month': 'yyyy-MM'
    },
    currentText: 'Today',
    clearText: 'Clear',
    closeText: 'Done',
    closeOnDateSelection: true,
    appendToBody: false,
    showButtonBar: true,
    onOpenFocus: true
})

.directive('datepickerPopup', ['$compile', '$parse', '$document', '$rootScope', '$position', 'dateFilter', 'dateParser', 'datepickerPopupConfig', '$timeout',
function ($compile, $parse, $document, $rootScope, $position, dateFilter, dateParser, datepickerPopupConfig, $timeout) {
    return {
        restrict: 'EA',
        require: 'ngModel',
        scope: {
            isOpen: '=?',
            currentText: '@',
            clearText: '@',
            closeText: '@',
            dateDisabled: '&',
            customClass: '&'
        },
        link: function (scope, element, attrs, ngModel) {
            var dateFormat,
                closeOnDateSelection = angular.isDefined(attrs.closeOnDateSelection) ? scope.$parent.$eval(attrs.closeOnDateSelection) : datepickerPopupConfig.closeOnDateSelection,
                appendToBody = angular.isDefined(attrs.datepickerAppendToBody) ? scope.$parent.$eval(attrs.datepickerAppendToBody) : datepickerPopupConfig.appendToBody,
                onOpenFocus = angular.isDefined(attrs.onOpenFocus) ? scope.$parent.$eval(attrs.onOpenFocus) : datepickerPopupConfig.onOpenFocus,
                datepickerPopupTemplateUrl = angular.isDefined(attrs.datepickerPopupTemplateUrl) ? attrs.datepickerPopupTemplateUrl : datepickerPopupConfig.datepickerPopupTemplateUrl,
                datepickerTemplateUrl = angular.isDefined(attrs.datepickerTemplateUrl) ? attrs.datepickerTemplateUrl : datepickerPopupConfig.datepickerTemplateUrl,
                cache = {};

            scope.showButtonBar = angular.isDefined(attrs.showButtonBar) ? scope.$parent.$eval(attrs.showButtonBar) : datepickerPopupConfig.showButtonBar;

            scope.getText = function (key) {
                return scope[key + 'Text'] || datepickerPopupConfig[key + 'Text'];
            };

            scope.isDisabled = function (date) {
                if (date === 'today') {
                    date = new Date();
                }

                return ((scope.watchData.minDate && scope.compare(date, cache.minDate) < 0) ||
                  (scope.watchData.maxDate && scope.compare(date, cache.maxDate) > 0));
            };

            scope.compare = function (date1, date2) {
                return (new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate()));
            };

            var isHtml5DateInput = false;
            if (datepickerPopupConfig.html5Types[attrs.type]) {
                dateFormat = datepickerPopupConfig.html5Types[attrs.type];
                isHtml5DateInput = true;
            } else {
                dateFormat = attrs.datepickerPopup || datepickerPopupConfig.datepickerPopup;
                attrs.$observe('datepickerPopup', function (value, oldValue) {
                    var newDateFormat = value || datepickerPopupConfig.datepickerPopup;
                    // Invalidate the $modelValue to ensure that formatters re-run
                    // FIXME: Refactor when PR is merged: https://github.com/angular/angular.js/pull/10764
                    if (newDateFormat !== dateFormat) {
                        dateFormat = newDateFormat;
                        ngModel.$modelValue = null;

                        if (!dateFormat) {
                            throw new Error('datepickerPopup must have a date format specified.');
                        }
                    }
                });
            }

            if (!dateFormat) {
                throw new Error('datepickerPopup must have a date format specified.');
            }

            if (isHtml5DateInput && attrs.datepickerPopup) {
                throw new Error('HTML5 date input types do not support custom formats.');
            }

            // popup element used to display calendar
            var popupEl = angular.element('<div datepicker-popup-wrap><div datepicker></div></div>');
            popupEl.attr({
                'ng-model': 'date',
                'ng-change': 'dateSelection(date)',
                'template-url': datepickerPopupTemplateUrl
            });

            function cameltoDash(string) {
                return string.replace(/([A-Z])/g, function ($1) { return '-' + $1.toLowerCase(); });
            }

            // datepicker element
            var datepickerEl = angular.element(popupEl.children()[0]);
            datepickerEl.attr('template-url', datepickerTemplateUrl);

            if (isHtml5DateInput) {
                if (attrs.type === 'month') {
                    datepickerEl.attr('datepicker-mode', '"month"');
                    datepickerEl.attr('min-mode', 'month');
                }
            }

            if (attrs.datepickerOptions) {
                var options = scope.$parent.$eval(attrs.datepickerOptions);
                if (options && options.initDate) {
                    scope.initDate = options.initDate;
                    datepickerEl.attr('init-date', 'initDate');
                    delete options.initDate;
                }
                angular.forEach(options, function (value, option) {
                    datepickerEl.attr(cameltoDash(option), value);
                });
            }

            scope.watchData = {};
            angular.forEach(['minMode', 'maxMode', 'minDate', 'maxDate', 'datepickerMode', 'initDate', 'shortcutPropagation'], function (key) {
                if (attrs[key]) {
                    var getAttribute = $parse(attrs[key]);
                    scope.$parent.$watch(getAttribute, function (value) {
                        scope.watchData[key] = value;
                        if (key === 'minDate' || key === 'maxDate') {
                            cache[key] = new Date(value);
                        }
                    });
                    datepickerEl.attr(cameltoDash(key), 'watchData.' + key);

                    // Propagate changes from datepicker to outside
                    if (key === 'datepickerMode') {
                        var setAttribute = getAttribute.assign;
                        scope.$watch('watchData.' + key, function (value, oldvalue) {
                            if (angular.isFunction(setAttribute) && value !== oldvalue) {
                                setAttribute(scope.$parent, value);
                            }
                        });
                    }
                }
            });
            if (attrs.dateDisabled) {
                datepickerEl.attr('date-disabled', 'dateDisabled({ date: date, mode: mode })');
            }

            if (attrs.showWeeks) {
                datepickerEl.attr('show-weeks', attrs.showWeeks);
            }

            if (attrs.customClass) {
                datepickerEl.attr('custom-class', 'customClass({ date: date, mode: mode })');
            }

            function parseDate(viewValue) {
                if (angular.isNumber(viewValue)) {
                    // presumably timestamp to date object
                    viewValue = new Date(viewValue);
                }

                if (!viewValue) {
                    return null;
                } else if (angular.isDate(viewValue) && !isNaN(viewValue)) {
                    return viewValue;
                } else if (angular.isString(viewValue)) {
                    var date = dateParser.parse(viewValue, dateFormat, scope.date);
                    if (isNaN(date)) {
                        return undefined;
                    } else {
                        return date;
                    }
                } else {
                    return undefined;
                }
            }

            function validator(modelValue, viewValue) {
                var value = modelValue || viewValue;

                if (!attrs.ngRequired && !value) {
                    return true;
                }

                if (angular.isNumber(value)) {
                    value = new Date(value);
                }
                if (!value) {
                    return true;
                } else if (angular.isDate(value) && !isNaN(value)) {
                    return true;
                } else if (angular.isString(value)) {
                    var date = dateParser.parse(value, dateFormat);
                    return !isNaN(date);
                } else {
                    return false;
                }
            }

            if (!isHtml5DateInput) {
                // Internal API to maintain the correct ng-invalid-[key] class
                ngModel.$$parserName = 'date';
                ngModel.$validators.date = validator;
                ngModel.$parsers.unshift(parseDate);
                ngModel.$formatters.push(function (value) {
                    scope.date = value;
                    return ngModel.$isEmpty(value) ? value : dateFilter(value, dateFormat);
                });
            } else {
                ngModel.$formatters.push(function (value) {
                    scope.date = value;
                    return value;
                });
            }

            // Inner change
            scope.dateSelection = function (dt) {
                if (angular.isDefined(dt)) {
                    scope.date = dt;
                }
                var date = scope.date ? dateFilter(scope.date, dateFormat) : null; // Setting to NULL is necessary for form validators to function
                element.val(date);
                ngModel.$setViewValue(date);

                if (closeOnDateSelection) {
                    scope.isOpen = false;
                    element[0].focus();
                }
            };

            // Detect changes in the view from the text box
            ngModel.$viewChangeListeners.push(function () {
                scope.date = dateParser.parse(ngModel.$viewValue, dateFormat, scope.date);
            });

            var documentClickBind = function (event) {
                if (scope.isOpen && !element[0].contains(event.target)) {
                    scope.$apply(function () {
                        scope.isOpen = false;
                    });
                }
            };

            var inputKeydownBind = function (evt) {
                if (evt.which === 27 && scope.isOpen) {
                    evt.preventDefault();
                    evt.stopPropagation();
                    scope.$apply(function () {
                        scope.isOpen = false;
                    });
                    element[0].focus();
                } else if (evt.which === 40 && !scope.isOpen) {
                    evt.preventDefault();
                    evt.stopPropagation();
                    scope.$apply(function () {
                        scope.isOpen = true;
                    });
                }
            };
            element.bind('keydown', inputKeydownBind);

            scope.keydown = function (evt) {
                if (evt.which === 27) {
                    scope.isOpen = false;
                    element[0].focus();
                }
            };

            scope.$watch('isOpen', function (value) {
                if (value) {
                    scope.position = appendToBody ? $position.offset(element) : $position.position(element);
                    scope.position.top = scope.position.top + element.prop('offsetHeight');

                    $timeout(function () {
                        if (onOpenFocus) {
                            scope.$broadcast('datepicker.focus');
                        }
                        $document.bind('click', documentClickBind);
                    }, 0, false);
                } else {
                    $document.unbind('click', documentClickBind);
                }
            });

            scope.select = function (date) {
                if (date === 'today') {
                    var today = new Date();
                    if (angular.isDate(scope.date)) {
                        date = new Date(scope.date);
                        date.setFullYear(today.getFullYear(), today.getMonth(), today.getDate());
                    } else {
                        date = new Date(today.setHours(0, 0, 0, 0));
                    }
                }
                scope.dateSelection(date);
            };

            scope.close = function () {
                scope.isOpen = false;
                element[0].focus();
            };

            var $popup = $compile(popupEl)(scope);
            // Prevent jQuery cache memory leak (template is now redundant after linking)
            popupEl.remove();

            if (appendToBody) {
                $document.find('body').append($popup);
            } else {
                element.after($popup);
            }

            scope.$on('$destroy', function () {
                if (scope.isOpen === true) {
                    if (!$rootScope.$$phase) {
                        scope.$apply(function () {
                            scope.isOpen = false;
                        });
                    }
                }

                $popup.remove();
                element.unbind('keydown', inputKeydownBind);
                $document.unbind('click', documentClickBind);
            });
        }
    };
}])

.directive('datepickerPopupWrap', function () {
    return {
        restrict: 'EA',
        replace: true,
        transclude: true,
        templateUrl: function (element, attrs) {
            return attrs.templateUrl || 'template/datepicker/popup.html';
        }
    };
});

///#source 1 1 /h5/libraries/moment/moment.min.js
//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.moment=t()})(this,function(){"use strict";function i(){return ru.apply(null,arguments)}function eo(n){ru=n}function ui(n){return Object.prototype.toString.call(n)==="[object Array]"}function fi(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function oo(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function ft(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ei(n,t){for(var i in t)ft(t,i)&&(n[i]=t[i]);return ft(t,"toString")&&(n.toString=t.toString),ft(t,"valueOf")&&(n.valueOf=t.valueOf),n}function kt(n,t,i,r){return sf(n,t,i,r,!0).utc()}function so(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(n){return n._pf==null&&(n._pf=so()),n._pf}function uu(n){if(n._isValid==null){var t=e(n);n._isValid=!isNaN(n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated;n._strict&&(n._isValid=n._isValid&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined)}return n._isValid}function fu(n){var t=kt(NaN);return n!=null?ei(e(t),n):e(t).userInvalidated=!0,t}function gi(n,t){var u,i,r;if(typeof t._isAMomentObject!="undefined"&&(n._isAMomentObject=t._isAMomentObject),typeof t._i!="undefined"&&(n._i=t._i),typeof t._f!="undefined"&&(n._f=t._f),typeof t._l!="undefined"&&(n._l=t._l),typeof t._strict!="undefined"&&(n._strict=t._strict),typeof t._tzm!="undefined"&&(n._tzm=t._tzm),typeof t._isUTC!="undefined"&&(n._isUTC=t._isUTC),typeof t._offset!="undefined"&&(n._offset=t._offset),typeof t._pf!="undefined"&&(n._pf=e(t)),typeof t._locale!="undefined"&&(n._locale=t._locale),di.length>0)for(u in di)i=di[u],r=t[i],typeof r!="undefined"&&(n[i]=r);return n}function dt(n){gi(this,n);this._d=new Date(n._d!=null?n._d.getTime():NaN);nr===!1&&(nr=!0,i.updateOffset(this),nr=!1)}function tt(n){return n instanceof dt||n!=null&&n._isAMomentObject!=null}function v(n){return n<0?Math.ceil(n):Math.floor(n)}function s(n){var t=+n,i=0;return t!==0&&isFinite(t)&&(i=v(t)),i}function eu(n,t,i){for(var f=Math.min(n.length,t.length),e=Math.abs(n.length-t.length),u=0,r=0;r<f;r++)(i&&n[r]!==t[r]||!i&&s(n[r])!==s(t[r]))&&u++;return u+e}function ou(){}function su(n){return n?n.toLowerCase().replace("_","-"):n}function ho(n){for(var r=0,i,t,f,u;r<n.length;){for(u=su(n[r]).split("-"),i=u.length,t=su(n[r+1]),t=t?t.split("-"):null;i>0;){if(f=hu(u.slice(0,i).join("-")),f)return f;if(t&&t.length>=i&&eu(u,t,!0)>=i-1)break;i--}r++}return null}function hu(n){var t=null;if(!et[n]&&typeof module!="undefined"&&module&&module.exports)try{t=oi._abbr;require("./locale/"+n);gt(t)}catch(i){}return et[n]}function gt(n,t){var i;return n&&(i=typeof t=="undefined"?ot(n):cu(n,t),i&&(oi=i)),oi._abbr}function cu(n,t){return t!==null?(t.abbr=n,et[n]=et[n]||new ou,et[n].set(t),gt(n),et[n]):(delete et[n],null)}function ot(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return oi;if(!ui(n)){if(t=hu(n),t)return t;n=[n]}return ho(n)}function l(n,t){var i=n.toLowerCase();ni[i]=ni[i+"s"]=ni[t]=n}function p(n){return typeof n=="string"?ni[n]||ni[n.toLowerCase()]:undefined}function lu(n){var r={},t;for(var i in n)ft(n,i)&&(t=p(i),t&&(r[t]=n[i]));return r}function pt(n,t){return function(r){return r!=null?(au(this,n,r),i.updateOffset(this,t),this):si(this,n)}}function si(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function au(n,t,i){return n._d["set"+(n._isUTC?"UTC":"")+t](i)}function vu(n,t){var i;if(typeof n=="object")for(i in n)this.set(i,n[i]);else if(n=p(n),typeof this[n]=="function")return this[n](t);return this}function tr(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;typeof r=="string"&&(u=function(){return this[r]()});n&&(wt[n]=u);t&&(wt[t[0]]=function(){return tr(u.apply(this,arguments),t[1],t[2])});i&&(wt[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function co(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function lo(n){for(var i=n.match(yu),t=0,r=i.length;t<r;t++)i[t]=wt[i[t]]?wt[i[t]]:co(i[t]);return function(u){var f="";for(t=0;t<r;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function rr(n,t){return n.isValid()?(t=pu(t,n.localeData()),ir[t]=ir[t]||lo(t),ir[t](n)):n.localeData().invalidDate()}function pu(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(hi.lastIndex=0;i>=0&&hi.test(n);)n=n.replace(hi,r),hi.lastIndex=0,i-=1;return n}function ao(n){return typeof n=="function"&&Object.prototype.toString.call(n)==="[object Function]"}function t(n,t,i){er[n]=ao(t)?t:function(n){return n&&i?i:t}}function vo(n,t){return ft(er,n)?er[n](t._strict,t._locale):new RegExp(yo(n))}function yo(n){return n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function c(n,t){var i,r=t;for(typeof n=="string"&&(n=[n]),typeof t=="number"&&(r=function(n,i){i[t]=s(n)}),i=0;i<n.length;i++)or[n[i]]=r}function ii(n,t){c(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function po(n,t,i){t!=null&&ft(or,n)&&or[n](t,i._a,i,n)}function sr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function wo(n){return this._months[n.month()]}function bo(n){return this._monthsShort[n.month()]}function ko(n,t,i){var r,u,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if((u=kt([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[r].test(n))||i&&t==="MMM"&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function gu(n,t){var i;return typeof t=="string"&&(t=n.localeData().monthsParse(t),typeof t!="number")?n:(i=Math.min(n.date(),sr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function nf(n){return n!=null?(gu(this,n),i.updateOffset(this,!0),this):si(this,"Month")}function go(){return sr(this.year(),this.month())}function hr(n){var i,t=n._a;return t&&e(n).overflow===-2&&(i=t[g]<0||t[g]>11?g:t[k]<1||t[k]>sr(t[b],t[g])?k:t[a]<0||t[a]>24||t[a]===24&&(t[st]!==0||t[ht]!==0||t[ct]!==0)?a:t[st]<0||t[st]>59?st:t[ht]<0||t[ht]>59?ht:t[ct]<0||t[ct]>999?ct:-1,e(n)._overflowDayOfYear&&(i<b||i>k)&&(i=k),e(n).overflow=i),n}function tf(n){i.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function w(n,t){var i=!0;return ei(function(){return i&&(tf(n+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function ns(n,t){cr[n]||(tf(t),cr[n]=!0)}function rf(n){var t,i,r=n._i,u=ts.exec(r);if(u){for(e(n).iso=!0,t=0,i=lr.length;t<i;t++)if(lr[t][1].exec(r)){n._f=lr[t][0];break}for(t=0,i=ar.length;t<i;t++)if(ar[t][1].exec(r)){n._f+=(u[6]||" ")+ar[t][0];break}r.match(yi)&&(n._f+="Z");wr(n)}else n._isValid=!1}function rs(n){var t=is.exec(n._i);if(t!==null){n._d=new Date(+t[1]);return}rf(n);n._isValid===!1&&(delete n._isValid,i.createFromInputFallback(n))}function us(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return n<1970&&o.setFullYear(n),o}function vr(n){var t=new Date(Date.UTC.apply(null,arguments));return n<1970&&t.setUTCFullYear(n),t}function uf(n){return ff(n)?366:365}function ff(n){return n%4==0&&n%100!=0||n%400==0}function fs(){return ff(this.year())}function lt(n,t,i){var f=i-t,r=i-n.day(),u;return r>f&&(r-=7),r<f-7&&(r+=7),u=o(n).add(r,"d"),{week:Math.ceil(u.dayOfYear()/7),year:u.year()}}function es(n){return lt(n,this._week.dow,this._week.doy).week}function os(){return this._week.dow}function ss(){return this._week.doy}function hs(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")}function cs(n){var t=lt(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")}function ls(n,t,i,r,u){var o=6+u-r,s=vr(n,0,1+o),e=s.getUTCDay(),f;return e<u&&(e+=7),i=i!=null?1*i:u,f=1+o+7*(t-1)-e+i,{year:f>0?n:n-1,dayOfYear:f>0?f:uf(n-1)+f}}function as(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?t:this.add(n-t,"d")}function bt(n,t,i){return n!=null?n:t!=null?t:i}function vs(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function pr(n){var t,i,r=[],u,f;if(!n._d){for(u=vs(n),n._w&&n._a[k]==null&&n._a[g]==null&&ys(n),n._dayOfYear&&(f=bt(n._a[b],u[b]),n._dayOfYear>uf(f)&&(e(n)._overflowDayOfYear=!0),i=vr(f,0,n._dayOfYear),n._a[g]=i.getUTCMonth(),n._a[k]=i.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=r[t]=u[t];for(;t<7;t++)n._a[t]=r[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[a]===24&&n._a[st]===0&&n._a[ht]===0&&n._a[ct]===0&&(n._nextDay=!0,n._a[a]=0);n._d=(n._useUTC?vr:us).apply(null,r);n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[a]=24)}}function ys(n){var t,e,u,r,i,f,s;t=n._w;t.GG!=null||t.W!=null||t.E!=null?(i=1,f=4,e=bt(t.GG,n._a[b],lt(o(),1,4).year),u=bt(t.W,1),r=bt(t.E,1)):(i=n._locale._week.dow,f=n._locale._week.doy,e=bt(t.gg,n._a[b],lt(o(),i,f).year),u=bt(t.w,1),t.d!=null?(r=t.d,r<i&&++u):r=t.e!=null?t.e+i:i);s=ls(e,u,r,f,i);n._a[b]=s.year;n._dayOfYear=s.dayOfYear}function wr(n){if(n._f===i.ISO_8601){rf(n);return}n._a=[];e(n).empty=!0;for(var t=""+n._i,r,u,s,c=t.length,h=0,o=pu(n._f,n._locale).match(yu)||[],f=0;f<o.length;f++)u=o[f],r=(t.match(vo(u,n))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&e(n).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),h+=r.length),wt[u]?(r?e(n).empty=!1:e(n).unusedTokens.push(u),po(u,r,n)):n._strict&&!r&&e(n).unusedTokens.push(u);e(n).charsLeftOver=c-h;t.length>0&&e(n).unusedInput.push(t);e(n).bigHour===!0&&n._a[a]<=12&&n._a[a]>0&&(e(n).bigHour=undefined);n._a[a]=ps(n._locale,n._a[a],n._meridiem);pr(n);hr(n)}function ps(n,t,i){var r;return i==null?t:n.meridiemHour!=null?n.meridiemHour(t,i):n.isPM!=null?(r=n.isPM(i),r&&t<12&&(t+=12),r||t!==12||(t=0),t):t}function ws(n){var t,f,u,r,i;if(n._f.length===0){e(n).invalidFormat=!0;n._d=new Date(NaN);return}for(r=0;r<n._f.length;r++)(i=0,t=gi({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._f=n._f[r],wr(t),uu(t))&&(i+=e(t).charsLeftOver,i+=e(t).unusedTokens.length*10,e(t).score=i,(u==null||i<u)&&(u=i,f=t));ei(n,f||t)}function bs(n){if(!n._d){var t=lu(n._i);n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond];pr(n)}}function ks(n){var t=new dt(hr(of(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=undefined),t}function of(n){var t=n._i,i=n._f;return(n._locale=n._locale||ot(n._l),t===null||i===undefined&&t==="")?fu({nullInput:!0}):(typeof t=="string"&&(n._i=t=n._locale.preparse(t)),tt(t))?new dt(hr(t)):(ui(i)?ws(n):i?wr(n):fi(t)?n._d=t:ds(n),n)}function ds(n){var t=n._i;t===undefined?n._d=new Date:fi(t)?n._d=new Date(+t):typeof t=="string"?rs(n):ui(t)?(n._a=oo(t.slice(0),function(n){return parseInt(n,10)}),pr(n)):typeof t=="object"?bs(n):typeof t=="number"?n._d=new Date(t):i.createFromInputFallback(n)}function sf(n,t,i,r,u){var f={};return typeof i=="boolean"&&(r=i,i=undefined),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,ks(f)}function o(n,t,i,r){return sf(n,t,i,r,!1)}function lf(n,t){var r,i;if(t.length===1&&ui(t[0])&&(t=t[0]),!t.length)return o();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](r))&&(r=t[i]);return r}function gs(){var n=[].slice.call(arguments,0);return lf("isBefore",n)}function nh(){var n=[].slice.call(arguments,0);return lf("isAfter",n)}function pi(n){var t=lu(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+h*1e3+s*6e4+o*36e5;this._days=+e+f*7;this._months=+u+r*3+i*12;this._data={};this._locale=ot();this._bubble()}function br(n){return n instanceof pi}function af(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+tr(~~(n/60),2)+t+tr(~~n%60,2)})}function kr(n){var i=(n||"").match(yi)||[],u=i[i.length-1]||[],t=(u+"").match(vf)||["-",0,0],r=+(t[1]*60)+s(t[2]);return t[0]==="+"?r:-r}function dr(n,t){var r,u;return t._isUTC?(r=t.clone(),u=(tt(n)||fi(n)?+n:+o(n))-+r,r._d.setTime(+r._d+u),i.updateOffset(r,!1),r):o(n).local()}function gr(n){return-Math.round(n._d.getTimezoneOffset()/15)*15}function th(n,t){var r=this._offset||0,u;return n!=null?(typeof n=="string"&&(n=kr(n)),Math.abs(n)<16&&(n=n*60),!this._isUTC&&t&&(u=gr(this)),this._offset=n,this._isUTC=!0,u!=null&&this.add(u,"m"),r!==n&&(!t||this._changeInProgress?df(this,it(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:gr(this)}function ih(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function rh(n){return this.utcOffset(0,n)}function uh(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(gr(this),"m")),this}function fh(){return this._tzm?this.utcOffset(this._tzm):typeof this._i=="string"&&this.utcOffset(kr(this._i)),this}function eh(n){return n=n?o(n).utcOffset():0,(this.utcOffset()-n)%60==0}function oh(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function sh(){var n,t;return typeof this._isDSTShifted!="undefined"?this._isDSTShifted:(n={},gi(n,this),n=of(n),n._a?(t=n._isUTC?kt(n._a):o(n._a),this._isDSTShifted=this.isValid()&&eu(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted)}function hh(){return!this._isUTC}function ch(){return this._isUTC}function yf(){return this._isUTC&&this._offset===0}function it(n,t){var i=n,r=null,u,f,e;return br(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:typeof n=="number"?(i={},t?i[t]=n:i.milliseconds=n):(r=pf.exec(n))?(u=r[1]==="-"?-1:1,i={y:0,d:s(r[k])*u,h:s(r[a])*u,m:s(r[st])*u,s:s(r[ht])*u,ms:s(r[ct])*u}):(r=wf.exec(n))?(u=r[1]==="-"?-1:1,i={y:at(r[2],u),M:at(r[3],u),d:at(r[4],u),h:at(r[5],u),m:at(r[6],u),s:at(r[7],u),w:at(r[8],u)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(e=lh(o(i.from),o(i.to)),i={},i.ms=e.milliseconds,i.M=e.months),f=new pi(i),br(n)&&ft(n,"_locale")&&(f._locale=n._locale),f}function at(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function bf(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function lh(n,t){var i;return t=dr(t,n),n.isBefore(t)?i=bf(n,t):(i=bf(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function kf(n,t){return function(i,r){var u,f;return r===null||isNaN(+r)||(ns(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),f=i,i=r,r=f),i=typeof i=="string"?+i:i,u=it(i,r),df(this,u,n),this}}function df(n,t,r,u){var o=t._milliseconds,f=t._days,e=t._months;u=u==null?!0:u;o&&n._d.setTime(+n._d+o*r);f&&au(n,"Date",si(n,"Date")+f*r);e&&gu(n,si(n,"Month")+e*r);u&&i.updateOffset(n,f||e)}function ah(n,t){var r=n||o(),f=dr(r,this).startOf("day"),i=this.diff(f,"days",!0),u=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(t&&t[u]||this.localeData().calendar(u,this,o(r)))}function vh(){return new dt(this)}function yh(n,t){var i;return t=p(typeof t!="undefined"?t:"millisecond"),t==="millisecond"?(n=tt(n)?n:o(n),+this>+n):(i=tt(n)?+n:+o(n),i<+this.clone().startOf(t))}function ph(n,t){var i;return t=p(typeof t!="undefined"?t:"millisecond"),t==="millisecond"?(n=tt(n)?n:o(n),+this<+n):(i=tt(n)?+n:+o(n),+this.clone().endOf(t)<i)}function wh(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)}function bh(n,t){var i;return t=p(t||"millisecond"),t==="millisecond"?(n=tt(n)?n:o(n),+this==+n):(i=+o(n),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function kh(n,t,i){var f=dr(n,this),e=(f.utcOffset()-this.utcOffset())*6e4,u,r;return t=p(t),t==="year"||t==="month"||t==="quarter"?(r=dh(this,f),t==="quarter"?r=r/3:t==="year"&&(r=r/12)):(u=this-f,r=t==="second"?u/1e3:t==="minute"?u/6e4:t==="hour"?u/36e5:t==="day"?(u-e)/864e5:t==="week"?(u-e)/6048e5:u),i?r:v(r)}function dh(n,t){var r=(t.year()-n.year())*12+(t.month()-n.month()),i=n.clone().add(r,"months"),u,f;return t-i<0?(u=n.clone().add(r-1,"months"),f=(t-i)/(i-u)):(u=n.clone().add(r+1,"months"),f=(t-i)/(u-i)),-(r+f)}function gh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function te(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():rr(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):rr(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function nc(n){var t=rr(this,n||i.defaultFormat);return this.localeData().postformat(t)}function tc(n,t){return this.isValid()?it({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ic(n){return this.from(o(),n)}function rc(n,t){return this.isValid()?it({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function uc(n){return this.to(o(),n)}function ie(n){var t;return n===undefined?this._locale._abbr:(t=ot(n),t!=null&&(this._locale=t),this)}function re(){return this._locale}function fc(n){n=p(n);switch(n){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return n==="week"&&this.weekday(0),n==="isoWeek"&&this.isoWeekday(1),n==="quarter"&&this.month(Math.floor(this.month()/3)*3),this}function ec(n){return(n=p(n),n===undefined||n==="millisecond")?this:this.startOf(n).add(1,n==="isoWeek"?"week":n).subtract(1,"ms")}function oc(){return+this._d-(this._offset||0)*6e4}function sc(){return Math.floor(+this/1e3)}function hc(){return this._offset?new Date(+this):this._d}function cc(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function lc(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function ac(){return uu(this)}function vc(){return ei({},e(this))}function yc(){return e(this).overflow}function wi(n,t){r(0,[n,n.length],0,t)}function ue(n,t,i){return lt(o([n,11,31+t-i]),t,i).week}function pc(n){var t=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return n==null?t:this.add(n-t,"y")}function wc(n){var t=lt(this,1,4).year;return n==null?t:this.add(n-t,"y")}function bc(){return ue(this.year(),1,4)}function kc(){var n=this.localeData()._week;return ue(this.year(),n.dow,n.doy)}function dc(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}function gc(n,t){return typeof n!="string"?n:isNaN(n)?(n=t.weekdaysParse(n),typeof n=="number")?n:null:parseInt(n,10)}function nl(n){return this._weekdays[n.day()]}function tl(n){return this._weekdaysShort[n.day()]}function il(n){return this._weekdaysMin[n.day()]}function rl(n){var t,i,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;t<7;t++)if(this._weekdaysParse[t]||(i=o([2e3,1]).day(t),r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(n))return t}function ul(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=gc(n,this.localeData()),this.add(n-t,"d")):t}function fl(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")}function el(n){return n==null?this.day()||7:this.day(this.day()%7?n:n-7)}function se(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function he(n,t){return t._meridiemParse}function ol(n){return(n+"").toLowerCase().charAt(0)==="p"}function sl(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function hl(n,t){t[ct]=s(("0."+n)*1e3)}function cl(){return this._isUTC?"UTC":""}function ll(){return this._isUTC?"Coordinated Universal Time":""}function al(n){return o(n*1e3)}function vl(){return o.apply(null,arguments).parseZone()}function yl(n,t,i){var r=this._calendar[n];return typeof r=="function"?r.call(t,i):r}function pl(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function wl(){return this._invalidDate}function bl(n){return this._ordinal.replace("%d",n)}function no(n){return n}function kl(n,t,i,r){var u=this._relativeTime[i];return typeof u=="function"?u(n,t,i,r):u.replace(/%d/i,n)}function dl(n,t){var i=this._relativeTime[n>0?"future":"past"];return typeof i=="function"?i(t):i.replace(/%s/i,t)}function gl(n){var t;for(var i in n)t=n[i],typeof t=="function"?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function io(n,t,i,r){var u=ot(),f=kt().set(r,t);return u[i](f,n)}function ri(n,t,i,r,u){if(typeof n=="number"&&(t=n,n=undefined),n=n||"",t!=null)return io(n,t,i,u);for(var e=[],f=0;f<r;f++)e[f]=io(n,f,i,u);return e}function na(n,t){return ri(n,t,"months",12,"month")}function ta(n,t){return ri(n,t,"monthsShort",12,"month")}function ia(n,t){return ri(n,t,"weekdays",7,"day")}function ra(n,t){return ri(n,t,"weekdaysShort",7,"day")}function ua(n,t){return ri(n,t,"weekdaysMin",7,"day")}function fa(){var n=this._data;return this._milliseconds=d(this._milliseconds),this._days=d(this._days),this._months=d(this._months),n.milliseconds=d(n.milliseconds),n.seconds=d(n.seconds),n.minutes=d(n.minutes),n.hours=d(n.hours),n.months=d(n.months),n.years=d(n.years),this}function ro(n,t,i,r){var u=it(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function ea(n,t){return ro(this,n,t,1)}function oa(n,t){return ro(this,n,t,-1)}function uo(n){return n<0?Math.floor(n):Math.ceil(n)}function sa(){var r=this._milliseconds,n=this._days,t=this._months,i=this._data,u,f,e,s,o;return r>=0&&n>=0&&t>=0||r<=0&&n<=0&&t<=0||(r+=uo(iu(t)+n)*864e5,n=0,t=0),i.milliseconds=r%1e3,u=v(r/1e3),i.seconds=u%60,f=v(u/60),i.minutes=f%60,e=v(f/60),i.hours=e%24,n+=v(e/24),o=v(fo(n)),t+=o,n-=uo(iu(o)),s=v(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function fo(n){return n*4800/146097}function iu(n){return n*146097/4800}function ha(n){var t,r,i=this._milliseconds;if(n=p(n),n==="month"||n==="year")return t=this._days+i/864e5,r=this._months+fo(t),n==="month"?r:r/12;t=this._days+Math.round(iu(this._months));switch(n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+n);}}function ca(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+s(this._months/12)*31536e6}function ut(n){return function(){return this.as(n)}}function da(n){return n=p(n),this[n+"s"]()}function vt(n){return function(){return this._data[n]}}function ev(){return v(this.days()/7)}function ov(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function sv(n,t,i){var r=it(n).abs(),h=yt(r.as("s")),f=yt(r.as("m")),e=yt(r.as("h")),o=yt(r.as("d")),s=yt(r.as("M")),c=yt(r.as("y")),u=h<nt.s&&["s",h]||f===1&&["m"]||f<nt.m&&["mm",f]||e===1&&["h"]||e<nt.h&&["hh",e]||o===1&&["d"]||o<nt.d&&["dd",o]||s===1&&["M"]||s<nt.M&&["MM",s]||c===1&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,ov.apply(null,u)}function hv(n,t){return nt[n]===undefined?!1:t===undefined?nt[n]:(nt[n]=t,!0)}function cv(n){var t=this.localeData(),i=sv(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function ki(){var t=bi(this._milliseconds)/1e3,a=bi(this._days),i=bi(this._months),n,e,o;n=v(t/60);e=v(n/60);t%=60;n%=60;o=v(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(l<0?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var ru,di=i.momentProperties=[],nr=!1,et={},oi,ni={},yu=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,hi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ir={},wt={},wu=/\d/,y=/\d\d/,bu=/\d{3}/,ur=/\d{4}/,ci=/[+-]?\d{6}/,h=/\d\d?/,li=/\d{1,3}/,fr=/\d{1,4}/,ai=/[+-]?\d{1,6}/,vi=/[+-]?\d+/,yi=/Z|[+-]\d\d:?\d\d/gi,ti=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,er={},or={},b=0,g=1,k=2,a=3,st=4,ht=5,ct=6,ku,du,cr,yr,ef,hf,cf,vf,pf,wf,gf,ne,nu,tu,fe,ee,oe,ce,le,ae,ve,rt,ye,n,pe,we,be,ke,de,ge,to,u,d,yt,nt,bi,f;r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});l("month","M");t("M",h);t("MM",h,y);t("MMM",ti);t("MMMM",ti);c(["M","MM"],function(n,t){t[g]=s(n)-1});c(["MMM","MMMM"],function(n,t,i,r){var u=i._locale.monthsParse(n,r,i._strict);u!=null?t[g]=u:e(i).invalidMonth=n});ku="January_February_March_April_May_June_July_August_September_October_November_December".split("_");du="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");cr={};i.suppressDeprecationWarnings=!1;var ts=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ar=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],is=/^\/?Date\((\-?\d+)/i;for(i.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),r(0,["YY",2],0,function(){return this.year()%100}),r(0,["YYYY",4],0,"year"),r(0,["YYYYY",5],0,"year"),r(0,["YYYYYY",6,!0],0,"year"),l("year","y"),t("Y",vi),t("YY",h,y),t("YYYY",fr,ur),t("YYYYY",ai,ci),t("YYYYYY",ai,ci),c(["YYYYY","YYYYYY"],b),c("YYYY",function(n,t){t[b]=n.length===2?i.parseTwoDigitYear(n):s(n)}),c("YY",function(n,t){t[b]=i.parseTwoDigitYear(n)}),i.parseTwoDigitYear=function(n){return s(n)+(s(n)>68?1900:2e3)},yr=pt("FullYear",!1),r("w",["ww",2],"wo","week"),r("W",["WW",2],"Wo","isoWeek"),l("week","w"),l("isoWeek","W"),t("w",h),t("ww",h,y),t("W",h),t("WW",h,y),ii(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=s(n)}),ef={dow:0,doy:6},r("DDD",["DDDD",3],"DDDo","dayOfYear"),l("dayOfYear","DDD"),t("DDD",li),t("DDDD",bu),c(["DDD","DDDD"],function(n,t,i){i._dayOfYear=s(n)}),i.ISO_8601=function(){},hf=w("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return n<this?this:n}),cf=w("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return n>this?this:n}),af("Z",":"),af("ZZ",""),t("Z",yi),t("ZZ",yi),c(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=kr(n)}),vf=/([\+\-]|\d\d)/gi,i.updateOffset=function(){},pf=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,wf=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,it.fn=pi.prototype,gf=kf(1,"add"),ne=kf(-1,"subtract"),i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",nu=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===undefined?this.localeData():this.locale(n)}),r(0,["gg",2],0,function(){return this.weekYear()%100}),r(0,["GG",2],0,function(){return this.isoWeekYear()%100}),wi("gggg","weekYear"),wi("ggggg","weekYear"),wi("GGGG","isoWeekYear"),wi("GGGGG","isoWeekYear"),l("weekYear","gg"),l("isoWeekYear","GG"),t("G",vi),t("g",vi),t("GG",h,y),t("gg",h,y),t("GGGG",fr,ur),t("gggg",fr,ur),t("GGGGG",ai,ci),t("ggggg",ai,ci),ii(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=s(n)}),ii(["gg","GG"],function(n,t,r,u){t[u]=i.parseTwoDigitYear(n)}),r("Q",0,0,"quarter"),l("quarter","Q"),t("Q",wu),c("Q",function(n,t){t[g]=(s(n)-1)*3}),r("D",["DD",2],"Do","date"),l("date","D"),t("D",h),t("DD",h,y),t("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient}),c(["D","DD"],k),c("Do",function(n,t){t[k]=s(n.match(h)[0],10)}),tu=pt("Date",!0),r("d",0,"do","day"),r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)}),r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)}),r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)}),r("e",0,0,"weekday"),r("E",0,0,"isoWeekday"),l("day","d"),l("weekday","e"),l("isoWeekday","E"),t("d",h),t("e",h),t("E",h),t("dd",ti),t("ddd",ti),t("dddd",ti),ii(["dd","ddd","dddd"],function(n,t,i){var r=i._locale.weekdaysParse(n);r!=null?t.d=r:e(i).invalidWeekday=n}),ii(["d","e","E"],function(n,t,i,r){t[r]=s(n)}),fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ee="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),r("H",["HH",2],0,"hour"),r("h",["hh",2],0,function(){return this.hours()%12||12}),se("a",!0),se("A",!1),l("hour","h"),t("a",he),t("A",he),t("H",h),t("h",h),t("HH",h,y),t("hh",h,y),c(["H","HH"],a),c(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n}),c(["h","hh"],function(n,t,i){t[a]=s(n);e(i).bigHour=!0}),ce=/[ap]\.?m?\.?/i,le=pt("Hours",!0),r("m",["mm",2],0,"minute"),l("minute","m"),t("m",h),t("mm",h,y),c(["m","mm"],st),ae=pt("Minutes",!1),r("s",["ss",2],0,"second"),l("second","s"),t("s",h),t("ss",h,y),c(["s","ss"],ht),ve=pt("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return this.millisecond()*10}),r(0,["SSSSS",5],0,function(){return this.millisecond()*100}),r(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),r(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),r(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),r(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),l("millisecond","ms"),t("S",li,wu),t("SS",li,y),t("SSS",li,bu),rt="SSSS";rt.length<=9;rt+="S")t(rt,/\d+/);for(rt="S";rt.length<=9;rt+="S")c(rt,hl);ye=pt("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=dt.prototype;n.add=gf;n.calendar=ah;n.clone=vh;n.diff=kh;n.endOf=ec;n.format=nc;n.from=tc;n.fromNow=ic;n.to=rc;n.toNow=uc;n.get=vu;n.invalidAt=yc;n.isAfter=yh;n.isBefore=ph;n.isBetween=wh;n.isSame=bh;n.isValid=ac;n.lang=nu;n.locale=ie;n.localeData=re;n.max=cf;n.min=hf;n.parsingFlags=vc;n.set=vu;n.startOf=fc;n.subtract=ne;n.toArray=cc;n.toObject=lc;n.toDate=hc;n.toISOString=te;n.toJSON=te;n.toString=gh;n.unix=sc;n.valueOf=oc;n.year=yr;n.isLeapYear=fs;n.weekYear=pc;n.isoWeekYear=wc;n.quarter=n.quarters=dc;n.month=nf;n.daysInMonth=go;n.week=n.weeks=hs;n.isoWeek=n.isoWeeks=cs;n.weeksInYear=kc;n.isoWeeksInYear=bc;n.date=tu;n.day=n.days=ul;n.weekday=fl;n.isoWeekday=el;n.dayOfYear=as;n.hour=n.hours=le;n.minute=n.minutes=ae;n.second=n.seconds=ve;n.millisecond=n.milliseconds=ye;n.utcOffset=th;n.utc=rh;n.local=uh;n.parseZone=fh;n.hasAlignedHourOffset=eh;n.isDST=oh;n.isDSTShifted=sh;n.isLocal=hh;n.isUtcOffset=ch;n.isUtc=yf;n.isUTC=yf;n.zoneAbbr=cl;n.zoneName=ll;n.dates=w("dates accessor is deprecated. Use date instead.",tu);n.months=w("months accessor is deprecated. Use month instead",nf);n.years=w("years accessor is deprecated. Use year instead",yr);n.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",ih);pe=n;we={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};be={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};ke="Invalid date";de="%d";ge=/\d{1,2}/;to={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};u=ou.prototype;u._calendar=we;u.calendar=yl;u._longDateFormat=be;u.longDateFormat=pl;u._invalidDate=ke;u.invalidDate=wl;u._ordinal=de;u.ordinal=bl;u._ordinalParse=ge;u.preparse=no;u.postformat=no;u._relativeTime=to;u.relativeTime=kl;u.pastFuture=dl;u.set=gl;u.months=wo;u._months=ku;u.monthsShort=bo;u._monthsShort=du;u.monthsParse=ko;u.week=es;u._week=ef;u.firstDayOfYear=ss;u.firstDayOfWeek=os;u.weekdays=nl;u._weekdays=fe;u.weekdaysMin=il;u._weekdaysMin=oe;u.weekdaysShort=tl;u._weekdaysShort=ee;u.weekdaysParse=rl;u.isPM=ol;u._meridiemParse=ce;u.meridiem=sl;gt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=s(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+i}});i.lang=w("moment.lang is deprecated. Use moment.locale instead.",gt);i.langData=w("moment.langData is deprecated. Use moment.localeData instead.",ot);d=Math.abs;var la=ut("ms"),aa=ut("s"),va=ut("m"),ya=ut("h"),pa=ut("d"),wa=ut("w"),ba=ut("M"),ka=ut("y");var ga=vt("milliseconds"),nv=vt("seconds"),tv=vt("minutes"),iv=vt("hours"),rv=vt("days"),uv=vt("months"),fv=vt("years");return yt=Math.round,nt={s:45,m:45,h:22,d:26,M:11},bi=Math.abs,f=pi.prototype,f.abs=fa,f.add=ea,f.subtract=oa,f.as=ha,f.asMilliseconds=la,f.asSeconds=aa,f.asMinutes=va,f.asHours=ya,f.asDays=pa,f.asWeeks=wa,f.asMonths=ba,f.asYears=ka,f.valueOf=ca,f._bubble=sa,f.get=da,f.milliseconds=ga,f.seconds=nv,f.minutes=tv,f.hours=iv,f.days=rv,f.weeks=ev,f.months=uv,f.years=fv,f.humanize=cv,f.toISOString=ki,f.toString=ki,f.toJSON=ki,f.locale=ie,f.localeData=re,f.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ki),f.lang=nu,r("X",0,0,"unix"),r("x",0,0,"valueOf"),t("x",vi),t("X",/[+-]?\d+(\.\d{1,3})?/),c("X",function(n,t,i){i._d=new Date(parseFloat(n,10)*1e3)}),c("x",function(n,t,i){i._d=new Date(s(n))}),i.version="2.10.6",eo(o),i.fn=pe,i.min=gs,i.max=nh,i.utc=kt,i.unix=al,i.months=na,i.isDate=fi,i.locale=gt,i.invalid=fu,i.duration=it,i.isMoment=tt,i.weekdays=ia,i.parseZone=vl,i.localeData=ot,i.isDuration=br,i.monthsShort=ta,i.weekdaysMin=ua,i.defineLocale=cu,i.weekdaysShort=ra,i.normalizeUnits=p,i.relativeTimeThreshold=hv,i});
//# sourceMappingURL=moment.min.js.map

///#source 1 1 /h5/libraries/angular-virtual-scroll/angular-virtual-scroll.js
// angular-virtual-scroll - v0.6.1

// Include this first to define the module that the directives etc. hang off.
//
(function(){
'use strict';
angular.module('sf.virtualScroll', []).constant('sfVirtualScroll', {
  release: "0.6.1",
  version: "0.6.1-4-gebd5db2"
});
}());



// sublist filter
// ==============
// Narrows a collection expression to a sub-collection.
//
(function(){
'use strict';
// (part of the sf.virtualScroll module).
var mod = angular.module('sf.virtualScroll');

mod.filter('sublist', function(){
  return function(input, range, start){
    return input.slice(start, start+range);
  };
});

}());



// sf-scroller directive
// =====================
// Makes a simple scrollbar widget using the native overflow: scroll mechanism.
//
/*jshint jquery:true */
(function(){
'use strict';
// (part of the sf.virtualScroll module).
var mod = angular.module('sf.virtualScroll');

mod.directive("sfScroller", function(){

  // Should be roughly a "row" height but it doesn't matter too much, it
  // determines how responsive the scroller will feel.
  var HEIGHT_MULTIPLIER = 18;

  // The range expression appears in the directive and must have the form:
  //
  //     x in a to b
  //
  // This helper will return `{ axis: "x", lower: "a", upper: "b" }`
  function parseRangeExpression (expression) {
    /*jshint regexp:false */
    var match = expression.match(/^(x|y)\s*(=|in)\s*(.+) to (.+)$/);
    if( !match ){
      throw new Error("Expected sfScroller in form of '_axis_ in _lower_ to _upper_' but got '" + expression + "'.");
    }
    return {
      axis: match[1],
      lower: match[3],
      upper: match[4]
    };
  }

  // just a post-link function
  return function(scope, element, attrs){
    var range = parseRangeExpression(attrs.sfScroller),
        lower = scope.$eval(range.lower),
        upper = scope.$eval(range.upper),
        horizontal = range.axis === 'x';
    element.css({
      // The element must expand to fit the parent
      // and `1em` seems to work most often for the scrollbar width
      // (can tweak with css if needed).
      height: horizontal ? '1em' : '100%',
      width: horizontal ? '100%' : '1em',
      "overflow-x": horizontal ? 'scroll' : 'hidden',
      "overflow-y": horizontal ? 'hidden' : 'scroll',
      // Want the scroller placed at the right edge of the parent
      position: 'absolute',
      top: horizontal ? '100%' : 0,
      right: 0
    }).parent().css({
      // so parent must create a new context for positioning.
      position: 'relative'
    });
    var dummy = angular.element('<div></div>');
    element.append(dummy);
    element.bind('scroll', function(){
      // When the user scrolls, push the new position into the ng world via
      // the `ng-model`.
      var newTop = element.prop('scrollTop');
      if( attrs.ngModel ){
        scope.$apply(attrs.ngModel + ' = ' + newTop/HEIGHT_MULTIPLIER);
      }
    });
    // Watch the values in the range expression
    scope.$watch(range.lower, function(newVal){
      lower = newVal;
      dummy.css('height', (upper-lower)*HEIGHT_MULTIPLIER+'px');
    });
    scope.$watch(range.upper, function(newVal){
      upper = newVal;
      dummy.css('height', (upper-lower)*HEIGHT_MULTIPLIER+'px');
    });
    // and make the position a 2-way binding
    scope.$watch(attrs.ngModel, function(newVal){
      var scrollTop = newVal * HEIGHT_MULTIPLIER;
      if( element.prop('scrollTop') !== scrollTop ){
        element.prop('scrollTop'. scrollTop);
      }
    });
  };
});

}());

// sf-virtual-repeat directive
// ===========================
// Like `ng-repeat` with reduced rendering and binding
//
(function(){
  'use strict';
  // (part of the sf.virtualScroll module).
  var mod = angular.module('sf.virtualScroll');
  var DONT_WORK_AS_VIEWPORTS = ['TABLE', 'TBODY', 'THEAD', 'TR', 'TFOOT'];
  var DONT_WORK_AS_CONTENT = ['TABLE', 'TBODY', 'THEAD', 'TR', 'TFOOT'];
  var DONT_SET_DISPLAY_BLOCK = ['TABLE', 'TBODY', 'THEAD', 'TR', 'TFOOT'];

  // Utility to clip to range
  function clip(value, min, max){
    if( angular.isArray(value) ){
      return angular.forEach(value, function(v){
        return clip(v, min, max);
      });
    }
    return Math.max(min, Math.min(value, max));
  }

  mod.directive('sfVirtualRepeat', ['$log', '$rootElement', function($log, $rootElement){

    return {
      require: '?ngModel',
      transclude: 'element',
      priority: 1000,
      terminal: true,
      compile: sfVirtualRepeatCompile
    };

    // Turn the expression supplied to the directive:
    //
    //     a in b
    //
    // into `{ value: "a", collection: "b" }`
    function parseRepeatExpression(expression){
      var match = expression.match(/^\s*([\$\w]+)\s+in\s+([\S\s]*)$/);
      if (! match) {
        throw new Error("Expected sfVirtualRepeat in form of '_item_ in _collection_' but got '" +
                        expression + "'.");
      }
      return {
        value: match[1],
        collection: match[2]
      };
    }

    // Utility to filter out elements by tag name
    function isTagNameInList(element, list){
      var t, tag = element.tagName.toUpperCase();
      for( t = 0; t < list.length; t++ ){
        if( list[t] === tag ){
          return true;
        }
      }
      return false;
    }


    // Utility to find the viewport/content elements given the start element:
    function findViewportAndContent(startElement){
      /*jshint eqeqeq:false, curly:false */
      var root = $rootElement[0];
      var e, n;
      // Somewhere between the grandparent and the root node
      for( e = startElement.parent().parent()[0]; e !== root; e = e.parentNode ){
        // is an element
        if( e.nodeType != 1 ) break;
        // that isn't in the blacklist (tables etc.),
        if( isTagNameInList(e, DONT_WORK_AS_VIEWPORTS) ) continue;
        // has a single child element (the content),
        if( e.childElementCount != 1 ) continue;
        // which is not in the blacklist
        if( isTagNameInList(e.firstElementChild, DONT_WORK_AS_CONTENT) ) continue;
        // and no text.
        for( n = e.firstChild; n; n = n.nextSibling ){
          if( n.nodeType == 3 && /\S/g.test(n.textContent) ){
            break;
          }
        }
        if( n == null ){
          // That element should work as a viewport.
          return {
            viewport: angular.element(e),
            content: angular.element(e.firstElementChild)
          };
        }
      }
      throw new Error("No suitable viewport element");
    }

    // Apply explicit height and overflow styles to the viewport element.
    //
    // If the viewport has a max-height (inherited or otherwise), set max-height.
    // Otherwise, set height from the current computed value or use
    // window.innerHeight as a fallback
    //
    function setViewportCss(viewport){
      var viewportCss = {'overflow': 'auto'},
          style = window.getComputedStyle ?
            window.getComputedStyle(viewport[0]) :
            viewport[0].currentStyle,
          maxHeight = style && style.getPropertyValue('max-height'),
          height = style && style.getPropertyValue('height');

      if( maxHeight && maxHeight !== '0px' ){
        viewportCss.maxHeight = maxHeight;
      }else if( height && height !== '0px' ){
        viewportCss.height = height;
      }else{
        viewportCss.height = window.innerHeight;
      }
      viewport.css(viewportCss);
    }

    // Apply explicit styles to the content element to prevent pesky padding
    // or borders messing with our calculations:
    function setContentCss(content){
      var contentCss = {
        //margin: 0,
        //padding: 0,
        //border: 0,
        'box-sizing': 'border-box'
      };
      content.css(contentCss);
    }

    // TODO: compute outerHeight (padding + border unless box-sizing is border)
    function computeRowHeight(element){
      var style = window.getComputedStyle ? window.getComputedStyle(element)
                                          : element.currentStyle,
          maxHeight = style && style.getPropertyValue('max-height'),
          height = style && style.getPropertyValue('height');

      if( height && height !== '0px' && height !== 'auto' ){
        $log.debug('Row height is "%s" from css height', height);
      }else if( maxHeight && maxHeight !== '0px' && maxHeight !== 'none' ){
        height = maxHeight;
        $log.debug('Row height is "%s" from css max-height', height);
      }else if( element.clientHeight ){
        height = element.clientHeight+'px';
        $log.debug('Row height is "%s" from client height', height);
      }else{
        throw new Error("Unable to compute height of row");
      }
      angular.element(element).css('height', height);
      return parseInt(height, 10);
    }

    // The compile gathers information about the declaration. There's not much
    // else we could do in the compile step as we need a viewport parent that
    // is exculsively ours - this is only available at link time.
    function sfVirtualRepeatCompile(element, attr, linker) {
      var ident = parseRepeatExpression(attr.sfVirtualRepeat);

      return {
        post: sfVirtualRepeatPostLink
      };
      // ----

      // Set up the initial value for our watch expression (which is just the
      // start and length of the active rows and the collection length) and
      // adds a listener to handle child scopes based on the active rows.
      function sfVirtualRepeatPostLink(scope, iterStartElement, attrs){

        var rendered = [];
        var rowHeight = 0;
        var sticky = false;
        var dom = findViewportAndContent(iterStartElement);
        // The list structure is controlled by a few simple (visible) variables:
        var state = 'ngModel' in attrs ? scope.$eval(attrs.ngModel) : {};
        //  - The index of the first active element
        state.firstActive = 0;
        //  - The index of the first visible element
        state.firstVisible = 0;
        //  - The number of elements visible in the viewport.
        state.visible = 0;
        // - The number of active elements
        state.active = 0;
        // - The total number of elements
        state.total = 0;
        // - The point at which we add new elements
        state.lowWater = state.lowWater || 100;
        // - The point at which we remove old elements
        state.highWater = state.highWater || 300;
        // TODO: now watch the water marks

        setContentCss(dom.content);
        setViewportCss(dom.viewport);
        // When the user scrolls, we move the `state.firstActive`
        dom.viewport.bind('scroll', sfVirtualRepeatOnScroll);

        // The watch on the collection is just a watch on the length of the
        // collection. We don't care if the content changes.
        scope.$watch(sfVirtualRepeatWatchExpression, sfVirtualRepeatListener, true);

        // and that's the link done! All the action is in the handlers...
        return;
        // ----

        // Apply explicit styles to the item element
        function setElementCss (element) {
          var elementCss = {
            // no margin or it'll screw up the height calculations.
            //margin: '0'
          };
          if( !isTagNameInList(element[0], DONT_SET_DISPLAY_BLOCK) ){
            // display: block if it's safe to do so
            elementCss.display = 'block';
          }
          if( rowHeight ){
            elementCss.height = rowHeight+'px';
          }
          element.css(elementCss);
        }

        function makeNewScope (idx, colExpr, containerScope) {
          var childScope = containerScope.$new(),
              collection = containerScope.$eval(colExpr);
          childScope[ident.value] = collection[idx];
          childScope.$index = idx;
          childScope.$first = (idx === 0);
          childScope.$last = (idx === (collection.length - 1));
          childScope.$middle = !(childScope.$first || childScope.$last);
          childScope.$watch(function updateChildScopeItem(){
            collection = containerScope.$eval(colExpr);
            childScope[ident.value] = collection[idx];
          });
          return childScope;
        }

        function addElements (start, end, colExpr, containerScope, insPoint) {
          var frag = document.createDocumentFragment();
          var newElements = [], element, idx, childScope;
          for( idx = start; idx !== end; idx ++ ){
            childScope = makeNewScope(idx, colExpr, containerScope);
            element = linker(childScope, angular.noop);
            setElementCss(element);
            newElements.push(element);
            frag.appendChild(element[0]);
          }
          insPoint.after(frag);
          return newElements;
        }

        function recomputeActive() {
          // We want to set the start to the low water mark unless the current
          // start is already between the low and high water marks.
          var start = clip(state.firstActive, state.firstVisible - state.lowWater, state.firstVisible - state.highWater);
          // Similarly for the end
          var end = clip(state.firstActive + state.active,
                         state.firstVisible + state.visible + state.lowWater,
                         state.firstVisible + state.visible + state.highWater );
          state.firstActive = clip(start, 0, state.total - state.visible - state.lowWater);
          state.active = Math.min(end, state.total) - state.firstActive;
        }

        function sfVirtualRepeatOnScroll(evt){
          if( !rowHeight ){
            return;
          }
          // Enter the angular world for the state change to take effect.
          scope.$apply(function(){
            state.firstVisible = Math.floor(evt.target.scrollTop / rowHeight);
            state.visible = Math.ceil(dom.viewport[0].clientHeight / rowHeight);
            $log.debug('scroll to row %o', state.firstVisible);
            sticky = evt.target.scrollTop + evt.target.clientHeight >= evt.target.scrollHeight;
            recomputeActive();
            $log.debug(' state is now %o', state);
            $log.debug(' sticky = %o', sticky);
          });
        }

        function sfVirtualRepeatWatchExpression(scope){
          var coll = scope.$eval(ident.collection);
          if( coll && coll.length !== state.total ){
            state.total = coll.length;
            recomputeActive();
          }
          return {
            start: state.firstActive,
            active: state.active,
            len: coll ? coll.length : 0
          };
        }

        function destroyActiveElements (action, count) {
          var dead, ii, remover = Array.prototype[action];
          for( ii = 0; ii < count; ii++ ){
            dead = remover.call(rendered);
            dead.scope().$destroy();
            dead.remove();
          }
        }

        // When the watch expression for the repeat changes, we may need to add
        // and remove scopes and elements
        function sfVirtualRepeatListener(newValue, oldValue, scope){
          var oldEnd = oldValue.start + oldValue.active,
              newElements;
          if( newValue === oldValue ){
            $log.debug('initial listen');
            newElements = addElements(newValue.start, oldEnd, ident.collection, scope, iterStartElement);
            rendered = newElements;
            if( rendered.length ){
              rowHeight = computeRowHeight(newElements[0][0]);
            }
          }else{
            var newEnd = newValue.start + newValue.active;
            var forward = newValue.start >= oldValue.start;
            var delta = forward ? newValue.start - oldValue.start
                                : oldValue.start - newValue.start;
            var endDelta = newEnd >= oldEnd ? newEnd - oldEnd : oldEnd - newEnd;
            var contiguous = delta < (forward ? oldValue.active : newValue.active);
            $log.debug('change by %o,%o rows %s', delta, endDelta, forward ? 'forward' : 'backward');
            if( !contiguous ){
              $log.debug('non-contiguous change');
              destroyActiveElements('pop', rendered.length);
              rendered = addElements(newValue.start, newEnd, ident.collection, scope, iterStartElement);
            }else{
              if( forward ){
                $log.debug('need to remove from the top');
                destroyActiveElements('shift', delta);
              }else if( delta ){
                $log.debug('need to add at the top');
                newElements = addElements(
                  newValue.start,
                  oldValue.start,
                  ident.collection, scope, iterStartElement);
                rendered = newElements.concat(rendered);
              }
              if( newEnd < oldEnd ){
                $log.debug('need to remove from the bottom');
                destroyActiveElements('pop', oldEnd - newEnd);
              }else if( endDelta ){
                var lastElement = rendered[rendered.length-1];
                $log.debug('need to add to the bottom');
                newElements = addElements(
                  oldEnd,
                  newEnd,
                  ident.collection, scope, lastElement);
                rendered = rendered.concat(newElements);
              }
            }
            if( !rowHeight && rendered.length ){
              rowHeight = computeRowHeight(rendered[0][0]);
            }
            dom.content.css({'padding-top': newValue.start * rowHeight + 'px'});
          }
          dom.content.css({'height': newValue.len * rowHeight + 'px'});
          if( sticky ){
            dom.viewport[0].scrollTop = dom.viewport[0].clientHeight + dom.viewport[0].scrollHeight;
          }
        }
      }
    }
  }]);

}());

///#source 1 1 /h5/libraries/angular-ellipsis/angular-ellipsis.js
/**
 *	Angular directive to truncate multi-line text to visible height
 *
 *	@param bind (angular bound value to append) REQUIRED
 *	@param ellipsisAppend (string) string to append at end of truncated text after ellipsis, can be HTML OPTIONAL
 *	@param ellipsisAppendClick (function) function to call if ellipsisAppend is clicked (ellipsisAppend must be clicked) OPTIONAL
 *	@param ellipsisSymbol (string) string to use as ellipsis, replaces default '...' OPTIONAL
 *	@param ellipsisSeparator (string) separator to split string, replaces default ' ' OPTIONAL
 *
 *	@example <p data-ellipsis data-ng-bind="boundData"></p>
 *	@example <p data-ellipsis data-ng-bind="boundData" data-ellipsis-symbol="---"></p>
 *	@example <p data-ellipsis data-ng-bind="boundData" data-ellipsis-append="read more"></p>
 *	@example <p data-ellipsis data-ng-bind="boundData" data-ellipsis-append="read more" data-ellipsis-append-click="displayFull()"></p>
 *
 */
angular.module('dibari.angular-ellipsis', [])

.directive('ellipsis', ['$timeout', '$window', function ($timeout, $window) {

    return {
        restrict: 'A',
        scope: {
            ngBind: '=',
            ngBindHtml: '=',
            ellipsisAppend: '@',
            ellipsisAppendClick: '&',
            ellipsisSymbol: '@',
            ellipsisSeparator: '@',
            useParent: "@",
            ellipsisSeparatorReg: '='
        },
        compile: function (elem, attr, linker) {

            return function (scope, element, attributes) {
                /* Window Resize Variables */
                attributes.lastWindowResizeTime = 0;
                attributes.lastWindowResizeWidth = 0;
                attributes.lastWindowResizeHeight = 0;
                attributes.lastWindowTimeoutEvent = null;
                /* State Variables */
                attributes.isTruncated = false;
                function getParentHeight(element) {
                    var heightOfChildren = 0;
                    angular.forEach(element.parent().children(), function (child) {
                        if (child != element[0]) {
                            heightOfChildren += child.clientHeight;
                        }
                    });
                    return element.parent()[0].clientHeight - heightOfChildren;
                }
                function buildEllipsis() {
                    var binding = scope.ngBind || scope.ngBindHtml;
                    if (binding) {
                        var i = 0,
							ellipsisSymbol = (typeof (attributes.ellipsisSymbol) !== 'undefined') ? attributes.ellipsisSymbol : '&hellip;',
							ellipsisSeparator = (typeof (scope.ellipsisSeparator) !== 'undefined') ? attributes.ellipsisSeparator : ' ',
							ellipsisSeparatorReg = (typeof (scope.ellipsisSeparatorReg) !== 'undefined') ? scope.ellipsisSeparatorReg : false,
							appendString = (typeof (scope.ellipsisAppend) !== 'undefined' && scope.ellipsisAppend !== '') ? ellipsisSymbol + '<span>' + scope.ellipsisAppend + '</span>' : ellipsisSymbol,
							bindArray = ellipsisSeparatorReg ? binding.match(ellipsisSeparatorReg) : binding.split(ellipsisSeparator);

                        attributes.isTruncated = false;
                        element.html(binding);

                        // If text has overflow
                        if (isOverflowed(element, scope.useParent)) {
                            var bindArrayStartingLength = bindArray.length,
								initialMaxHeight = scope.useParent ? getParentHeight(element) : element[0].clientHeight;

                            element.html(binding + appendString);
                            //Set data-overflow on element for targeting
                            element.attr('data-overflowed', 'true');

                            // Set complete text and remove one word at a time, until there is no overflow
                            for (; i < bindArrayStartingLength; i++) {
                                bindArray.pop();
                                element.html(bindArray.join(ellipsisSeparator) + appendString);

                                if ((scope.useParent ? element.parent()[0] : element[0]).scrollHeight < initialMaxHeight || isOverflowed(element, scope.useParent) === false) {
                                    attributes.isTruncated = true;
                                    break;
                                }
                            }

                            // If append string was passed and append click function included
                            if (ellipsisSymbol != appendString && typeof (scope.ellipsisAppendClick) !== 'undefined' && scope.ellipsisAppendClick !== '') {
                                element.find('span').bind("click", function (e) {
                                    scope.$apply(function () {
                                        scope.ellipsisAppendClick.call(scope, { event: e });
                                    });
                                });
                            }
                        }
                    }
                }

                /**
                 *	Test if element has overflow of text beyond height or max-height
                 *
                 *	@param element (DOM object)
                 *
                 *	@return bool
                 *
                 */
                function isOverflowed(thisElement, useParent) {
                    thisElement = useParent ? thisElement.parent() : thisElement;
                    return thisElement[0].scrollHeight > thisElement[0].clientHeight;
                }

                /**
                 *	Watchers
                 */

                /**
                 *	Execute ellipsis truncate on ngBind update
                 */
                scope.$watch('ngBind', function () {
                    $timeout(function () {
                        buildEllipsis();
                    });
                });

                /**
                 *	Execute ellipsis truncate on ngBindHtml update
                 */
                scope.$watch('ngBindHtml', function () {
                    $timeout(function () {
                        buildEllipsis();
                    });
                });

                /**
                 *	Execute ellipsis truncate on ngBind update
                 */
                scope.$watch('ellipsisAppend', function () {
                    buildEllipsis();
                });

                /**
                 *	When window width or height changes - re-init truncation
                 */

                function onResize() {
                    $timeout.cancel(attributes.lastWindowTimeoutEvent);

                    attributes.lastWindowTimeoutEvent = $timeout(function () {
                        if (attributes.lastWindowResizeWidth != window.innerWidth || attributes.lastWindowResizeHeight != window.innerHeight) {
                            buildEllipsis();
                        }

                        attributes.lastWindowResizeWidth = window.innerWidth;
                        attributes.lastWindowResizeHeight = window.innerHeight;
                    }, 75);
                }

                var $win = angular.element($window);
                $win.bind('resize', onResize);

                /**
                * Clean up after ourselves
                */
                scope.$on('$destroy', function () {
                    $win.unbind('resize', onResize);
                });
            };
        }
    };
}]);



///#source 1 1 /h5/apps/_modules/ui/ui.js
(function() {
	'use strict';

	angular.module('seismic.ui', ["seismic.ui.busy"])
        .constant("seismicUIPath", "/H5/_modules/ui");
})();
///#source 1 1 /h5/apps/_modules/ui/_modules/busy/busy.js
(function () {
    'use strict';

    angular
        .module('seismic.ui.busy', [])
        .factory("globalBusy", globalBusy)
        .factory("localBusy", localBusy);

    /**
     * Global busy indicator
     * To use it, you need import globalBusy in $inject
     * 
     * Export two functions:
     *  1. globalBusy.setBusy(msg: string)
     *  2. globalBusy.removeBusy()
     */
    globalBusy.$inject = [];
    function globalBusy() {
        return _createBusyModel();
    }

    /**
     * Local busy indicator
     * To use it, you need import localBusy in $inject
     * 
     * Export one function:
     *  var busyModel = localBusy.create()
     * 
     * Then, you need to bind this busyModel to html:
     *  <div busy="busyModel" class="local-busy-indicator"></div>
     * 
     * And, you could call these function to set status:
     *  1. busyModel.setBusy(msg: string)
     *  2. busyModel.removeBusy()
     */
    localBusy.$inject = [];
    function localBusy() {
        return {
            create: _createBusyModel
        };
    }

    function _createBusyModel() {
        var model = {
            isBusy: false,
            message: "",
            setBusy: function (msg) {
                //console.info("Pace", window.Pace, Pace.running);
                if (window.Pace && Pace.running) return ;
                model.message = msg;
                model.isBusy = true;
            },
            removeBusy: function () {
                model.isBusy = false;
            }
        };

        return model;
    }

})();
///#source 1 1 /h5/apps/_modules/ui/_modules/busy/busy.directive.js
/*!
 * AngularJS Round Progress Directive
 *
 * Copyright 2013 Stephane Begaudeau
 * Released under the MIT license
 * 
 * Modified for seismic
 * 
 */
angular.module('seismic.ui.busy')
.directive('busy', ['$interval', '$parse', '$filter', function ($interval, $parse, $filter) {
    var defaultOptions = {
        isBusy: true,
        message: "Loading...",

        width: 260,
        height: 150,

        marginTop: 25,
        marginLeft: 5,

        circleWidth: 20,
        circleRadius: 10,

        backgroundColor: "rgba(39, 60, 66, 0.3)",
        circleBackgroundColor: "#505769",
        upCircleForegroundColor: "#FFFFFF",
        downCircleForegroundColor: "#FF4D14",

        labelFont: "12pt Arial",
        labelColor: "#FFFFFF",
        labelMarginTop: 40
    };

    var compilationFunction = function (templateElement, templateAttributes, transclude) {
        if (templateElement.length === 1) {
            return function (scope, instanceElement, attrs, ngModel) {
                var i = 0,
                    percentage = 0;
                var node = instanceElement[0];
                if (!$(node).data("initialized")) {
                    $(node).data("initialized", true);
                    var template = '<div style="height: 100%; width: 100%; display: table; padding: 0;" class="container-fluid _container">'
                                        + '<div style="height: 100%; vertical-align: middle; text-align: center; display: table-cell;" class="row-fluid">'
                                            + '<canvas class="text-center" style="float:none; margin:0 auto;"></canvas>'
                                        + '</div>'
                                    + '</div>';

                    if (angular.element(templateElement).hasClass('-inline-busy')) {
                        template = '<div class="_container">'
                                        + '<div style="height: 100%; vertical-align: middle; text-align: center; display: table-cell;" class="row-fluid">'
                                            + '<canvas class="text-center" style="float:none; margin:0 auto;"></canvas>'
                                        + '</div>'
                                    + '</div>';
                    }

                    node.innerHTML = template;
                }

                var canvas = node.getElementsByTagName("canvas")[0];
                var _container = node.getElementsByClassName("_container")[0];

                scope.$on("$destroy", function () {
                    $(node).data("initialized", false);
                    $interval.cancel($(node).data("timer"));
                });

                scope.$watch(attrs.busy, function (newValue, oldValue) {
                    if (!newValue) return;

                    var circleBackgroundColorDefault = "rgba(0,0,0,.1)",
                        labelColorDefault = $App.globalTint && $App.globalTint.colors.PrimaryForeground,
                        backgroundColorDefault = $App.globalTint && $App.globalTint.colors.PrimaryBackground && alpha($App.globalTint.colors.PrimaryBackground, 0.3),
                        upCircleForegroundColorDefault = $App.globalTint && $App.globalTint.colors.PrimaryForeground,
                        downCircleForegroundColorDefault = $App.globalTint && $App.globalTint.colors.HighlightBackground;

                    var isBusy = newValue.isBusy,
                        message = newValue.message || defaultOptions.message,
                        width = newValue.width || defaultOptions.width,
                        height = newValue.height || defaultOptions.height,
                        marginTop = newValue.marginTop || defaultOptions.marginTop,
                        marginLeft = newValue.marginLeft || defaultOptions.marginLeft,
                        circleWidth = newValue.circleWidth || defaultOptions.circleWidth,
                        labelMarginTop = newValue.labelMarginTop || defaultOptions.labelMarginTop,

                        backgroundColor = newValue.backgroundColor || backgroundColorDefault || defaultOptions.backgroundColor,
                        circleBackgroundColor = newValue.circleBackgroundColor || circleBackgroundColorDefault || defaultOptions.circleBackgroundColor,
                        upCircleForegroundColor = newValue.upCircleForegroundColor || upCircleForegroundColorDefault || defaultOptions.upCircleForegroundColor,
                        downCircleForegroundColor = newValue.downCircleForegroundColor || downCircleForegroundColorDefault || defaultOptions.downCircleForegroundColor,
                        labelColor = newValue.labelColor || labelColorDefault || defaultOptions.labelColor,

                        circleRadius = newValue.circleRadius || defaultOptions.circleRadius,

                        labelFont = newValue.labelFont || defaultOptions.labelFont;

                    $interval.cancel($(node).data("timer"));
                    if (!isBusy) {
                        node.orignalDisplay = node.style.display;
                        node.style.display = "none";
                        return;
                    } else {
                        node.style.display = (!node.orignalDisplay || node.orignalDisplay == 'none') ? "block" : node.orignalDisplay;
                    }

                    _container.style.backgroundColor = backgroundColor;
                    canvas.setAttribute('width', width);
                    canvas.setAttribute('height', height);

                    // Create the content of the canvas
                    var ctx = canvas.getContext('2d');

                    // The "background" circle
                    var x = (width - marginLeft) / 2,
                        y = (height - marginTop) / 2;

                    var timer = $interval(function () {
                        if (!isBusy) {
                            //console.log($(node).data("timer"))
                            $interval.cancel($(node).data("timer"));
                        };

                        //console.log(isBusy, $(node).data("timer"))

                        ctx.clearRect(0, 0, width, height);
                        // The "background" circle
                        drawCircle(ctx, x, y, parseInt(circleRadius), parseInt(circleWidth), 0.5 * Math.PI, 0 * Math.PI, circleBackgroundColor);
                        // The second "background" circle    
                        drawCircle(ctx, x + marginLeft, y + marginTop, parseInt(circleRadius), parseInt(circleWidth), 1.5 * Math.PI, 1 * Math.PI, circleBackgroundColor);

                        drawFont(ctx, labelFont, 'center', 'middle', labelColor, message, x + marginLeft, y + marginTop + labelMarginTop, 300);

                        if (percentage <= 0.5) {
                            // The "foreground" circle
                            var startAngle = -((percentage * 1.5) * Math.PI * 2);
                            var endAngle = 0;
                            drawCircle(ctx, x, y, parseInt(circleRadius), parseInt(circleWidth), startAngle, endAngle, upCircleForegroundColor);
                        } else if (percentage <= 1) {
                            drawCircle(ctx, x, y, circleRadius, circleWidth, -4.71, 0, upCircleForegroundColor);
                            // The second "foreground" circle
                            percentage = (percentage - 0.5) * 1.5;
                            var startAngle = 1.5 * Math.PI;
                            var endAngle = (1.5 * Math.PI + percentage * Math.PI * 2);
                            drawCircle(ctx, x + marginLeft, y + marginTop, parseInt(circleRadius), parseInt(circleWidth), startAngle, endAngle, downCircleForegroundColor);
                        }

                        if (i <= 100) {
                            i++;
                        } else {
                            // reset
                            i = 0;
                        }

                        percentage = i / 100;
                    }, 20);

                    $(node).data("timer", timer);
                }, true);
            };
        }
    };

    function drawCircle(ctx, x, y, radius, width, startangle, endangle, style) {
        ctx.beginPath();
        ctx.arc(x, y, parseInt(radius), startangle, endangle, false);
        ctx.lineWidth = parseInt(width);
        ctx.strokeStyle = style;
        ctx.stroke();
    };

    function drawFont(ctx, labelFont, textAlign, textBaseline, labelColor, title, x, y, width) {
        // The inner number 
        ctx.font = labelFont;
        ctx.textAlign = textAlign;
        ctx.textBaseline = textBaseline;
        ctx.fillStyle = labelColor;
        ctx.fillText(title, x, y, width);
    };

    function alpha(color, alpha) {
        return color.replace(/,[^\,]*\)/, ',' + alpha + ')');
    }

    var roundProgress = {
        compile: compilationFunction,
        replace: true
    };

    return roundProgress;
}]);

///#source 1 1 /h5/apps/_modules/ui/_modules/lazyload/lazyload.js
angular
	.module('seismic.ui')
	.directive("ngLazyLoad",['$window', '$document',
			function( $window, $document ) {
				// I manage all the images that are currently being
				// monitored on the page for lazy loading.
				var lazyLoader = (function() {

					// I maintain a list of images that lazy-loading
					// and have yet to be rendered.
					var images = [];

					// I define the render timer for the lazy loading
					// images to that the DOM-querying (for offsets)
					// is chunked in groups.
					var renderTimer = null;
					var renderDelay = 100;

					// I cache the window element as a jQuery reference.
					var win = $( $window );

					// I cache the document document height so that 
					// we can respond to changes in the height due to
					// dynamic content.
					var doc = $document;
					var documentHeight = doc.height();
					var documentTimer = null;
					var documentDelay = 2000;

					// I determine if the window dimension events 
					// (ie. resize, scroll) are currenlty being 
					// monitored for changes.
					var isWatchingWindow = false;
					// ---
					// PUBLIC METHODS.
					// ---
					// I start monitoring the given image for visibility
					// and then render it when necessary.
					function addImage( image ) {
						images.push( image );
						if ( ! renderTimer ) {
							startRenderTimer();
						}
						if ( ! isWatchingWindow ) {
							startWatchingWindow();
						}
					}
					// I remove the given image from the render queue.
					function removeImage( image ) {

						// Remove the given image from the render queue.
						for ( var i = 0 ; i < images.length ; i++ ) {

							if ( images[ i ] === image ) {

								images.splice( i, 1 );
								break;

							}

						}

						// If removing the given image has cleared the
						// render queue, then we can stop monitoring 
						// the window and the image queue.
						if ( ! images.length ) {
							clearRenderTimer();
							stopWatchingWindow();
						}
					}
					// I check the document height to see if it's changed.
					function checkDocumentHeight() {

						// If the render time is currently active, then 
						// don't bother getting the document height - 
						// it won't actually do anything.
						if ( renderTimer ) {
							return;
						}
						var currentDocumentHeight = doc.height();

						// If the height has not changed, then ignore - 
						// no more images could have come into view.
						/*if ( currentDocumentHeight === documentHeight ) {
							return;
						}*/
						// Cache the new document height.
						documentHeight = currentDocumentHeight;
						startRenderTimer();
					}


					// I check the lazy-load images that have yet to 
					// be rendered. 
					function checkImages() {
						// Log here so we can see how often this 
						// gets called during page activity.
						//console.log( "Checking for visible images..." );
						var visible = [];
						var hidden = [];
						// Determine the window dimensions.
						var windowHeight = win.height();
						var scrollTop = win.scrollTop();
						// Calculate the viewport offsets.
						var topFoldOffset = scrollTop;
						var bottomFoldOffset = ( topFoldOffset + windowHeight );

						// Query the DOM for layout and seperate the
						// images into two different categories: those
						// that are now in the viewport and those that
						// still remain hidden.
						for ( var i = 0 ; i < images.length ; i++ ) {
							var image = images[ i ];
							if ( image.isVisible( topFoldOffset, bottomFoldOffset ) ) {
								visible.push( image );
							} else {
								hidden.push( image );
							}
						}
						// Update the DOM with new image source values.
						for ( var i = 0 ; i < visible.length ; i++ ) {
							visible[ i ].render();
						}

						// Keep the still-hidden images as the new 
						// image queue to be monitored.
						images = hidden;
						// Clear the render timer so that it can be set
						// again in response to window changes.
						clearRenderTimer();
						// If we've rendered all the images, then stop
						// monitoring the window for changes.
						if ( ! images.length ) {
							stopWatchingWindow();
						}
					}


					// I clear the render timer so that we can easily 
					// check to see if the timer is running.
					function clearRenderTimer() {
						clearTimeout( renderTimer );
						renderTimer = null;
					}


					// I start the render time, allowing more images to
					// be added to the images queue before the render 
					// action is executed.
					function startRenderTimer() {
						renderTimer = setTimeout( checkImages, renderDelay );
					}


					// I start watching the window for changes in dimension.
					function startWatchingWindow() {
						isWatchingWindow = true;
						// Listen for window changes.
						win.on( "resize.ngLazyLoad", windowChanged );
						win.on( "scroll.ngLazyLoad", windowChanged );
						// Set up a timer to watch for document-height changes.
						documentTimer = setInterval( checkDocumentHeight, documentDelay );
					}


					// I stop watching the window for changes in dimension.
					function stopWatchingWindow() {
						isWatchingWindow = false;
						// Stop watching for window changes.
						win.off( "resize.ngLazyLoad" );
						win.off( "scroll.ngLazyLoad" );
						// Stop watching for document changes.
						clearInterval( documentTimer );
					}


					// I start the render time if the window changes.
					function windowChanged() {
						if ( ! renderTimer ) {
							startRenderTimer();
						}
					}

					// Return the public API.
					return({
						addImage: addImage,
						removeImage: removeImage
					});

				})();


				// ------------------------------------------ //
				// ------------------------------------------ //


				// I represent a single lazy-load image.
				function LazyImage( element ) {

					// I am the interpolated LAZY SRC attribute of 
					// the image as reported by AngularJS.					
					var source = null;

					// I determine if the image has already been 
					// rendered (ie, that it has been exposed to the
					// viewport and the source had been loaded).
					var isRendered = false;

					// I am the cached height of the element. We are 
					// going to assume that the image doesn't change 
					// height over time.
					var height = null;


					// ---
					// PUBLIC METHODS.
					// ---


					// I determine if the element is above the given 
					// fold of the page.
					function isVisible( topFoldOffset, bottomFoldOffset ) {

						// If the element is not visible because it 
						// is hidden, don't bother testing it.
						if ( ! element.is( ":visible" ) ) {

							return( false );

						}

						// If the height has not yet been calculated, 
						// the cache it for the duration of the page.
						if ( height === null ) {

							height = element.height();

						}

						// Update the dimensions of the element.
						var top = element.offset().top;
						var bottom = ( top + height );

						// Return true if the element is:
						// 1. The top offset is in view.
						// 2. The bottom offset is in view.
						// 3. The element is overlapping the viewport.
						return( 
								(
									( top <= bottomFoldOffset ) &&
									( top >= topFoldOffset )
								)
							||
								(
									( bottom <= bottomFoldOffset ) &&
									( bottom >= topFoldOffset )
								)
							||
								(
									( top <= topFoldOffset ) &&
									( bottom >= bottomFoldOffset )
								)
						);
						
					}


					// I move the cached source into the live source.
					function render() {
						isRendered = true;
						renderSource();
					}
					// I set the interpolated source value reported
					// by the directive / AngularJS.
					function setSource( newSource ) {
						source = newSource;
						if ( isRendered ) {
							renderSource();
						}
					}
					// ---
					// PRIVATE METHODS.
					// ---
					// I load the lazy source value into the actual 
					// source value of the image element.
					function renderSource() {
						element[ 0 ].src = source;
					}
					// Return the public API.
					return({
						isVisible: isVisible,
						render: render,
						setSource: setSource
					});
				}
				// ------------------------------------------ //
				// I bind the UI events to the scope.
				function link( $scope, element, attributes ) {
					var lazyImage = new LazyImage( element );
					// Start watching the image for changes in its
					// visibility.
					lazyLoader.addImage( lazyImage );
					// Since the lazy-src will likely need some sort
					// of string interpolation, we don't want to 
					attributes.$observe(
						"ngLazyLoad",
						function( newSource ) {
							lazyImage.setSource( newSource );
						}
					);

					// When the scope is destroyed, we need to remove
					// the image from the render queue.
					$scope.$on(
						"$destroy",
						function() {
							lazyLoader.removeImage( lazyImage );
						}
					);
				}

				// Return the directive configuration.
				return({
					link: link,
					restrict: "A"
				});

			}]
		);
///#source 1 1 /h5/apps/_modules/ui/_modules/lazyload/lazyloaddom.js
angular.module('seismic.ui')
    .directive('lazyLoadDom', ['$timeout', '$window', function ($timeout, $window) {
        return {
            restrict: 'A',
            link: function (scope, element, attrs) {
                $timeout(function () {
                    if (element.position().top < $(window).height() + $(window).scrollTop()) {
                        scope.item.IsShow = true;
                    }
                })
                angular.element(".lazyloaddom").on('scroll', function () {
                    if (element.position().top < $(window).height() + $(window).scrollTop() && (element.position().top + 400) > $(window).scrollTop()) {
                        if (!scope.item.IsShow) {
                            scope.item.IsShow = true;
                            $timeout(function () {
                                scope.$apply();
                            })
                        }
                        //
                    }
                    else {
                        if (scope.item.IsShow) {
                            scope.item.IsShow = false;
                            $timeout(function () {
                                scope.$apply();
                            })
                        }
                    }
                });
            }
        };
    }]);
///#source 1 1 /h5/apps/_modules/ui/_modules/modals/ui.modal.js
(function() {

    angular
        .module('seismic.ui')
        .constant('modalServicePath', '/H5/apps/_modules/ui/_modules/modals')
        .service('modalService', modalService);

    modalService.$inject = ['$rootScope', '$modal', 'ngDialog', 'modalServicePath'];

    function modalService($rootScope, $modal, ngDialog, modalServicePath) {

        var modalDefaults = {
            templateUrl: '',
            size: 'lg'
        };

        var modalOptions = {

        };
        /*this.showFileDetail = function(modalDefaults, modalOptions) {
            var scope = $rootScope.$new();
            scope.data = modalDefaults;
            return $modal.open({
                templateUrl: 'apps/_modules/ui/_modules/modals/filedetail/filedetail.html',
                controller: 'fileDetailModal',
                scope: scope
                //resolve: {
                //    modalInstance: function (){
                //        console.log($modalInstance);
                //        return $modalInstance;
                //    }
                //    modalType: function() {
                //        return modalType;
                //    }
            }).result;
        };*/


        this.alert = function(message) {
            if($(".dc-alert").length>0&&$(".dc-alert .message").text()==message){
                return;
            }
            var okText = arguments[1] ? arguments[1] : "OK";
            var title = arguments[2] ? arguments[2] : "Information";
            return ngDialog.open({
                scope: angular.extend($rootScope.$new(), {
                    title: title,
                    message: message,
                    okText: okText
                }),
                template: modalServicePath + '/message.html'
            });
        };
        this.confirm = function (message) {
            var yesText = arguments[1] ? arguments[1] : "Yes";
            var noText = arguments[2] ? arguments[2] : "No";
            var title = arguments[3] ? arguments[3] : "Confirmation";
            return ngDialog.openConfirm({
                scope: angular.extend($rootScope.$new(), {
                    title: title,
                    message: message,
                    yesText: yesText,
                    noText: noText
                }),
                template: modalServicePath + '/confirm.html'
            });
        }
    }
})();
///#source 1 1 /h5/apps/_modules/ui/_modules/loading/loading.js
angular
	.module('seismic.ui')
	.directive('loading', loading);


function loading() {
	var directive = {
		restrict: 'AE',
		//scope: {
		//	showWhen:'='
		//},
		replace: true,
		template: '<div class="loader"><div class="spinner"></div></div>',
		link: function(scope, element, attributes) {
			//		console.log('this is directive');
			//		console.log(attributes);
			//		console.log(scope.showWhen);
		}
	};
	return directive;
};
///#source 1 1 /h5/apps/_modules/ui/_modules/pdfviewer/pdfViewer.js
angular
	.module('seismic.ui')
	.directive('pdfViewer', function() {
		var directive = {
			restrict: 'AC',
			template: '<iframe src="{{pdfViewerSrc}}" frameborder="0"></iframe>'
		};

		return directive;
	});
///#source 1 1 /h5/apps/_modules/service/service.js
(function () {
    'use strict';
    angular
        .module('seismic.service', [
            'ngExDialog',
            'seismic.ui'
        ])
        /*.value('$App', {
            "loginInfo": {
                "tenant": "",
                "username": "",
                "userid": "",
                "password": "",
                "accessKey": "",
                "rememberMeToken": "",
                "isFormAuth": false,
                "clientType": "",
                "clientInfo": {},
                "pageUrl": "html5/autotestrequester.html",
                "isSSO": false
            }
        })*/
})();
///#source 1 1 /h5/apps/_modules/translate/translate.js
(function () {
    'use strict';

    angular.module('seismic.translate', ['pascalprecht.translate'])
        .constant('translatePath', "apps/_modules/translate")

	.config(['translatePath', '$translateProvider', '$translatePartialLoaderProvider',function (translatePath, $translateProvider, $translatePartialLoaderProvider) {
	    $translateProvider.useLoader('$translatePartialLoader', {
	        urlTemplate: translatePath + '/tran.{lang}.json?version='+langJsonVersion
	    });
	    $translateProvider.preferredLanguage('en-US');
	}])

})();
///#source 1 1 /h5/apps/_modules/onepagelayout/onepagelayout.js
(function () {
    angular
        .module('seismic.onepagelayout', ['seismic.ui'])
        .constant('onepagelayoutPath', "/h5/apps/_modules/onepagelayout")
        .directive('seismicOnePageLayout', seismicOnePageLayout)
        .controller('Shell', Shell);

    seismicOnePageLayout.$inject = ['onepagelayoutPath'];
    function seismicOnePageLayout(onepagelayoutPath) {
        var directive = {
            restrict: 'E',
            transclude: true,
            scope: {

            },
            templateUrl: onepagelayoutPath + "/onepagelayout.html?v=" + onePageLayoutVersion
        };

        return directive;
    }

    Shell.$inject = ['$rootScope', '$scope', '$timeout', '$log', '$translate', '$translatePartialLoader', 'globalBusy', 'modalService', 'toastr']
    function Shell($rootScope, $scope, $timeout, $log, $translate, $translatePartialLoader, globalBusy, modalService, toastr) {
        this.busyModel = globalBusy;

        var me = this;
        this.languagestate = "en-US";
        this.showSplash = true;
        this.switchLanguage = _switchLanguage;

        $translatePartialLoader.addPart('en');
        $translate.refresh();

        function _switchLanguage(lan) {
            //console.log(lan);
            me.languagestate = lan;
            $translate.use(lan);
        }

        /*$scope.error = function() {
            toastr.error('Your credentials are gone', 'Error');
        }
        $scope.info = function() {
            toastr.info('We are opened today from 10 to 22', 'Information');
        };
        $scope.success = function() {
            toastr.success('We are opened today from 10 to 22', 'Information');
        };
        $scope.warning = function() {
            toastr.warning('We are opened today from 10 to 22', 'Information');
        };
        $scope.successWithoutTitle = function() {
            toastr.success('It is ok');
        };*/
        $scope.alert = function (message) {
            var message = "Hello";
            modalService.alert(message, 'OK').closePromise.then(function (data) {
                //console.log('ngDialog closed' + (data.value === 1 ? ' using the button' : '') + ' and notified by promise: ' + data.id);
            });
        };
        $scope.confirm = function (message) {
            var message = "Do you want to do this?";
            modalService.confirm(message, 'No', 'Yes').then(function (value) {
                //console.log('resolved:' + value);
            }, function (value) {
                //console.log('rejected:' + value);

            });
        }
    }
})();
///#source 1 1 /h5/apps/_modules/core/core.js
(function () {
    'use strict';
    angular
        .module('seismic.core', [
            // Angular Modules
            'ngResource',
            'toastr',
            'ngDialog',
            'angular-ladda',
            'ui.bootstrap',
            'ui.router',
            'pascalprecht.translate',
            // custom libraries
            'seismic.translate',
            //'seismic.cache',
            'seismic.ui',
            'seismic.service'
        ])
        .constant("isMobile", _isMobile());

    function _isMobile() {
        var ua = navigator.userAgent;
        if (/(iphone|ios|android|mini|mobile|mobi|Nokia|Symbian|iPod|iPad|Windows\s+Phone|MQQBrowser|wp7|wp8|UCBrowser7|UCWEB|360\s+Aphone\s+Browser)/i.test(ua)) {
            return true;
        }
        return false;
    }
})();
///#source 1 1 /h5/apps/_modules/core/httpInterceptor.js
angular.module('seismic.core')
    .factory('httpInterceptor', ['$rootScope', '$q',
        function ($rootScope, $q) {
            return {
                'request': function (config) {
                    //console.log("request");

                    if (config.data && !angular.isObject(config.data)) {
                        var orignalData = config.data;
                        config.data = JSON.stringify(config.data);
                        console.log('Seismic > To post data: ', orignalData, ', convert to: ', config.data);
                    }

                    return config || $q.when(config);
                },
                'requestError': function (rejection) {
                    // console.log('requestError:' + rejection);
                    console.log("error");

                    return rejection;
                },
                //success -> don't intercept
                'response': function (response) {
                    //console.log(response);
                    // console.log('response:' + response);
                    if(response&&response.data&&response.data.Error!=null){
                        globalErrorHandler(response.data.Error);
                    }
                    return response || $q.when(response);
                },
                //error -> if 401 save the request and broadcast an event
                'responseError': function (response) {
                    //console.log('responseError:' + response);
                    /*if (response.status === 401) {
                        var deferred = $q.defer(),
                            req = {
                                config: response.config,
                                deferred: deferred
                            };
                        $rootScope.requests401.push(req);
                        //console.log(response);
                        //$rootScope.$broadcast('event:loginRequired');
                        return deferred.promise;
                    }
                    var err;
                    try {
                        err = JSON.parse(response.responseText);
                    } catch (ex) {
                        err = { Error: { ErrorCode: NuPitchRequestErrorCode.GET_NOTHING_FROM_SERVER, Message: "There is unknown error from server." } }
                    }
                    globalErrorHandler(err);*/
                    return $q.reject(response);
                }

            };

            function globalErrorHandler(error) {
                if (error) {
                    if (error.ErrorCode == -1005) {
                        //$App.rootVm.handleRequestExpired(error.Message);
                        return true;
                    } else if (error.ErrorCode == -1004 || error.ErrorCode == -1082 || error.ErrorCode == -1084) {
                        //$App.rootVm.handleSessionTimeout("Your session has timed out.");
                        //gotoLogin();
                        return false;
                    } else if (error.ErrorCode == -1000) {
                        //showMessage(error.Message);
                        return false;
                    } else if (error.ErrorCode == NuPitchRequestErrorCode.GET_NOTHING_FROM_SERVER) {
                        //return true;
                    }
                }
            }
            function gotoLogin(){
                var path = window.location.href.toLowerCase();
                path=path.substr(path.indexOf("/h5/"),path.length-path.indexOf("/h5/"));
                //console.log(path);
                path=encodeURIComponent(path);
                window.location.href="/Logon.aspx?ReturnUrl="+path;
            }
        }
    ]);
///#source 1 1 /h5/apps/_modules/core/apphelper.js
(function () {
    'use strict';
    angular
        .module('seismic.core')
        .factory('appHelper', function () {
            return {
                getAccountConfigByKey: _getAccountConfigByKey,
                getGoogleConfigByKey: _getGoogleConfigByKey
            }
        });

    function _getAccountConfigByKey(configKey, configs) {
        if (!configs) {
            configs = $App.ApplicationInfo.AccountConfiguration;
        }

        for (var i = 0; i < configs.length; i++) {
            if (configs[i].Key == configKey) {
                return configs[i].Value;
            }
        }

        return null;
    };
    function _getGoogleConfigByKey(configKey, configs) {
        if (!configs) {
            configs = $App.ApplicationInfo.GoogleOAuthDefaultSetting;
        }

        for (var i = 0; i < configs.length; i++) {
            if (configs[i].Key == configKey) {
                return configs[i].Value;
            }
        }

        return null;
    };
})();
///#source 1 1 /h5/apps/_modules/service/credentials.service.js
(function () {

    angular
        .module('seismic.service')
        .service('credentialsService', credentialsService);
    credentialsService.$inject = ['$http', '$cacheFactory', '$rootScope',  '$filter'];

    function credentialsService($http, $cacheFactory, $rootScope,  $filter) {

        var service = {
            getIsSSO: getIsSSO,
            getCredentials: getCredentials,
            getCredentailLogin: getCredentailLogin,
            initCredentials: initCredentials
        };
        return service;


        function getCredentials(credentailType) {
            switch (credentailType) {
                case CREDENTAILS_TYPE.SESSION:
                    var url = USER_SERVICE_URL + "/Session/Credentials?tenant=" + $App.loginInfo.tenant + "&clientType=" + $App.loginInfo.clientType;
                    return $http.post(url, {}, {
                        headers: getGlobalCustomHeaders()
                    })
                        .then(function (response) {
                            return response.data;
                        });
                    break;
                case CREDENTAILS_TYPE.REMEMBER_ME_TOKEN:
                    if (!$App.loginInfo.rememberMeToken) return;

                    var url = USER_SERVICE_URL + "/Credentials?tenant=" + $App.loginInfo.tenant + "&clientType=" + $App.loginInfo.clientType + "&isDirectLogon=" + (true != $App.loginInfo.isSSO) + "&keyExpireSeconds=" + KEY_EXPAIR_TIME + "&sessionExpireSeconds=" + SESSION_EXPAIR_TIME;
                    var data = {
                        identityToken: $App.loginInfo.rememberMeToken
                    };
                    return $http.post(url, data, {
                        headers: getGlobalCustomHeaders()
                    })
                        .then(function (response) {
                            return response.data;
                        });
                    break;
                case CREDENTAILS_TYPE.ANOTHER_APP_TO_LIVE_SHARE:
                    var url = USER_SERVICE_URL + "/LiveShareCredentials?tenant=" + $App.loginInfo.tenant + "&clientType=" + $App.loginInfo.fromClientType;
                    return $http.get(url, {
                        headers: getGlobalCustomHeaders()
                    })
                        .then(function (response) {
                            return response.data;
                        });
                    break;
                case CREDENTAILS_TYPE.USER_NAME_AND_PASSOWRD:
                    var url = USER_SERVICE_URL + getParamsWithSignature("Credentials", $App.loginInfo.tenant, $App.loginInfo.username, $App.loginInfo.password) + "&clientType=" + $App.loginInfo.clientType + "&keyExpireSeconds=" + KEY_EXPAIR_TIME + "&sessionExpireSeconds=" + SESSION_EXPAIR_TIME;

                    return $http.get(url, {
                        headers: getGlobalCustomHeaders()
                    })
                        .then(function (response) {
                            return response.data;
                        });
                    break;
            }

        };
        function getCredentailLogin(password, keyExpairTime) {

            var url = USER_SERVICE_URL + getParamsWithSignature("Credentials", $App.loginInfo.tenant, $App.loginInfo.username, password) + "&clientType=" + $App.loginInfo.clientType + "&keyExpireSeconds=" + keyExpairTime + "&sessionExpireSeconds=" + SESSION_EXPAIR_TIME;
            return $http.get(url, {
                headers: getGlobalCustomHeaders()
            }).then(function (response) {
                return response.data;
            });

        };
        function getIsSSO() {
            var url = USER_SERVICE_URL + "/IsSSO?tenant=" + $App.loginInfo.tenant;
            return $http.get(url, {
                headers: getGlobalCustomHeaders()
            })
                .then(function (response) {
                    if (response.data.Error == null && response.data.ServiceResult != null) {
                        return response.data;
                    }
                });
        };
        function initCredentials(data) {
            if (data.Error == null && data.ServiceResult != null) {
                $App.loginInfo.tenant = data.ServiceResult.Tenant;
                $App.loginInfo.username = data.ServiceResult.UserName;
                $App.loginInfo.userid = data.ServiceResult.UserId;
                $App.loginInfo.accessKey = data.ServiceResult.AccessKey;
                $App.loginInfo.isSSO = data.ServiceResult.IsSSOLogin;
                $App.loginInfo.rememberMeToken = data.ServiceResult.IdentityToken;                
                //$rootScope.$broadcast(BROADCASTMESSAGE.UserCredentialsInit);
            }
        };
    }
})();
///#source 1 1 /h5/apps/sfdcinline/service/distribution.service.js
(function () {

    angular
        .module('seismic.service')
        .service('distributionService', distributionService);

    distributionService.$inject = ['$q', 'seismic'];
    function distributionService($q, seismic) {
        var service = {
            getContacts: getContacts,
            getSalesforceOrganizationContacts: getSalesforceOrganizationContacts,
            /*sendEmail: sendEmail,
            UploadFileToSharePoint: UploadFileToSharePoint,
            uploadToSalesforce: uploadToSalesforce,*/
            getCurrentSalesforceContacts: getCurrentSalesforceContacts
        };

        return service;

        function getCurrentSalesforceContacts(keyWords, pageSize, pageIndex) {
            return _remoteCall("GetSalesforceContacts", {
                profileVersionId: seismic.profileInfo.ProfileVersionId,
                keyWords: keyWords,
                pageSize: pageSize,
                pageIndex: pageIndex
            });
        };

        function getContacts() {
            return _remoteCall("GetContacts", {
                profileVersionId: seismic.profileInfo.ProfileVersionId
            });
        }

        function getSalesforceOrganizationContacts(organizationId, keyWords, pageSize, pageIndex) {
            return _remoteCall("Salesforce/Organization/Contacts", {
                organizationId: organizationId,
                keyWords: keyWords,
                pageSize: pageSize,
                pageIndex: pageIndex
            });
        }

        function sendEmail(oEmailInfo) {
            return _remoteCall("SendEmail", oEmailInfo);
        };

        function UploadFileToSharePoint(oSharepointInfo) {
            return _remoteCall("UploadToSharePoint", oSharepointInfo);
        };

        function uploadToSalesforce(objectId, blobId, documentName) {
            return _remoteCall("UploadToSalesForce", {
                objectid: objectId,
                blobid: blobId,
                filename: documentName
            });
        }

        function _remoteCall(method, params) {
            var deferred = $q.defer();
            seismic.RemoteCall(method, params, function (response) {
                if (response.Error == null) {
                    deferred.resolve(response.ServiceResult);
                } else {
                    seismic.HandleError(response.Error, seismic.getFormDefinition, arguments);
                    deferred.reject(response.Error);
                }
            });

            return deferred.promise;
        }
    }
})();

///#source 1 1 /H5/apps/_modules/ui/ui.js
(function() {
	'use strict';

	angular.module('seismic.ui', ["seismic.ui.busy"])
        .constant("seismicUIPath", "/H5/_modules/ui");
})();
///#source 1 1 /H5/apps/_modules/ui/_modules/busy/busy.js
(function () {
    'use strict';

    angular
        .module('seismic.ui.busy', [])
        .factory("globalBusy", globalBusy)
        .factory("localBusy", localBusy);

    /**
     * Global busy indicator
     * To use it, you need import globalBusy in $inject
     * 
     * Export two functions:
     *  1. globalBusy.setBusy(msg: string)
     *  2. globalBusy.removeBusy()
     */
    globalBusy.$inject = [];
    function globalBusy() {
        return _createBusyModel();
    }

    /**
     * Local busy indicator
     * To use it, you need import localBusy in $inject
     * 
     * Export one function:
     *  var busyModel = localBusy.create()
     * 
     * Then, you need to bind this busyModel to html:
     *  <div busy="busyModel" class="local-busy-indicator"></div>
     * 
     * And, you could call these function to set status:
     *  1. busyModel.setBusy(msg: string)
     *  2. busyModel.removeBusy()
     */
    localBusy.$inject = [];
    function localBusy() {
        return {
            create: _createBusyModel
        };
    }

    function _createBusyModel() {
        var model = {
            isBusy: false,
            message: "",
            setBusy: function (msg) {
                //console.info("Pace", window.Pace, Pace.running);
                if (window.Pace && Pace.running) return ;
                model.message = msg;
                model.isBusy = true;
            },
            removeBusy: function () {
                model.isBusy = false;
            }
        };

        return model;
    }

})();
///#source 1 1 /H5/apps/_modules/ui/_modules/busy/busy.directive.js
/*!
 * AngularJS Round Progress Directive
 *
 * Copyright 2013 Stephane Begaudeau
 * Released under the MIT license
 * 
 * Modified for seismic
 * 
 */
angular.module('seismic.ui.busy')
.directive('busy', ['$interval', '$parse', '$filter', function ($interval, $parse, $filter) {
    var defaultOptions = {
        isBusy: true,
        message: "Loading...",

        width: 260,
        height: 150,

        marginTop: 25,
        marginLeft: 5,

        circleWidth: 20,
        circleRadius: 10,

        backgroundColor: "rgba(39, 60, 66, 0.3)",
        circleBackgroundColor: "#505769",
        upCircleForegroundColor: "#FFFFFF",
        downCircleForegroundColor: "#FF4D14",

        labelFont: "12pt Arial",
        labelColor: "#FFFFFF",
        labelMarginTop: 40
    };

    var compilationFunction = function (templateElement, templateAttributes, transclude) {
        if (templateElement.length === 1) {
            return function (scope, instanceElement, attrs, ngModel) {
                var i = 0,
                    percentage = 0;
                var node = instanceElement[0];
                if (!$(node).data("initialized")) {
                    $(node).data("initialized", true);
                    var template = '<div style="height: 100%; width: 100%; display: table; padding: 0;" class="container-fluid _container">'
                                        + '<div style="height: 100%; vertical-align: middle; text-align: center; display: table-cell;" class="row-fluid">'
                                            + '<canvas class="text-center" style="float:none; margin:0 auto;"></canvas>'
                                        + '</div>'
                                    + '</div>';

                    if (angular.element(templateElement).hasClass('-inline-busy')) {
                        template = '<div class="_container">'
                                        + '<div style="height: 100%; vertical-align: middle; text-align: center; display: table-cell;" class="row-fluid">'
                                            + '<canvas class="text-center" style="float:none; margin:0 auto;"></canvas>'
                                        + '</div>'
                                    + '</div>';
                    }

                    node.innerHTML = template;
                }

                var canvas = node.getElementsByTagName("canvas")[0];
                var _container = node.getElementsByClassName("_container")[0];

                scope.$on("$destroy", function () {
                    $(node).data("initialized", false);
                    $interval.cancel($(node).data("timer"));
                });

                scope.$watch(attrs.busy, function (newValue, oldValue) {
                    if (!newValue) return;

                    var circleBackgroundColorDefault = "rgba(0,0,0,.1)",
                        labelColorDefault = $App.globalTint && $App.globalTint.colors.PrimaryForeground,
                        backgroundColorDefault = $App.globalTint && $App.globalTint.colors.PrimaryBackground && alpha($App.globalTint.colors.PrimaryBackground, 0.3),
                        upCircleForegroundColorDefault = $App.globalTint && $App.globalTint.colors.PrimaryForeground,
                        downCircleForegroundColorDefault = $App.globalTint && $App.globalTint.colors.HighlightBackground;

                    var isBusy = newValue.isBusy,
                        message = newValue.message || defaultOptions.message,
                        width = newValue.width || defaultOptions.width,
                        height = newValue.height || defaultOptions.height,
                        marginTop = newValue.marginTop || defaultOptions.marginTop,
                        marginLeft = newValue.marginLeft || defaultOptions.marginLeft,
                        circleWidth = newValue.circleWidth || defaultOptions.circleWidth,
                        labelMarginTop = newValue.labelMarginTop || defaultOptions.labelMarginTop,

                        backgroundColor = newValue.backgroundColor || backgroundColorDefault || defaultOptions.backgroundColor,
                        circleBackgroundColor = newValue.circleBackgroundColor || circleBackgroundColorDefault || defaultOptions.circleBackgroundColor,
                        upCircleForegroundColor = newValue.upCircleForegroundColor || upCircleForegroundColorDefault || defaultOptions.upCircleForegroundColor,
                        downCircleForegroundColor = newValue.downCircleForegroundColor || downCircleForegroundColorDefault || defaultOptions.downCircleForegroundColor,
                        labelColor = newValue.labelColor || labelColorDefault || defaultOptions.labelColor,

                        circleRadius = newValue.circleRadius || defaultOptions.circleRadius,

                        labelFont = newValue.labelFont || defaultOptions.labelFont;

                    $interval.cancel($(node).data("timer"));
                    if (!isBusy) {
                        node.orignalDisplay = node.style.display;
                        node.style.display = "none";
                        return;
                    } else {
                        node.style.display = (!node.orignalDisplay || node.orignalDisplay == 'none') ? "block" : node.orignalDisplay;
                    }

                    _container.style.backgroundColor = backgroundColor;
                    canvas.setAttribute('width', width);
                    canvas.setAttribute('height', height);

                    // Create the content of the canvas
                    var ctx = canvas.getContext('2d');

                    // The "background" circle
                    var x = (width - marginLeft) / 2,
                        y = (height - marginTop) / 2;

                    var timer = $interval(function () {
                        if (!isBusy) {
                            //console.log($(node).data("timer"))
                            $interval.cancel($(node).data("timer"));
                        };

                        //console.log(isBusy, $(node).data("timer"))

                        ctx.clearRect(0, 0, width, height);
                        // The "background" circle
                        drawCircle(ctx, x, y, parseInt(circleRadius), parseInt(circleWidth), 0.5 * Math.PI, 0 * Math.PI, circleBackgroundColor);
                        // The second "background" circle    
                        drawCircle(ctx, x + marginLeft, y + marginTop, parseInt(circleRadius), parseInt(circleWidth), 1.5 * Math.PI, 1 * Math.PI, circleBackgroundColor);

                        drawFont(ctx, labelFont, 'center', 'middle', labelColor, message, x + marginLeft, y + marginTop + labelMarginTop, 300);

                        if (percentage <= 0.5) {
                            // The "foreground" circle
                            var startAngle = -((percentage * 1.5) * Math.PI * 2);
                            var endAngle = 0;
                            drawCircle(ctx, x, y, parseInt(circleRadius), parseInt(circleWidth), startAngle, endAngle, upCircleForegroundColor);
                        } else if (percentage <= 1) {
                            drawCircle(ctx, x, y, circleRadius, circleWidth, -4.71, 0, upCircleForegroundColor);
                            // The second "foreground" circle
                            percentage = (percentage - 0.5) * 1.5;
                            var startAngle = 1.5 * Math.PI;
                            var endAngle = (1.5 * Math.PI + percentage * Math.PI * 2);
                            drawCircle(ctx, x + marginLeft, y + marginTop, parseInt(circleRadius), parseInt(circleWidth), startAngle, endAngle, downCircleForegroundColor);
                        }

                        if (i <= 100) {
                            i++;
                        } else {
                            // reset
                            i = 0;
                        }

                        percentage = i / 100;
                    }, 20);

                    $(node).data("timer", timer);
                }, true);
            };
        }
    };

    function drawCircle(ctx, x, y, radius, width, startangle, endangle, style) {
        ctx.beginPath();
        ctx.arc(x, y, parseInt(radius), startangle, endangle, false);
        ctx.lineWidth = parseInt(width);
        ctx.strokeStyle = style;
        ctx.stroke();
    };

    function drawFont(ctx, labelFont, textAlign, textBaseline, labelColor, title, x, y, width) {
        // The inner number 
        ctx.font = labelFont;
        ctx.textAlign = textAlign;
        ctx.textBaseline = textBaseline;
        ctx.fillStyle = labelColor;
        ctx.fillText(title, x, y, width);
    };

    function alpha(color, alpha) {
        return color.replace(/,[^\,]*\)/, ',' + alpha + ')');
    }

    var roundProgress = {
        compile: compilationFunction,
        replace: true
    };

    return roundProgress;
}]);

///#source 1 1 /H5/apps/_modules/ui/_modules/lazyload/lazyload.js
angular
	.module('seismic.ui')
	.directive("ngLazyLoad",['$window', '$document',
			function( $window, $document ) {
				// I manage all the images that are currently being
				// monitored on the page for lazy loading.
				var lazyLoader = (function() {

					// I maintain a list of images that lazy-loading
					// and have yet to be rendered.
					var images = [];

					// I define the render timer for the lazy loading
					// images to that the DOM-querying (for offsets)
					// is chunked in groups.
					var renderTimer = null;
					var renderDelay = 100;

					// I cache the window element as a jQuery reference.
					var win = $( $window );

					// I cache the document document height so that 
					// we can respond to changes in the height due to
					// dynamic content.
					var doc = $document;
					var documentHeight = doc.height();
					var documentTimer = null;
					var documentDelay = 2000;

					// I determine if the window dimension events 
					// (ie. resize, scroll) are currenlty being 
					// monitored for changes.
					var isWatchingWindow = false;
					// ---
					// PUBLIC METHODS.
					// ---
					// I start monitoring the given image for visibility
					// and then render it when necessary.
					function addImage( image ) {
						images.push( image );
						if ( ! renderTimer ) {
							startRenderTimer();
						}
						if ( ! isWatchingWindow ) {
							startWatchingWindow();
						}
					}
					// I remove the given image from the render queue.
					function removeImage( image ) {

						// Remove the given image from the render queue.
						for ( var i = 0 ; i < images.length ; i++ ) {

							if ( images[ i ] === image ) {

								images.splice( i, 1 );
								break;

							}

						}

						// If removing the given image has cleared the
						// render queue, then we can stop monitoring 
						// the window and the image queue.
						if ( ! images.length ) {
							clearRenderTimer();
							stopWatchingWindow();
						}
					}
					// I check the document height to see if it's changed.
					function checkDocumentHeight() {

						// If the render time is currently active, then 
						// don't bother getting the document height - 
						// it won't actually do anything.
						if ( renderTimer ) {
							return;
						}
						var currentDocumentHeight = doc.height();

						// If the height has not changed, then ignore - 
						// no more images could have come into view.
						/*if ( currentDocumentHeight === documentHeight ) {
							return;
						}*/
						// Cache the new document height.
						documentHeight = currentDocumentHeight;
						startRenderTimer();
					}


					// I check the lazy-load images that have yet to 
					// be rendered. 
					function checkImages() {
						// Log here so we can see how often this 
						// gets called during page activity.
						//console.log( "Checking for visible images..." );
						var visible = [];
						var hidden = [];
						// Determine the window dimensions.
						var windowHeight = win.height();
						var scrollTop = win.scrollTop();
						// Calculate the viewport offsets.
						var topFoldOffset = scrollTop;
						var bottomFoldOffset = ( topFoldOffset + windowHeight );

						// Query the DOM for layout and seperate the
						// images into two different categories: those
						// that are now in the viewport and those that
						// still remain hidden.
						for ( var i = 0 ; i < images.length ; i++ ) {
							var image = images[ i ];
							if ( image.isVisible( topFoldOffset, bottomFoldOffset ) ) {
								visible.push( image );
							} else {
								hidden.push( image );
							}
						}
						// Update the DOM with new image source values.
						for ( var i = 0 ; i < visible.length ; i++ ) {
							visible[ i ].render();
						}

						// Keep the still-hidden images as the new 
						// image queue to be monitored.
						images = hidden;
						// Clear the render timer so that it can be set
						// again in response to window changes.
						clearRenderTimer();
						// If we've rendered all the images, then stop
						// monitoring the window for changes.
						if ( ! images.length ) {
							stopWatchingWindow();
						}
					}


					// I clear the render timer so that we can easily 
					// check to see if the timer is running.
					function clearRenderTimer() {
						clearTimeout( renderTimer );
						renderTimer = null;
					}


					// I start the render time, allowing more images to
					// be added to the images queue before the render 
					// action is executed.
					function startRenderTimer() {
						renderTimer = setTimeout( checkImages, renderDelay );
					}


					// I start watching the window for changes in dimension.
					function startWatchingWindow() {
						isWatchingWindow = true;
						// Listen for window changes.
						win.on( "resize.ngLazyLoad", windowChanged );
						win.on( "scroll.ngLazyLoad", windowChanged );
						// Set up a timer to watch for document-height changes.
						documentTimer = setInterval( checkDocumentHeight, documentDelay );
					}


					// I stop watching the window for changes in dimension.
					function stopWatchingWindow() {
						isWatchingWindow = false;
						// Stop watching for window changes.
						win.off( "resize.ngLazyLoad" );
						win.off( "scroll.ngLazyLoad" );
						// Stop watching for document changes.
						clearInterval( documentTimer );
					}


					// I start the render time if the window changes.
					function windowChanged() {
						if ( ! renderTimer ) {
							startRenderTimer();
						}
					}

					// Return the public API.
					return({
						addImage: addImage,
						removeImage: removeImage
					});

				})();


				// ------------------------------------------ //
				// ------------------------------------------ //


				// I represent a single lazy-load image.
				function LazyImage( element ) {

					// I am the interpolated LAZY SRC attribute of 
					// the image as reported by AngularJS.					
					var source = null;

					// I determine if the image has already been 
					// rendered (ie, that it has been exposed to the
					// viewport and the source had been loaded).
					var isRendered = false;

					// I am the cached height of the element. We are 
					// going to assume that the image doesn't change 
					// height over time.
					var height = null;


					// ---
					// PUBLIC METHODS.
					// ---


					// I determine if the element is above the given 
					// fold of the page.
					function isVisible( topFoldOffset, bottomFoldOffset ) {

						// If the element is not visible because it 
						// is hidden, don't bother testing it.
						if ( ! element.is( ":visible" ) ) {

							return( false );

						}

						// If the height has not yet been calculated, 
						// the cache it for the duration of the page.
						if ( height === null ) {

							height = element.height();

						}

						// Update the dimensions of the element.
						var top = element.offset().top;
						var bottom = ( top + height );

						// Return true if the element is:
						// 1. The top offset is in view.
						// 2. The bottom offset is in view.
						// 3. The element is overlapping the viewport.
						return( 
								(
									( top <= bottomFoldOffset ) &&
									( top >= topFoldOffset )
								)
							||
								(
									( bottom <= bottomFoldOffset ) &&
									( bottom >= topFoldOffset )
								)
							||
								(
									( top <= topFoldOffset ) &&
									( bottom >= bottomFoldOffset )
								)
						);
						
					}


					// I move the cached source into the live source.
					function render() {
						isRendered = true;
						renderSource();
					}
					// I set the interpolated source value reported
					// by the directive / AngularJS.
					function setSource( newSource ) {
						source = newSource;
						if ( isRendered ) {
							renderSource();
						}
					}
					// ---
					// PRIVATE METHODS.
					// ---
					// I load the lazy source value into the actual 
					// source value of the image element.
					function renderSource() {
						element[ 0 ].src = source;
					}
					// Return the public API.
					return({
						isVisible: isVisible,
						render: render,
						setSource: setSource
					});
				}
				// ------------------------------------------ //
				// I bind the UI events to the scope.
				function link( $scope, element, attributes ) {
					var lazyImage = new LazyImage( element );
					// Start watching the image for changes in its
					// visibility.
					lazyLoader.addImage( lazyImage );
					// Since the lazy-src will likely need some sort
					// of string interpolation, we don't want to 
					attributes.$observe(
						"ngLazyLoad",
						function( newSource ) {
							lazyImage.setSource( newSource );
						}
					);

					// When the scope is destroyed, we need to remove
					// the image from the render queue.
					$scope.$on(
						"$destroy",
						function() {
							lazyLoader.removeImage( lazyImage );
						}
					);
				}

				// Return the directive configuration.
				return({
					link: link,
					restrict: "A"
				});

			}]
		);
///#source 1 1 /H5/apps/_modules/ui/_modules/lazyload/lazyloaddom.js
angular.module('seismic.ui')
    .directive('lazyLoadDom', ['$timeout', '$window', function ($timeout, $window) {
        return {
            restrict: 'A',
            link: function (scope, element, attrs) {
                $timeout(function () {
                    if (element.position().top < $(window).height() + $(window).scrollTop()) {
                        scope.item.IsShow = true;
                    }
                })
                angular.element(".lazyloaddom").on('scroll', function () {
                    if (element.position().top < $(window).height() + $(window).scrollTop() && (element.position().top + 400) > $(window).scrollTop()) {
                        if (!scope.item.IsShow) {
                            scope.item.IsShow = true;
                            $timeout(function () {
                                scope.$apply();
                            })
                        }
                        //
                    }
                    else {
                        if (scope.item.IsShow) {
                            scope.item.IsShow = false;
                            $timeout(function () {
                                scope.$apply();
                            })
                        }
                    }
                });
            }
        };
    }]);
///#source 1 1 /H5/apps/_modules/ui/_modules/modals/ui.modal.js
(function() {

    angular
        .module('seismic.ui')
        .constant('modalServicePath', '/H5/apps/_modules/ui/_modules/modals')
        .service('modalService', modalService);

    modalService.$inject = ['$rootScope', '$modal', 'ngDialog', 'modalServicePath'];

    function modalService($rootScope, $modal, ngDialog, modalServicePath) {

        var modalDefaults = {
            templateUrl: '',
            size: 'lg'
        };

        var modalOptions = {

        };
        /*this.showFileDetail = function(modalDefaults, modalOptions) {
            var scope = $rootScope.$new();
            scope.data = modalDefaults;
            return $modal.open({
                templateUrl: 'apps/_modules/ui/_modules/modals/filedetail/filedetail.html',
                controller: 'fileDetailModal',
                scope: scope
                //resolve: {
                //    modalInstance: function (){
                //        console.log($modalInstance);
                //        return $modalInstance;
                //    }
                //    modalType: function() {
                //        return modalType;
                //    }
            }).result;
        };*/


        this.alert = function(message) {
            if($(".dc-alert").length>0&&$(".dc-alert .message").text()==message){
                return;
            }
            var okText = arguments[1] ? arguments[1] : "OK";
            var title = arguments[2] ? arguments[2] : "Information";
            return ngDialog.open({
                scope: angular.extend($rootScope.$new(), {
                    title: title,
                    message: message,
                    okText: okText
                }),
                template: modalServicePath + '/message.html'
            });
        };
        this.confirm = function (message) {
            var yesText = arguments[1] ? arguments[1] : "Yes";
            var noText = arguments[2] ? arguments[2] : "No";
            var title = arguments[3] ? arguments[3] : "Confirmation";
            return ngDialog.openConfirm({
                scope: angular.extend($rootScope.$new(), {
                    title: title,
                    message: message,
                    yesText: yesText,
                    noText: noText
                }),
                template: modalServicePath + '/confirm.html'
            });
        }
    }
})();
///#source 1 1 /H5/apps/_modules/ui/_modules/loading/loading.js
angular
	.module('seismic.ui')
	.directive('loading', loading);


function loading() {
	var directive = {
		restrict: 'AE',
		//scope: {
		//	showWhen:'='
		//},
		replace: true,
		template: '<div class="loader"><div class="spinner"></div></div>',
		link: function(scope, element, attributes) {
			//		console.log('this is directive');
			//		console.log(attributes);
			//		console.log(scope.showWhen);
		}
	};
	return directive;
};
///#source 1 1 /H5/apps/_modules/ui/_modules/pdfviewer/pdfViewer.js
angular
	.module('seismic.ui')
	.directive('pdfViewer', function() {
		var directive = {
			restrict: 'AC',
			template: '<iframe src="{{pdfViewerSrc}}" frameborder="0"></iframe>'
		};

		return directive;
	});
///#source 1 1 /H5/apps/_modules/translate/translate.js
(function () {
    'use strict';

    angular.module('seismic.translate', ['pascalprecht.translate'])
        .constant('translatePath', "apps/_modules/translate")

	.config(['translatePath', '$translateProvider', '$translatePartialLoaderProvider',function (translatePath, $translateProvider, $translatePartialLoaderProvider) {
	    $translateProvider.useLoader('$translatePartialLoader', {
	        urlTemplate: translatePath + '/tran.{lang}.json?version='+langJsonVersion
	    });
	    $translateProvider.preferredLanguage('en-US');
	}])

})();
///#source 1 1 /H5/apps/_modules/onepagelayout/onepagelayout.js
(function () {
    angular
        .module('seismic.onepagelayout', ['seismic.ui'])
        .constant('onepagelayoutPath', "/h5/apps/_modules/onepagelayout")
        .directive('seismicOnePageLayout', seismicOnePageLayout)
        .controller('Shell', Shell);

    seismicOnePageLayout.$inject = ['onepagelayoutPath'];
    function seismicOnePageLayout(onepagelayoutPath) {
        var directive = {
            restrict: 'E',
            transclude: true,
            scope: {

            },
            templateUrl: onepagelayoutPath + "/onepagelayout.html?v=" + onePageLayoutVersion
        };

        return directive;
    }

    Shell.$inject = ['$rootScope', '$scope', '$timeout', '$log', '$translate', '$translatePartialLoader', 'globalBusy', 'modalService', 'toastr']
    function Shell($rootScope, $scope, $timeout, $log, $translate, $translatePartialLoader, globalBusy, modalService, toastr) {
        this.busyModel = globalBusy;

        var me = this;
        this.languagestate = "en-US";
        this.showSplash = true;
        this.switchLanguage = _switchLanguage;

        $translatePartialLoader.addPart('en');
        $translate.refresh();

        function _switchLanguage(lan) {
            //console.log(lan);
            me.languagestate = lan;
            $translate.use(lan);
        }

        /*$scope.error = function() {
            toastr.error('Your credentials are gone', 'Error');
        }
        $scope.info = function() {
            toastr.info('We are opened today from 10 to 22', 'Information');
        };
        $scope.success = function() {
            toastr.success('We are opened today from 10 to 22', 'Information');
        };
        $scope.warning = function() {
            toastr.warning('We are opened today from 10 to 22', 'Information');
        };
        $scope.successWithoutTitle = function() {
            toastr.success('It is ok');
        };*/
        $scope.alert = function (message) {
            var message = "Hello";
            modalService.alert(message, 'OK').closePromise.then(function (data) {
                //console.log('ngDialog closed' + (data.value === 1 ? ' using the button' : '') + ' and notified by promise: ' + data.id);
            });
        };
        $scope.confirm = function (message) {
            var message = "Do you want to do this?";
            modalService.confirm(message, 'No', 'Yes').then(function (value) {
                //console.log('resolved:' + value);
            }, function (value) {
                //console.log('rejected:' + value);

            });
        }
    }
})();
///#source 1 1 /H5/apps/_modules/core/core.js
(function () {
    'use strict';
    angular
        .module('seismic.core', [
            // Angular Modules
            'ngResource',
            'toastr',
            'ngDialog',
            'angular-ladda',
            'ui.bootstrap',
            'ui.router',
            'pascalprecht.translate',
            // custom libraries
            'seismic.translate',
            //'seismic.cache',
            'seismic.ui',
            'seismic.service'
        ])
        .constant("isMobile", _isMobile());

    function _isMobile() {
        var ua = navigator.userAgent;
        if (/(iphone|ios|android|mini|mobile|mobi|Nokia|Symbian|iPod|iPad|Windows\s+Phone|MQQBrowser|wp7|wp8|UCBrowser7|UCWEB|360\s+Aphone\s+Browser)/i.test(ua)) {
            return true;
        }
        return false;
    }
})();
///#source 1 1 /H5/apps/_modules/core/httpInterceptor.js
angular.module('seismic.core')
    .factory('httpInterceptor', ['$rootScope', '$q',
        function ($rootScope, $q) {
            return {
                'request': function (config) {
                    //console.log("request");

                    if (config.data && !angular.isObject(config.data)) {
                        var orignalData = config.data;
                        config.data = JSON.stringify(config.data);
                        console.log('Seismic > To post data: ', orignalData, ', convert to: ', config.data);
                    }

                    return config || $q.when(config);
                },
                'requestError': function (rejection) {
                    // console.log('requestError:' + rejection);
                    console.log("error");

                    return rejection;
                },
                //success -> don't intercept
                'response': function (response) {
                    //console.log(response);
                    // console.log('response:' + response);
                    if(response&&response.data&&response.data.Error!=null){
                        globalErrorHandler(response.data.Error);
                    }
                    return response || $q.when(response);
                },
                //error -> if 401 save the request and broadcast an event
                'responseError': function (response) {
                    //console.log('responseError:' + response);
                    /*if (response.status === 401) {
                        var deferred = $q.defer(),
                            req = {
                                config: response.config,
                                deferred: deferred
                            };
                        $rootScope.requests401.push(req);
                        //console.log(response);
                        //$rootScope.$broadcast('event:loginRequired');
                        return deferred.promise;
                    }
                    var err;
                    try {
                        err = JSON.parse(response.responseText);
                    } catch (ex) {
                        err = { Error: { ErrorCode: NuPitchRequestErrorCode.GET_NOTHING_FROM_SERVER, Message: "There is unknown error from server." } }
                    }
                    globalErrorHandler(err);*/
                    return $q.reject(response);
                }

            };

            function globalErrorHandler(error) {
                if (error) {
                    if (error.ErrorCode == -1005) {
                        //$App.rootVm.handleRequestExpired(error.Message);
                        return true;
                    } else if (error.ErrorCode == -1004 || error.ErrorCode == -1082 || error.ErrorCode == -1084) {
                        //$App.rootVm.handleSessionTimeout("Your session has timed out.");
                        //gotoLogin();
                        return false;
                    } else if (error.ErrorCode == -1000) {
                        //showMessage(error.Message);
                        return false;
                    } else if (error.ErrorCode == NuPitchRequestErrorCode.GET_NOTHING_FROM_SERVER) {
                        //return true;
                    }
                }
            }
            function gotoLogin(){
                var path = window.location.href.toLowerCase();
                path=path.substr(path.indexOf("/h5/"),path.length-path.indexOf("/h5/"));
                //console.log(path);
                path=encodeURIComponent(path);
                window.location.href="/Logon.aspx?ReturnUrl="+path;
            }
        }
    ]);
///#source 1 1 /H5/apps/_modules/core/apphelper.js
(function () {
    'use strict';
    angular
        .module('seismic.core')
        .factory('appHelper', function () {
            return {
                getAccountConfigByKey: _getAccountConfigByKey,
                getGoogleConfigByKey: _getGoogleConfigByKey
            }
        });

    function _getAccountConfigByKey(configKey, configs) {
        if (!configs) {
            configs = $App.ApplicationInfo.AccountConfiguration;
        }

        for (var i = 0; i < configs.length; i++) {
            if (configs[i].Key == configKey) {
                return configs[i].Value;
            }
        }

        return null;
    };
    function _getGoogleConfigByKey(configKey, configs) {
        if (!configs) {
            configs = $App.ApplicationInfo.GoogleOAuthDefaultSetting;
        }

        for (var i = 0; i < configs.length; i++) {
            if (configs[i].Key == configKey) {
                return configs[i].Value;
            }
        }

        return null;
    };
})();
///#source 1 1 /H5/apps/_modules/apihelper/service.helper.js
(function () {
    angular
        .module('seismic.service')
        .factory('serviceHelper', ['$rootScope', '$state', '$http', '$q', 'modalService', 'exDialog', 'credentialsService', '$window',
            function ($rootScope, $state, $http, $q, modalService, exDialog, credentialsService, $window) {
                var _dialog = null;
                var factory = {
                    baseHttp: baseHttp,
                    afterLogin: _afterLogin,
                    closeDialog: _closeDialog,
                    actionList: []
                };
                return factory;

                function baseHttp(url, headers, verb, data, funPointer, args) {
                    var defer = $q.defer();
                    if (verb.toLowerCase() == "get") {
                        $http.get(url, {
                            headers: headers
                        }).then(function (response) {
                            if ((response.data.Error != null)) {
                                var error = response.data.Error;
                                globalErrorHandler(error, funPointer, args, defer);
                            } else {
                                defer.resolve(response.data.ServiceResult);
                            }
                        }, function error(data) {
                            //console.log("Load time out");
                            var error = {
                                Message:"Loading time too long"                                
                            };
                            globalErrorHandler(error, funPointer, args, defer);
                        });
                    }
                    else {
                        data = data == undefined ? {} : data;
                        $http.post(url, data, {
                            headers: headers
                        }).then(function (response) {
                            if ((response.data.Error != null)) {
                                var error = response.data.Error;
                                globalErrorHandler(error, funPointer, args, defer);
                            } else {
                                defer.resolve(response.data.ServiceResult);
                            }
                        }, function () {
                            //console.log("Load time out");
                            var error = {
                                Message:"Loading time too long"                                
                            };
                            globalErrorHandler(error, funPointer, args, defer);
                        });
                    }
                    return defer.promise;
                }

                function globalErrorHandler(error, funPointer, args, deferArg) {
                    if (error) {
                        if (error.ErrorCode == -1005) {
                            if (funPointer) return funPointer.apply(args);
                        } else if (error.ErrorCode == -1004 || error.ErrorCode == -1082 || error.ErrorCode == -1084) {
                            _handleSessionTimeout(funPointer, args).then(function (response) {
                                deferArg.resolve(response);
                            }, function (error) {
                                unKnowErrorHandler(error, deferArg);
                                //deferArg.reject(error);
                            });
                        } else if (error.ErrorCode == -1000) {
                            unKnowErrorHandler(error, deferArg);
                        } else if (error.ErrorCode == NuPitchRequestErrorCode.GET_NOTHING_FROM_SERVER) {
                            unKnowErrorHandler(error, deferArg);
                        } else if (error.ErrorCode == -1090) {     //request twice
                            deferArg.resolve(null);
                        } else {
                            unKnowErrorHandler(error, deferArg);
                        }
                    } else {
                        var errorInfo = {
                            Message: "UNKNOWN ERROR"
                        }
                        unKnowErrorHandler(errorInfo, deferArg);
                    }
                }

                function unKnowErrorHandler(error, deferArg) {
                    modalService.alert(error.Message, 'OK');
                    deferArg.reject(error);
                }


                function _afterLogin(result) {
                    if (factory.actionList.length > 0) {
                        factory.actionList.forEach(function (fuFunc) {
                            fuFunc.mothod.apply(null, fuFunc.argument).then(function (response) {
                                fuFunc.defer.resolve(response);
                            })
                        }, this);
                        factory.actionList = [];
                    };
                }

                var _defer = null;
                function _handleSessionTimeout(func, args) {
                    _defer = $q.defer();
                    factory.actionList.push({
                        mothod: func,
                        argument: args,
                        defer: _defer,
                    });
                    if (factory.actionList.length > 1) {
                        return _defer.promise;
                    }
                    _getCredentail(CREDENTAILS_TYPE.SESSION).then(function (sessionCredentailsResult) {
                        if (sessionCredentailsResult.Error) {
                            if ($App.loginInfo.rememberMeToken != "") {
                                _getCredentail(CREDENTAILS_TYPE.REMEMBER_ME_TOKEN).then(function (rememberMeCredentailsResult) {
                                    if (rememberMeCredentailsResult.Error != null) {
                                        _checkIsSSO();
                                    }
                                    else {
                                        _initCredentialsInfo(rememberMeCredentailsResult);
                                    }
                                }, function (error) {
                                    _defer.reject(error);
                                })
                            } else {
                                _checkIsSSO();
                            }
                        }
                        else {
                            _initCredentialsInfo(sessionCredentailsResult);
                        }
                    }, function (error) {
                        _defer.reject(error);
                    })
                    return _defer.promise;
                }
                function _checkIsSSO() {
                    credentialsService.getIsSSO().then(function (isSSO) {
                        if (isSSO.ServiceResult) {
                            _openSSODialog();
                        } else {
                            _openLoginDialog();
                        }
                    })
                }
                function _initCredentialsInfo(credentailsResult) {
                    credentialsService.initCredentials(credentailsResult);
                    _afterLogin();
                }

                function _openSSODialog() {
                    var loginInfo = $App.loginInfo;
                    if (!loginInfo.accessKey || loginInfo.accessKey.length == 0 ||
                        !loginInfo.clientInfo.sharepointAccessKey || loginInfo.clientInfo.sharepointAccessKey.length == 0) {
                        _openLoginDialog(true);
                        /*var url = SSO_LOGIN_URL + "?Client=" + $App.loginInfo.clientType + "&Remember=0&State=Inside";
                        $window.onLogonSuccess = function () {
                            var oldUseName = $App.loginInfo.username;
                            _getCredentail(CREDENTAILS_TYPE.SESSION).then(function (sessionCredentailsResult) {
                                if (oldUseName == sessionCredentailsResult.ServiceResult.UserName) {
                                    _initCredentialsInfo(sessionCredentailsResult);
                                }
                                else {
                                    $state.go("doccenter", {}, { reload: true });
                                    return;
                                }
                            });
                        }
                        window.open(url, "_blank", 'height=768, width=1024, top=100, left=300, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');*/
                    }
                    else {
                        _openLoginDialog(false);
                    }
                }
                function _openLoginDialog(isSSO) {
                    var scope = $rootScope.$new();
                    scope.isSSO = isSSO;
                    _dialog = exDialog.openPrime({
                        scope: scope,
                        template: '/h5/apps/_modules/apihelper/login.html',
                        controller: 'PrimeLoginController',
                        width: '500px',
                        height: '250px',
                        keepOpenForAction: true,
                        closeByClickOutside: false,
                        draggable: true
                    })
                }
                function _getCredentail(credentails_type) {
                    return credentialsService.getCredentials(credentails_type).then(function (credentailData) {
                        if (credentailData.Error == null && credentailData.ServiceResult != null) {
                            credentialsService.initCredentials(credentailData);
                        }
                        return credentailData;
                    })
                }
                function _closeDialog() {
                    _dialog.close();
                };
            }])
        .controller('PrimeLoginController', PrimeLoginController);

    PrimeLoginController.$inject = ['$rootScope', '$scope', '$q', '$timeout', '$translate', '$window', 'serviceHelper', 'credentialsService'];
    function PrimeLoginController($rootScope, $scope, $q, $timeout, $translate, $window, serviceHelper, credentialsService) {
        $scope.model = { UserName: $App.loginInfo.username, Password: "", ErrorMessage: "", LoginModel: false, SSOLoginModel: false };
        //$scope.model.SSOLoginModel = false;
        $scope.keyEnter = function (event) {
            if (event.keyCode == 13) {
                $scope.loginAction();
            }
        };
        $scope.setDrag = function (flag) {
            $rootScope.noDrag = flag;
        };
        $scope.isRememberMe = false;
        $scope.model = { UserName: $App.loginInfo.username, Password: "", ErrorMessage: "", LoginModel: false };
        $scope.loginAction = function () {
            $scope.model.ErrorMessage = "";
            if (!$scope.model.LoginModel) {
                _getCredentail(CREDENTAILS_TYPE.SESSION).then(function (sessionCredentailsResult) {
                    if (sessionCredentailsResult.Error) {
                        if ($scope.isSSO) {
                            $scope.model.SSOLoginModel = true;
                            _openSSODialog();
                        } else {
                            $scope.model.Password = "";
                            $scope.model.LoginModel = true;
                        }
                    } else {
                        serviceHelper.closeDialog();
                        serviceHelper.afterLogin();
                    }
                });
            } else {
                var keyExpairTime = $scope.isRememberMe ? KEY_EXPAIR_TIME : -1;
                credentialsService.getCredentailLogin($scope.model.Password, keyExpairTime).then(function (credentailData) {
                    if (credentailData.Error || credentailData.ServiceResult == null) {
                        $scope.ErrorMessage = "UserName or Password is error";
                        //$scope.model.LoginModel = false;
                    } else {
                        //$scope.model.LoginModel = true;
                        //console.log("initCredentials");
                        credentialsService.initCredentials(credentailData);
                        serviceHelper.closeDialog();
                        serviceHelper.afterLogin();
                    }
                });
            }

        };
        $scope.checkSSO = function () {
            //console.log("ddd");
            ssoLoginCallback();
        };
        function _getCredentail(credentails_type) {
            return credentialsService.getCredentials(credentails_type).then(function (credentailData) {
                if (credentailData.Error == null && credentailData.ServiceResult != null) {
                    credentialsService.initCredentials(credentailData);
                }
                return credentailData;
            })
        }
        function ssoLoginCallback() {
            var oldUseName = $App.loginInfo.username;
            _getCredentail(CREDENTAILS_TYPE.SESSION).then(function (sessionCredentailsResult) {
                if (sessionCredentailsResult.ServiceResult == null && sessionCredentailsResult.Error) {
                    credentialsService.getIsSSO().then(function (isSSO) {
                        if (isSSO.ServiceResult) {
                            _openSSODialog();
                        } else {
                            $scope.model.LoginModel = false;
                            $scope.SSOLoginModel = false;
                        }
                    })
                }
                else if (oldUseName == sessionCredentailsResult.ServiceResult.UserName) {
                    //_initCredentialsInfo(sessionCredentailsResult);
                    credentialsService.initCredentials(sessionCredentailsResult);
                    serviceHelper.closeDialog();
                    serviceHelper.afterLogin();
                }
                else {
                    $state.go("doccenter", {}, { reload: true });
                    return;
                }
            });
        };
        function _openSSODialog() {
            var url = SSO_LOGIN_URL + "?Client=" + $App.loginInfo.clientType + "&Remember=0&State=Inside";
            $window.onLogonSuccess = ssoLoginCallback;
            window.open(url, "_blank", 'height=768, width=1024, top=100, left=300, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
        }
        $scope.cancelAction = function () {
            $scope.model.LoginModel = false;
        }
    }
})();
///#source 1 1 /h5/apps/doccenter/_modules/contactsearcher/contactsearcher.js
(function () {
    'use strict';

    angular
        .module('seismic.doccenter.contactSearcher', [
            'seismic.core'
        ])
        .constant('contactSearcherPath', '/H5/apps/doccenter/_modules/contactsearcher');
})();
///#source 1 1 /h5/apps/doccenter/_modules/contactsearcher/contactsearcher.business.js
(function () {
    'use strict';

    var PAGE_SIZE = 200;
    angular.module('seismic.doccenter.contactSearcher')
        .factory('contactSearcherBusiness', [
            '$q',
            '$cacheFactory',
            'SEARCH_SOURCE',
            'distributionService',

            function ($q, $cacheFactory, SEARCH_SOURCE, distributionService) {
                var seismicContactsCacheInitedKey = "AllSeismicContactsInited";
                var seismicContactsCacheKey = "AllSeismicContacts";
                var seismicContactsCache = $cacheFactory('SeismicContacts');

                var salesforceContactsCacheKey = "SalesforceContactsKey";
                var salesforceContactsCache = $cacheFactory('SalesforceContacts');

                var factory = {
                    getSeismicContacts: _getSeismicContacts,
                    getSalesforceContacts: _getSalesforceContacts,
                    isEnable: _isEnable
                };

                return factory;

                function _isEnable(type) {
                    switch (type) {
                        case SEARCH_SOURCE.SEISMIC:
                            return true;
                        case SEARCH_SOURCE.SALESFORCE:
                            return window.isCurrentInSalesforce || ($App.ApplicationInfo.UserExternalMappings && $App.ApplicationInfo.UserExternalMappings.length > 0);
                        case SEARCH_SOURCE.LOCAL:
                            return false;
                        default:
                            return false;
                    }
                }

                function _getSeismicContacts(keywords) {
                    return _getAllSeismicContacts()
                            .then(function (result) {
                                if (!keywords) {
                                    return result;
                                }

                                var newResult = [];
                                (result || []).forEach(function (v) {
                                    if (v.Email.indexOf(keywords) > -1 || v.Name.indexOf(keywords) > -1) {
                                        newResult.push(v);
                                    }
                                });

                                return newResult;
                            });
                }

                function _getAllSeismicContacts() {
                    if (seismicContactsCache.get(seismicContactsCacheInitedKey)) {
                        return $q.when(seismicContactsCache.get(seismicContactsCacheKey));
                    }

                    return distributionService
                        .getContacts()
                        .then(function (result) {
                            seismicContactsCache.put(seismicContactsCacheKey, result);
                            seismicContactsCache.put(seismicContactsCacheInitedKey, true);
                            return result;
                        });
                }

                function _isHaveMore(cache, mapping) {
                    if (!cache) return true;

                    var _found = null;
                    cache.hasMoreContactList.forEach(function (v) {
                        if (v.id == mapping.SalesforceOrganizationId) {
                            _found = v;
                        }
                    });

                    return !_found || _found.value;
                }

                function _buildList(results, cache) {
                    var list = [];
                    for (var i = 0; i < results.length; i++) {
                        list = list.concat(results[i]);
                    }

                    list = list.sort(function (a, b) {
                        return a.Name > b.Name ? 1 : (a.Name == b.Name ? 0 : -1);
                    });

                    list = ((cache && cache.list) || []).concat(list);

                    return list;
                }

                function _isAnyHaveMore(hasMoreContactList) {
                    var hasMoreContact = false;
                    (hasMoreContactList || []).forEach(function (v) {
                        if (v.value) {
                            hasMoreContact = true;
                        }
                    });

                    return hasMoreContact;
                }

                function _getSalesforceContacts(keyWords, isLoadMore) {
                    var lastSalesforceContactsCacheIndexKey = salesforceContactsCacheKey + ":" + keyWords + ":index";
                    var pageIndex = salesforceContactsCache.get(lastSalesforceContactsCacheIndexKey) || 0;
                    var lastSalesforceContactsCacheKey = salesforceContactsCacheKey + ":" + keyWords + ":" + (pageIndex - 1);
                    var cache = salesforceContactsCache.get(lastSalesforceContactsCacheKey);
                    if (!isLoadMore && cache) {
                        return $q.when({
                            list: cache.list,
                            hasMoreContact: _isAnyHaveMore(cache.hasMoreContactList)
                        });
                    }

                    var jobs = [];
                    var hasMoreContactList = [];
                    if (window.isCurrentInSalesforce) {
                        jobs.push(_getCurrentSalesforceContacts(keyWords, pageIndex));
                        hasMoreContactList.push({
                            id: "_currentSalesforceFakeId",
                            value: false
                        });
                    } else {
                        var mappings = _getSalesforceExternalMappings();
                        for (var i = 0; i < mappings.length; i++) {
                            if (!_isHaveMore(cache, mappings[i])) {
                                continue;
                            }

                            jobs.push(_getSalesforceContactsByOrgId(mappings[i].SalesforceOrganizationId, keyWords, pageIndex));

                            hasMoreContactList.push({
                                id: mappings[i].SalesforceOrganizationId,
                                value: false
                            });
                        }
                    }

                    return $q.all(jobs)
                        .then(function (results) {
                            for (var i = 0; i < results.length; i++) {
                                hasMoreContactList[i].value = results[i] && results[i].length >= PAGE_SIZE;
                            }

                            var list = _buildList(results, cache);

                            salesforceContactsCache.put(lastSalesforceContactsCacheIndexKey, pageIndex + 1);
                            var thisSalesforceContactsCacheKey = salesforceContactsCacheKey + ":" + keyWords + ":" + pageIndex;
                            salesforceContactsCache.put(thisSalesforceContactsCacheKey, {
                                list: list,
                                hasMoreContactList: hasMoreContactList
                            });

                            return {
                                list: list,
                                hasMoreContact: _isAnyHaveMore(hasMoreContactList)
                            };
                        });
                }

                function _getSalesforceContactsByOrgId(organizationId, keyWords, pageIndex) {
                    return distributionService.getSalesforceOrganizationContacts(organizationId, keyWords, PAGE_SIZE, pageIndex);
                }

                function _getCurrentSalesforceContacts(keyWords, pageIndex) {
                    return distributionService.getCurrentSalesforceContacts(keyWords, PAGE_SIZE, pageIndex);
                }

                function _getSalesforceExternalMappings() {
                    var result = [];
                    ($App.ApplicationInfo.UserExternalMappings || []).forEach(function (v) {
                        if (ExternalSystemTypes.SalesforceCOM == v.SystemType) {
                            result.push(v);
                        }
                    });

                    return result;
                }
            }
        ]);
})();
///#source 1 1 /h5/apps/doccenter/_modules/contactsearcher/contactsearcher.controller.js
(function () {
    'use strict';

    angular
        .module('seismic.doccenter.contactSearcher')
        .constant('SEARCH_SOURCE', {
            SEISMIC: 'SEISMIC',
            SALESFORCE: 'SALESFORCE',
            LOCAL: 'LOCAL'
        })
        .controller('contactSearcherButtonController', [
            '$scope',
            'contactSearcherBusiness',
            'localBusy',
            'contactSearcherPath',
            'exDialog',

			_contactSearcherButtonController
        ])
        .controller('contactSearcherController', [
            '$scope',
            '$filter',
            'SEARCH_SOURCE',
            'contactSearcherBusiness',
            'localBusy',

			_contactSearcherController
        ]);

    function _contactSearcherButtonController($scope, contactSearcherBusiness, localBusy, contactSearcherPath, exDialog) {
        $scope.searchButtonUrl = commonApiHelper.getIconUrl("Search.png", $App.orignalGlobalTint.HighlightForeground.replace('#', ''));
        var _dialog = null;

        $scope.openSearcher = function () {
            var child = $scope.$new();
            _dialog = exDialog.openPrime({
                scope: child,
                template: contactSearcherPath + '/contactsearcher.html',
                controller: 'contactSearcherController',
                closeByClickOutside: false,
                width: '750px',
                height: '450px',
                animation: false
            });

            _dialog.closePromise.then(function () {
                _dialog = null;
            });
        };

        $scope.closeDialog = function () {
            _dialog.close();
        }
    }

    function _contactSearcherController($scope, $filter, SEARCH_SOURCE, contactSearcherBusiness, localBusy) {
        $scope.busyModel = localBusy.create();
        $scope.searchButtonUrl = commonApiHelper.getIconUrl("Search.png", $App.orignalGlobalTint.HighlightForeground.replace('#', ''));

        $scope.enableState = {};
        $scope.enableState[SEARCH_SOURCE.SEISMIC] = contactSearcherBusiness.isEnable(SEARCH_SOURCE.SEISMIC);
        $scope.enableState[SEARCH_SOURCE.SALESFORCE] = contactSearcherBusiness.isEnable(SEARCH_SOURCE.SALESFORCE);
        $scope.enableState[SEARCH_SOURCE.LOCAL] = contactSearcherBusiness.isEnable(SEARCH_SOURCE.LOCAL);

        $scope.searchFrom = { type: SEARCH_SOURCE.SEISMIC };

        $scope.isSelectedAll = false;

        $scope.searchKey = "";
        $scope.hasMoreContact = false;

        var _isSelectedAllChanging = false;
        $scope.onSelectedAllChanged = function () {
            _isSelectedAllChanging = true;

            for (var i = 0; i < $scope.contacts.length; i++) {
                $scope.contacts[i].isSelected = $scope.isSelectedAll;
            }

            _isSelectedAllChanging = false;
        };

        $scope.onSelectChanged = function () {
            if (_isSelectedAllChanging) return;

            $scope.isSelectedAll = _checkIsSelectedAll();
        };

        function _checkIsSelectedAll() {
            for (var i = 0; i < $scope.contacts.length; i++) {
                if (!$scope.contacts[i].isSelected) {
                    return false;
                }
            }

            return true;
        }

        $scope.keypressHandler = function (evt) {
            if (evt.keyCode == 13) {
                $scope.search();
            }
        };

        $scope.switchDataset = _buildContactList;
        $scope.search = _buildContactList;

        function _buildContactList() {
            switch ($scope.searchFrom.type) {
                case SEARCH_SOURCE.SEISMIC:
                    _buildContactListForSeismic();
                    break;
                case SEARCH_SOURCE.SALESFORCE:
                    _buildContactListForSalesforce();
                    break;
                case SEARCH_SOURCE.LOCAL:
                    break;
                default: break;
            }
        };

        $scope.showMore = function () {
            switch ($scope.searchFrom.type) {
                case SEARCH_SOURCE.SALESFORCE:
                    _loadNextPageForSalesforce();
                case SEARCH_SOURCE.SEISMIC:
                case SEARCH_SOURCE.LOCAL:
                default:
                    return;
            }
        };

        function _loadNextPageForSalesforce() {
            _buildContactListForSalesforce(true);
        }

        function _buildContactListForSeismic() {
            $scope.busyModel.setBusy("Loading...");
            contactSearcherBusiness
                .getSeismicContacts($scope.searchKey)
                .then(function (list) {
                    $scope.contacts = list;
                    $scope.isSelectedAll = _checkIsSelectedAll();
                    $scope.busyModel.removeBusy();
                });
        };

        function _buildContactListForSalesforce(isLoadMore) {
            $scope.busyModel.setBusy("Loading...");
            contactSearcherBusiness
                .getSalesforceContacts($scope.searchKey, isLoadMore)
                .then(function (result) {
                    $scope.contacts = result.list;
                    $scope.isSelectedAll = _checkIsSelectedAll();
                    $scope.hasMoreContact = result.hasMoreContact;
                    $scope.busyModel.removeBusy();
                });
        };

        $scope.submit = function () {
            var selectedContacts = [];

            $scope.contacts.forEach(function (v) {
                if (v.isSelected && v.Email) {
                    selectedContacts.push(v.Email + "; ");
                }
            });

            var emails = selectedContacts.join("");

            if (angular.isFunction($scope.options.appender)) {
                $scope.options.appender(emails);
            }

            $scope.closeDialog();
        };

        $scope.cancel = function () {
            $scope.closeDialog();
        };

        $scope.contacts = [];

        function _initialize() {
            $scope.busyModel.setBusy("Loading...");
            contactSearcherBusiness
                .getSeismicContacts()
                .then(function (result) {
                    result.forEach(function (v) {
                        v.isSelected = false;
                    });

                    $scope.contacts = result;
                    $scope.isSelectedAll = false;
                    $scope.busyModel.removeBusy();
                });
        }

        _initialize();
    };
})();
///#source 1 1 /h5/apps/doccenter/_modules/contactsearcher/contactsearcher.directive.js
(function () {
    'use strict';

    angular
        .module('seismic.doccenter.contactSearcher')
        .directive('contactSearcherButton', [
            'contactSearcherPath',

            _contactSearcherButton
        ]);

    function _contactSearcherButton(contactSearcherPath) {
        return {
            restrict: 'E',
            replace: true,
            templateUrl: contactSearcherPath + "/contactpickerbutton.html",
            controller: "contactSearcherButtonController",
            scope: {
                options: "="
            }
        };
    }
})();
///#source 1 1 /h5/apps/doccenter/_modules/contactsearcher/contactsearcher.model.js
(function () {
    'use strict';

    angular.module('seismic.doccenter.contactSearcher')
        .factory('contactSearcherModel', [
            '$filter',
            function ($filter) {
                var factory = {
                };

                return factory;

            }
        ]);
})();
///#source 1 1 /h5/apps/doccenter/_modules/commonform/_distributionpreview/_previewreorder/previewreorder.js
(function () {
    'use strict';

    angular
        .module('seismic.doccenter.commonform.distributionpreview.previewreorder', [
            'seismic.core'
        ])
        .constant("previewreorderPath", "/H5/apps/doccenter/_modules/commonform/_distributionpreview/_previewreorder")
        .factory("previewReorderFactory", _previewReorderFactory);

    _previewReorderFactory.$inject = ['$q', '$translate', 'previewreorderPath', 'exDialog', 'modalService'];
    function _previewReorderFactory($q, $translate, previewreorderPath, exDialog, modalService) {
        var _dialog = null;
        var factory = {
            showDialog: _showDialog,
            afterEdit: createCallback(),
            onSave: createCallback(),
            onCancel: createCallback(),
            isDirty: createCallback(),
            close: _close,
            afterSave: createCallback()
        };

        return factory;

        function _close(pages) {
            _dialog.close();
        };

        function _showDialog(scope) {
            _dialog = exDialog.openPrime({
                scope: scope,
                template: previewreorderPath + '/previewreorder.html',
                controller: 'previewReorderController',
                closeByClickOutside: false,
                width: '80%',
                height: '80%',
                animation: false,
                beforeCloseCallback: _beforeCloseCallback
            });

            function _beforeCloseCallback() {
                return $q(function (resolve, reject) {
                    if (factory.isDirty.exec()) {
                        _confirmToCancel(resolve, reject);
                    } else {
                        resolve();
                    }
                });
            }

            function _confirmToCancel(close, keep) {
                modalService
                    .confirm($translate.instant('Form_Preview_reorder_Dialog_Confirm_Save_Changes'), 'Save', 'Discard')
                    .then(function (value) {
                        factory.onSave.exec();
                        close();
                    }, function (value) {
                        factory.onCancel.exec();
                        close();
                    });
            }

            _dialog.closePromise.then(function () {
                _dialog = null;
            });
        };
    }
})();
///#source 1 1 /h5/apps/doccenter/_modules/commonform/_distributionpreview/_previewreorder/previewreorder.business.js
(function () {
    'use strict';

    angular
        .module('seismic.doccenter.commonform.distributionpreview.previewreorder')
        .factory('previewReorderBusiness', previewReorderBusiness);

    previewReorderBusiness.$inject = ['$q', '$interval', '$filter', '$translate', 'modalService', 'previewReorderFactory'];
    function previewReorderBusiness($q, $interval, $filter, $translate, modalService, previewReorderFactory) {
        var reorderOrignalPages = [];
        var scope = null;

        var EditCommand = null;

        previewReorderFactory.onCancel(_onCancel);
        previewReorderFactory.onSave(_onSave);
        previewReorderFactory.isDirty(_isDirty);

        return {
            initialize: _initialize,
            moveToPrev: _moveToPrev,
            moveToNext: _moveToNext,
            remove: _remove,
            undo: _undo,
            redo: _redo,
            reset: _reset,
            selectPage: _selectPage,
            save: _save
        };

        function _canMoveToPrev(index) {
            return index > 0;
        };

        function _canMoveToNext(index) {
            return index > -1 && index < scope.pages.length - 1;
        };

        function _canUndo() {
            return scope.editHistory.canUndo();
        };

        function _canRedo() {
            return scope.editHistory.canRedo();
        };

        function _moveToPrev() {
            if (!scope.canMoveToPrev) return;

            var index = _getIndex();
            var oldValue = angular.copy(scope.pages);
            var item = scope.pages[index];
            scope.pages.splice(index, 1);
            scope.pages.splice(index - 1, 0, item);
            scope.editHistory.execute(new EditCommand(scope, oldValue, scope.pages));

            _refreshStatus();
        };

        function _moveToNext() {
            if (!scope.canMoveToNext) return;

            var index = _getIndex();
            var oldValue = angular.copy(scope.pages);
            var item = scope.pages[index];
            scope.pages.splice(index, 1);
            scope.pages.splice(index + 1, 0, item);
            scope.editHistory.execute(new EditCommand(scope, oldValue, scope.pages));

            _refreshStatus();
        };

        function _remove(index) {
            if (!scope.canRemove) return;

            var index = _getIndex();
            var oldValue = angular.copy(scope.pages);
            scope.pages.splice(index, 1);
            scope.editHistory.execute(new EditCommand(scope, oldValue, scope.pages));

            scope.pages.activePage = scope.pages[index] || scope.pages[index - 1];

            _refreshStatus();
        };

        function _undo() {
            if (!scope.canUndo) return;
            scope.editHistory.undo();

            _refreshStatus();
        };

        function _redo() {
            if (!scope.canRedo) return;
            scope.editHistory.redo();

            _refreshStatus();
        };

        /**
         * Need to clear all commond history when reset
         */
        function _reset() {
            modalService
                .confirm($translate.instant('Form_Preview_reorder_Dialog_Confirm_Reset'), 'Reset', 'Discard')
                .then(function (value) {
                    __reset();
                });
        };

        function __reset() {
            scope.pages.length = 0;
            angular.extend(scope.pages, scope.orignalPages);

            scope.pages.activePage = scope.pages.activePage || scope.pages[0];

            // clear all commond history
            scope.editHistory.stackPosition = -1;
            scope.editHistory.commands.length = 0;
            _refreshStatus();
        }

        function _selectPage(page) {
            scope.pages.activePage = page;

            _refreshStatus();
        };

        function _save() {
            __onSave();
            previewReorderFactory.close();
        };

        function _onSave() {
            __onSave();
        }

        /**
         * No need to change the commond history when save
         */
        function __onSave() {
            var isDirty = _isDirty();
            scope.editHistory.save();
            previewReorderFactory.afterSave.exec(isDirty);

            if (scope.pages.length == 0) {
                scope.pages.activePage = null;

                modalService
                    .alert($translate.instant('Form_Preview_reorder_Dialog_Confirm_No_Pages'));
            }
        }

        function _onCancel() {
            if (!_isDirty()) return false;
            _cancel();
        }

        function _isDirty() {
            return scope.editHistory.dirty();
        }

        /**
         * No need to remove the commond history changes of this time when cancel
         */
        function _cancel() {
            if (!_isDirty()) return;

            scope.pages.length = 0;
            reorderOrignalPages.forEach(function (v) {
                scope.pages.push(v);
            });

            if (scope.editHistory.stackPosition > scope.editHistory.savePosition) {
                scope.editHistory.commands.splice(scope.editHistory.savePosition);
                scope.editHistory.stackPosition = scope.editHistory.savePosition;
            } else if (scope.editHistory.stackPosition < scope.editHistory.savePosition) {
                scope.editHistory.stackPosition = scope.editHistory.savePosition;
            }

            _refreshStatus();
        };

        function _initialize(_scope) {
            scope = _scope;

            EditCommand = Undo.Command.extend({
                constructor: function (scope, oldValue, newValue) {
                    this.scope = scope;
                    this.oldValue = angular.copy(oldValue);
                    this.newValue = angular.copy(newValue);
                },
                execute: function () {
                },
                undo: function () {
                    this.scope.pages.length = 0;
                    angular.extend(this.scope.pages, this.oldValue);
                },

                redo: function () {
                    this.scope.pages.length = 0;
                    angular.extend(this.scope.pages, this.newValue);
                }
            });

            reorderOrignalPages.length = 0;
            scope.pages.forEach(function (v) {
                reorderOrignalPages.push(v);
            });

            _refreshStatus();
        };

        function _getIndex() {
            if (!scope.pages.activePage || !scope.pages || scope.pages.length == 0) {
                return -1;
            }

            var _fnFind = $filter('filter');
            var found = _fnFind(scope.pages, function (p) {
                return scope.pages.activePage.UniqeId == p.UniqeId;
            });

            return found && found.length > 0 ? scope.pages.indexOf(found[0]) : -1;
        }

        function _refreshStatus() {
            var index = _getIndex();

            scope.canRemove = !!scope.pages.activePage;
            scope.canMoveToPrev = scope.pages.activePage && _canMoveToPrev(index);
            scope.canMoveToNext = scope.pages.activePage && _canMoveToNext(index);
            scope.canUndo = _canUndo();
            scope.canRedo = _canRedo();
        }
    }
})();
///#source 1 1 /h5/apps/doccenter/_modules/commonform/_distributionpreview/_previewreorder/previewreorder.controller.js
(function () {
    'use strict';

    angular
        .module('seismic.doccenter.commonform.distributionpreview.previewreorder')
        .controller('previewReorderController', previewReorderController);

    previewReorderController.$inject = ['$scope', '$q', '$interval', 'previewReorderBusiness'];
    function previewReorderController($scope, $q, $interval, previewReorderBusiness) {
        $scope.canRemove = false;
        $scope.canMoveToPrev = false;
        $scope.canMoveToNext = false;
        $scope.canUndo = false;
        $scope.canRedo = false;

        $scope.moveToPrev = previewReorderBusiness.moveToPrev;
        $scope.moveToNext = previewReorderBusiness.moveToNext;
        $scope.remove = previewReorderBusiness.remove;
        $scope.undo = previewReorderBusiness.undo;
        $scope.redo = previewReorderBusiness.redo;
        $scope.reset = previewReorderBusiness.reset;
        $scope.selectPage = previewReorderBusiness.selectPage;
        $scope.save = previewReorderBusiness.save;

        previewReorderBusiness.initialize($scope);
    };
})();


/*
 AngularJS v1.4.8
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(x,s,y){'use strict';function t(f,k,p){n.directive(f,["$parse","$swipe",function(c,e){return function(l,m,g){function h(a){if(!b)return!1;var d=Math.abs(a.y-b.y);a=(a.x-b.x)*k;return r&&75>d&&0<a&&30<a&&.3>d/a}var d=c(g[f]),b,r,a=["touch"];s.isDefined(g.ngSwipeDisableMouse)||a.push("mouse");e.bind(m,{start:function(a,d){b=a;r=!0},cancel:function(a){r=!1},end:function(a,b){h(a)&&l.$apply(function(){m.triggerHandler(p);d(l,{$event:b})})}},a)}}])}var n=s.module("ngTouch",[]);n.factory("$swipe",
[function(){function f(c){c=c.originalEvent||c;var e=c.touches&&c.touches.length?c.touches:[c];c=c.changedTouches&&c.changedTouches[0]||e[0];return{x:c.clientX,y:c.clientY}}function k(c,e){var l=[];s.forEach(c,function(c){(c=p[c][e])&&l.push(c)});return l.join(" ")}var p={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(c,e,l){var m,g,h,d,b=!1;l=l||["mouse","touch"];c.on(k(l,"start"),function(a){h=
f(a);b=!0;g=m=0;d=h;e.start&&e.start(h,a)});var r=k(l,"cancel");if(r)c.on(r,function(a){b=!1;e.cancel&&e.cancel(a)});c.on(k(l,"move"),function(a){if(b&&h){var c=f(a);m+=Math.abs(c.x-d.x);g+=Math.abs(c.y-d.y);d=c;10>m&&10>g||(g>m?(b=!1,e.cancel&&e.cancel(a)):(a.preventDefault(),e.move&&e.move(c,a)))}});c.on(k(l,"end"),function(a){b&&(b=!1,e.end&&e.end(f(a),a))})}}}]);n.config(["$provide",function(f){f.decorator("ngClickDirective",["$delegate",function(k){k.shift();return k}])}]);n.directive("ngClick",
["$parse","$timeout","$rootElement",function(f,k,p){function c(d,b,c){for(var a=0;a<d.length;a+=2){var e=d[a+1],g=c;if(25>Math.abs(d[a]-b)&&25>Math.abs(e-g))return d.splice(a,a+2),!0}return!1}function e(d){if(!(2500<Date.now()-m)){var b=d.touches&&d.touches.length?d.touches:[d],e=b[0].clientX,b=b[0].clientY;if(!(1>e&&1>b||h&&h[0]===e&&h[1]===b)){h&&(h=null);var a=d.target;"label"===s.lowercase(a.nodeName||a[0]&&a[0].nodeName)&&(h=[e,b]);c(g,e,b)||(d.stopPropagation(),d.preventDefault(),d.target&&
d.target.blur&&d.target.blur())}}}function l(d){d=d.touches&&d.touches.length?d.touches:[d];var b=d[0].clientX,c=d[0].clientY;g.push(b,c);k(function(){for(var a=0;a<g.length;a+=2)if(g[a]==b&&g[a+1]==c){g.splice(a,a+2);break}},2500,!1)}var m,g,h;return function(d,b,h){var a=f(h.ngClick),k=!1,q,n,t,v;b.on("touchstart",function(a){k=!0;q=a.target?a.target:a.srcElement;3==q.nodeType&&(q=q.parentNode);b.addClass("ng-click-active");n=Date.now();a=a.originalEvent||a;a=(a.touches&&a.touches.length?a.touches:
[a])[0];t=a.clientX;v=a.clientY});b.on("touchcancel",function(a){k=!1;b.removeClass("ng-click-active")});b.on("touchend",function(a){var d=Date.now()-n,f=a.originalEvent||a,u=(f.changedTouches&&f.changedTouches.length?f.changedTouches:f.touches&&f.touches.length?f.touches:[f])[0],f=u.clientX,u=u.clientY,w=Math.sqrt(Math.pow(f-t,2)+Math.pow(u-v,2));k&&750>d&&12>w&&(g||(p[0].addEventListener("click",e,!0),p[0].addEventListener("touchstart",l,!0),g=[]),m=Date.now(),c(g,f,u),q&&q.blur(),s.isDefined(h.disabled)&&
!1!==h.disabled||b.triggerHandler("click",[a]));k=!1;b.removeClass("ng-click-active")});b.onclick=function(a){};b.on("click",function(b,c){d.$apply(function(){a(d,{$event:c||b})})});b.on("mousedown",function(a){b.addClass("ng-click-active")});b.on("mousemove mouseup",function(a){b.removeClass("ng-click-active")})}}]);t("ngSwipeLeft",-1,"swipeleft");t("ngSwipeRight",1,"swiperight")})(window,window.angular);
//# sourceMappingURL=angular-touch.min.js.map

/*
 AngularJS v1.4.8
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(p,c,C){'use strict';function v(r,h,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,f,b,d,y){function z(){k&&(g.cancel(k),k=null);l&&(l.$destroy(),l=null);m&&(k=g.leave(m),k.then(function(){k=null}),m=null)}function x(){var b=r.current&&r.current.locals;if(c.isDefined(b&&b.$template)){var b=a.$new(),d=r.current;m=y(b,function(b){g.enter(b,null,m||f).then(function(){!c.isDefined(t)||t&&!a.$eval(t)||h()});z()});l=d.scope=b;l.$emit("$viewContentLoaded");
l.$eval(w)}else z()}var l,m,k,t=b.autoscroll,w=b.onload||"";a.$on("$routeChangeSuccess",x);x()}}}function A(c,h,g){return{restrict:"ECA",priority:-400,link:function(a,f){var b=g.current,d=b.locals;f.html(d.$template);var y=c(f.contents());b.controller&&(d.$scope=a,d=h(b.controller,d),b.controllerAs&&(a[b.controllerAs]=d),f.data("$ngControllerController",d),f.children().data("$ngControllerController",d));y(a)}}}p=c.module("ngRoute",["ng"]).provider("$route",function(){function r(a,f){return c.extend(Object.create(a),
f)}function h(a,c){var b=c.caseInsensitiveMatch,d={originalPath:a,regexp:a},g=d.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,c,b,d){a="?"===d?d:null;d="*"===d?d:null;g.push({name:b,optional:!!a});c=c||"";return""+(a?"":c)+"(?:"+(a?c:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1");d.regexp=new RegExp("^"+a+"$",b?"i":"");return d}var g={};this.when=function(a,f){var b=c.copy(f);c.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0);
c.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);g[a]=c.extend(b,a&&h(a,b));if(a){var d="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";g[d]=c.extend({redirectTo:a},h(d,b))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){"string"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(a,f,b,d,h,p,x){function l(b){var e=s.current;
(v=(n=k())&&e&&n.$$route===e.$$route&&c.equals(n.pathParams,e.pathParams)&&!n.reloadOnSearch&&!w)||!e&&!n||a.$broadcast("$routeChangeStart",n,e).defaultPrevented&&b&&b.preventDefault()}function m(){var u=s.current,e=n;if(v)u.params=e.params,c.copy(u.params,b),a.$broadcast("$routeUpdate",u);else if(e||u)w=!1,(s.current=e)&&e.redirectTo&&(c.isString(e.redirectTo)?f.path(t(e.redirectTo,e.params)).search(e.params).replace():f.url(e.redirectTo(e.pathParams,f.path(),f.search())).replace()),d.when(e).then(function(){if(e){var a=
c.extend({},e.resolve),b,f;c.forEach(a,function(b,e){a[e]=c.isString(b)?h.get(b):h.invoke(b,null,null,e)});c.isDefined(b=e.template)?c.isFunction(b)&&(b=b(e.params)):c.isDefined(f=e.templateUrl)&&(c.isFunction(f)&&(f=f(e.params)),c.isDefined(f)&&(e.loadedTemplateUrl=x.valueOf(f),b=p(f)));c.isDefined(b)&&(a.$template=b);return d.all(a)}}).then(function(f){e==s.current&&(e&&(e.locals=f,c.copy(e.params,b)),a.$broadcast("$routeChangeSuccess",e,u))},function(b){e==s.current&&a.$broadcast("$routeChangeError",
e,u,b)})}function k(){var a,b;c.forEach(g,function(d,g){var q;if(q=!b){var h=f.path();q=d.keys;var l={};if(d.regexp)if(h=d.regexp.exec(h)){for(var k=1,m=h.length;k<m;++k){var n=q[k-1],p=h[k];n&&p&&(l[n.name]=p)}q=l}else q=null;else q=null;q=a=q}q&&(b=r(d,{params:c.extend({},f.search(),a),pathParams:a}),b.$$route=d)});return b||g[null]&&r(g[null],{params:{},pathParams:{}})}function t(a,b){var d=[];c.forEach((a||"").split(":"),function(a,c){if(0===c)d.push(a);else{var f=a.match(/(\w+)(?:[?*])?(.*)/),
g=f[1];d.push(b[g]);d.push(f[2]||"");delete b[g]}});return d.join("")}var w=!1,n,v,s={routes:g,reload:function(){w=!0;a.$evalAsync(function(){l();m()})},updateParams:function(a){if(this.current&&this.current.$$route)a=c.extend({},this.current.params,a),f.path(t(this.current.$$route.originalPath,a)),f.search(a);else throw B("norout");}};a.$on("$locationChangeStart",l);a.$on("$locationChangeSuccess",m);return s}]});var B=c.$$minErr("ngRoute");p.provider("$routeParams",function(){this.$get=function(){return{}}});
p.directive("ngView",v);p.directive("ngView",A);v.$inject=["$route","$anchorScroll","$animate"];A.$inject=["$compile","$controller","$route"]})(window,window.angular);
//# sourceMappingURL=angular-route.min.js.map

/*
 * AngularJS Toaster
 * Version: 0.4.16
 *
 * Copyright 2013-2015 Jiri Kavulak.
 * All Rights Reserved.
 * Use, reproduction, distribution, and modification of this code is subject to the terms and
 * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php
 *
 * Author: Jiri Kavulak
 * Related to project of John Papa, Hans Fjllemark and Nguyn Thin Hng (thienhung1989)
 */
!function(){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).service("toaster",["$rootScope","toasterConfig",function(t,e){function o(t){return function(e,o,s,i,a,n,r,c,l,u){angular.isString(e)?this.pop(t,e,o,s,i,a,n,r,c,l,u):this.pop(angular.extend(e,{type:t}))}}this.pop=function(e,o,s,i,a,n,r,c,l,u,d){if(angular.isObject(e)){var p=e;this.toast={type:p.type,title:p.title,body:p.body,timeout:p.timeout,bodyOutputType:p.bodyOutputType,clickHandler:p.clickHandler,showCloseButton:p.showCloseButton,uid:p.toastId,onHideCallback:p.onHideCallback,directiveData:p.directiveData},l=p.toastId,r=p.toasterId}else this.toast={type:e,title:o,body:s,timeout:i,bodyOutputType:a,clickHandler:n,showCloseButton:c,uid:l,onHideCallback:u,directiveData:d};t.$emit("toaster-newToast",r,l)},this.clear=function(e,o){t.$emit("toaster-clearToasts",e,o)};for(var s in e["icon-classes"])this[s]=o(s)}]).factory("toasterEventRegistry",["$rootScope",function(t){var e,o=null,s=null,i=[],a=[];return e={setup:function(){o||(o=t.$on("toaster-newToast",function(t,e,o){for(var s=0,a=i.length;a>s;s++)i[s](t,e,o)})),s||(s=t.$on("toaster-clearToasts",function(t,e,o){for(var s=0,i=a.length;i>s;s++)a[s](t,e,o)}))},subscribeToNewToastEvent:function(t){i.push(t)},subscribeToClearToastsEvent:function(t){a.push(t)},unsubscribeToNewToastEvent:function(t){var e=i.indexOf(t);e>=0&&i.splice(e,1),0===i.length&&(o(),o=null)},unsubscribeToClearToastsEvent:function(t){var e=a.indexOf(t);e>=0&&a.splice(e,1),0===a.length&&(s(),s=null)}},{setup:e.setup,subscribeToNewToastEvent:e.subscribeToNewToastEvent,subscribeToClearToastsEvent:e.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:e.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:e.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(t,e){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(o,s,i){o.$watch("directiveName",function(a){if(angular.isUndefined(a)||a.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var n=e.has(i.$normalize(a)+"Directive");if(!n)throw new Error(a+" could not be found.");o.directiveData&&(o.directiveData=angular.fromJson(o.directiveData));var r=t("<div "+a+"></div>")(o);s.append(r)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(t,e,o,s,i,a,n){return{replace:!0,restrict:"EA",scope:!0,link:function(e,r,c){function l(t,s){t.timeoutPromise=o(function(){e.removeToast(t.id)},s,1)}function u(o,i){if(o.type=m["icon-classes"][o.type],o.type||(o.type=m["icon-class"]),m["prevent-duplicates"]===!0)if(v(i)){if(e.toasters.length>0&&e.toasters[e.toasters.length-1].body===o.body)return}else{var a,n;for(a=0,n=e.toasters.length;n>a;a++)e.toasters[a].uid===i&&(d(a),a--,n=e.toasters.length)}o.id=++f,v(i)||(o.uid=i);var r=m["close-button"];if("boolean"==typeof o.showCloseButton);else if("boolean"==typeof r)o.showCloseButton=r;else if("object"==typeof r){var c=r[o.type];"undefined"!=typeof c&&null!==c&&(o.showCloseButton=c)}else o.showCloseButton=!1;switch(o.bodyOutputType=o.bodyOutputType||m["body-output-type"],o.bodyOutputType){case"trustedHtml":o.html=s.trustAsHtml(o.body);break;case"template":o.bodyTemplate=o.body||m["body-template"];break;case"templateWithData":var l=t(o.body||m["body-template"]),u=l(e);o.bodyTemplate=u.template,o.data=u.data;break;case"directive":o.html=o.body}e.configureTimer(o),m["newest-on-top"]===!0?(e.toasters.unshift(o),m.limit>0&&e.toasters.length>m.limit&&e.toasters.pop()):(e.toasters.push(o),m.limit>0&&e.toasters.length>m.limit&&e.toasters.shift())}function d(t){var s=e.toasters[t];s&&(s.timeoutPromise&&o.cancel(s.timeoutPromise),e.toasters.splice(t,1),angular.isFunction(s.onHideCallback)&&s.onHideCallback())}function p(t){for(var o=e.toasters.length-1;o>=0;o--)v(t)?d(o):e.toasters[o].uid==t&&d(o)}function v(t){return angular.isUndefined(t)||null===t}var m,f=0;m=angular.extend({},i,e.$eval(c.toasterOptions)),e.config={toasterId:m["toaster-id"],position:m["position-class"],title:m["title-class"],message:m["message-class"],tap:m["tap-to-dismiss"],closeButton:m["close-button"],animation:m["animation-class"],mouseoverTimer:m["mouseover-timer-stop"]},e.$on("$destroy",function(){n.unsubscribeToNewToastEvent(e._onNewToast),n.unsubscribeToClearToastsEvent(e._onClearToasts)}),e.configureTimer=function(t){var e=angular.isNumber(t.timeout)?t.timeout:m["time-out"];"object"==typeof e&&(e=e[t.type]),e>0&&l(t,e)},e.removeToast=function(t){var o,s;for(o=0,s=e.toasters.length;s>o;o++)if(e.toasters[o].id===t){d(o);break}},e.toasters=[],e._onNewToast=function(t,o,s){(v(e.config.toasterId)&&v(o)||!v(e.config.toasterId)&&!v(o)&&e.config.toasterId==o)&&u(a.toast,s)},e._onClearToasts=function(t,o,s){("*"==o||v(e.config.toasterId)&&v(o)||!v(e.config.toasterId)&&!v(o)&&e.config.toasterId==o)&&p(s)},n.setup(),n.subscribeToNewToastEvent(e._onNewToast),n.subscribeToClearToastsEvent(e._onClearToasts)},controller:["$scope","$element","$attrs",function(t){t.stopTimer=function(e){t.config.mouseoverTimer===!0&&e.timeoutPromise&&(o.cancel(e.timeoutPromise),e.timeoutPromise=null)},t.restartTimer=function(e){t.config.mouseoverTimer===!0?e.timeoutPromise||t.configureTimer(e):null===e.timeoutPromise&&t.removeToast(e.id)},t.click=function(e,o){if(t.config.tap===!0||e.showCloseButton===!0&&o===!0){var s=!0;e.clickHandler&&(angular.isFunction(e.clickHandler)?s=e.clickHandler(e,o):angular.isFunction(t.$parent.$eval(e.clickHandler))?s=t.$parent.$eval(e.clickHandler)(e,o):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),s&&t.removeToast(e.id)}}}],template:'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><button type="button" class="toast-close-button" ng-show="toaster.showCloseButton" ng-click="click(toaster, true)">&times;</button><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}])}(window,document);


/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/

jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});

/*
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2001 Robert Penner
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
 */
 /*

	Supersized - Fullscreen Slideshow jQuery Plugin
	Version : 3.2.7
	Site	: www.buildinternet.com/project/supersized
	
	Author	: Sam Dunn
	Company : One Mighty Roar (www.onemightyroar.com)
	License : MIT License / GPL License
	
*/

(function ($) {
    /* Place Supersized Elements
	----------------------------*/
    $.supersized = function (options) {

        /* Variables
		----------------------------*/
        var el = '#supersized',
        	base = this;
        // Access to jQuery and DOM versions of element
        base.$el = $(el);
        base.$el.parentcontainer = $(base.$el.parents('div')[0]);
        base.el = el;
        vars = $.supersized.vars;
        // Add a reverse reference to the DOM object
        base.$el.data("supersized", base);
        api = base.$el.data('supersized');

        base.init = function () {
            // Combine options and vars
            $.supersized.vars = $.extend($.supersized.vars, $.supersized.themeVars);
            $.supersized.vars.options = $.extend({}, $.supersized.defaultOptions, $.supersized.themeOptions, options);
            base.options = $.supersized.vars.options;

            base._build();
        };

        base.addSlide = function (slide) {
            base._append(slide);
            base.options.slideshow = base.options.slides.length > 1;
            $(vars.slide_total).html(base.options.slides.length);

            if ($(vars.thumb_list).width() <= $(vars.thumb_tray).width()) {
                $(vars.thumb_back + ',' + vars.thumb_forward).fadeOut('fast');
            } else {
                $(vars.thumb_back + ',' + vars.thumb_forward).fadeIn('fast');
            }

            if (vars.current_slide > 0) {
                $("#prevslide").show();
            } else {
                $("#prevslide").hide();
            }

            if (vars.current_slide < (base.options.slides.length - 1)) {
                $("#nextslide").show();
            } else {
                $("#nextslide").hide();
            }

            if (base.options.slides.length == 2 && $(".slide-0").hasClass("activeslide")) {
                $(".slide-0").removeClass("activeslide");
                $(".slide-1").addClass("activeslide");
            }
        }

        base.deleteLoadingSlide = function () {
            var index = -1;
            for (var i = 0; i < base.options.slides.length; i++) {
                if (base.options.slides[i].isLoadingImage) {
                    index = i;
                    break;
                }
            }

            if (index > -1) {
                base.options.slides.splice(index, 1);
            }

            $("#thumb-list").find("[isloadingimage]").parent().remove();
            $("#supersized").find("[isloadingimage]").parent().parent().remove();

            $("#slidecounter .totalslides").text(base.options.slides.length);
        }

        base._append = function (slide) {
            base.options.slides.push(slide);

            var thisSlide = base.options.slides.length - 1,
        		slideSet = '',
				markers = '',
				markerContent,
				thumbMarkers = '',
				thumbImage;

            var slide = base.options.slides[thisSlide];
            switch (base.options.slide_links) {
                case 'num':
                    markerContent = thisSlide;
                    break;
                case 'name':
                    markerContent = slide && slide.title;
                    break;
                case 'blank':
                    markerContent = '';
                    break;
            }

            slideSet = slideSet + '<li class="slide-' + thisSlide + '"></li>';

            var isLoadingImage = base.options.slides[thisSlide].isLoadingImage;
            var isLoadingImageHtml = isLoadingImage ? ' isloadingimage="true" ' : '';
            if (base.options.slide_links) markers = markers + '<li class="slide-link-' + thisSlide + '" ><a>' + markerContent + '</a></li>';
            // Slide Thumbnail Links
            if (base.options.thumb_links) {
                slide && slide.thumb ? thumbImage = slide && slide.thumb : thumbImage = slide && slide.image;
                thumbMarkers = thumbMarkers + '<li style="border: 1px solid #484848;" class="thumb' + thisSlide + '"><span style="color:#888888;">' + (thisSlide) + '</span><img class="thumbImage" src="' + thumbImage + '" ' + isLoadingImageHtml + '/></li>';
            };

            if (base.options.slide_links) $(vars.slide_list).append(markers);
            if (base.options.thumb_links && vars.thumb_tray.length) {
                $(vars.thumb_tray).find("#divThumbList ul").append(thumbMarkers);
                var loadingLi = $(vars.thumb_tray).find("#divThumbList ul li img[isloadingimage]").parent();
                loadingLi.find("span").text(base.options.slides.length);
                $(vars.thumb_tray).find("#divThumbList ul").append(loadingLi);
            }

            $(base.el).append(slideSet);

            var linkTarget = base.options.new_window ? ' target="_blank"' : '';

            vars.current_slide - 1 < 0 ? loadPrev = base.options.slides.length - 1 : loadPrev = vars.current_slide - 1;	// If slide is 1, load last slide as previous
            var imageLink = (base.options.slides[loadPrev].url) ? "href='" + base.options.slides[loadPrev].url + "'" : "";

            var isLoadingImage = base.options.slides[loadPrev].isLoadingImage;
            var isLoadingImageHtml = isLoadingImage ? ' isloadingimage="true" ' : '';
            var imgPrev = $('<img src="' + base.options.slides[loadPrev].image + '" ' + isLoadingImageHtml + '/>');
            var slidePrev = base.el + ' li:eq(' + loadPrev + ')';
            imgPrev.appendTo(slidePrev).wrap('<a ' + imageLink + linkTarget + '></a>').parent().parent().addClass('image-loading');

            imgPrev.load(function () {
                //$(this).data('origWidth', $(this).width()).data('origHeight', $(this).height());
                //modified by brad to give the right position to the previous slide.
                base._origDim($(this));
                base.resizeNow();	// Resize background image
            });	// End Load

            var loadingLi = $(base.el).find("img[isloadingimage]").parent().parent();
            $(base.el).append(loadingLi);

            $(vars.thumb_list).width($('> li', vars.thumb_list).length * $('> li', vars.thumb_list).outerWidth(true));
        }

        base._loadedThumbIndex = 0;
        /* Build Elements
		----------------------------*/
        base._build = function () {
            // Add in slide markers
            var thisSlide = 0,
        		slideSet = '',
				markers = '',
				markerContent,
				thumbMarkers = '',
				thumbImage;

            while (thisSlide <= base.options.slides.length - 1) {
                //Determine slide link content
                switch (base.options.slide_links) {
                    case 'num':
                        markerContent = thisSlide;
                        break;
                    case 'name':
                        markerContent = base.options.slides[thisSlide].title;
                        break;
                    case 'blank':
                        markerContent = '';
                        break;
                }

                slideSet = slideSet + '<li class="slide-' + thisSlide + '"></li>';

                var isLoadingImage = base.options.slides[thisSlide].isLoadingImage;
                var isLoadingImageHtml = isLoadingImage ? ' isloadingimage="true" ' : '';

                if (thisSlide == base.options.start_slide - 1) {
                    // Slide links
                    if (base.options.slide_links) markers = markers + '<li class="slide-link-' + thisSlide + ' current-slide"><a>' + markerContent + '</a></li>';
                    // Slide Thumbnail Links
                    if (base.options.thumb_links) {
                        base.options.slides[thisSlide].thumb ? thumbImage = base.options.slides[thisSlide].thumb : thumbImage = base.options.slides[thisSlide].image;
                        thumbMarkers = thumbMarkers + '<li style="border: 1px solid #484848;" class="thumb' + thisSlide + ' current-thumb"><span style="color:#888888;">' + (thisSlide + 1) + '</span><img class="thumbImage" src="" ' + isLoadingImageHtml + '/></li>';
                    };
                } else {
                    // Slide links
                    if (base.options.slide_links) markers = markers + '<li class="slide-link-' + thisSlide + '" ><a>' + markerContent + '</a></li>';
                    // Slide Thumbnail Links
                    if (base.options.thumb_links) {
                        base.options.slides[thisSlide].thumb ? thumbImage = base.options.slides[thisSlide].thumb : thumbImage = base.options.slides[thisSlide].image;
                        thumbMarkers = thumbMarkers + '<li style="border: 1px solid #484848;" class="thumb' + thisSlide + '"><span style="color:#888888;">' + (thisSlide + 1) + '</span><img class="thumbImage" src="" ' + isLoadingImageHtml + '/></li>';
                    };
                }
                thisSlide++;
            }

            if (base.options.slide_links) $(vars.slide_list).html(markers);
            if (base.options.thumb_links) {
                $(vars.thumb_tray).append('<div id="divThumbList"> <ul id="' + vars.thumb_list.replace('#', '') + '">' + thumbMarkers + '</ul><div>');
            }

            $(base.el).append(slideSet);

            // Add in thumbnails
            if (base.options.thumbnail_navigation) {
                // Load previous thumbnail
                vars.current_slide - 1 < 0 ? prevThumb = base.options.slides.length - 1 : prevThumb = vars.current_slide - 1;
                $(vars.prev_thumb).show().html($("<img/>").attr("src", base.options.slides[prevThumb].image));

                // Load next thumbnail
                vars.current_slide == base.options.slides.length - 1 ? nextThumb = 0 : nextThumb = vars.current_slide + 1;
                $(vars.next_thumb).show().html($("<img/>").attr("src", base.options.slides[nextThumb].image));
            }

            base._start(); // Get things started
            _loadThumb();
        };

        function _loadThumb() {
            if (base.options.thumb_links) {
                var images = $(".thumbImage");
                var thisSlide = base._loadedThumbIndex;
                if (images.length > thisSlide && base.options.slides[thisSlide]) {
                    var thumbImage = base.options.slides[thisSlide].thumb ? base.options.slides[thisSlide].thumb : base.options.slides[thisSlide].image;
                    images[thisSlide].src = thumbImage;
                    base._loadedThumbIndex++;
                    images[thisSlide].onload = function () { setTimeout(_loadThumb, 100); };
                }
            }
        }


        /* Initialize
		----------------------------*/
        base._start = function () {

            // Determine if starting slide random
            if (base.options.start_slide) {
                vars.current_slide = base.options.start_slide - 1;
            } else {
                vars.current_slide = Math.floor(Math.random() * base.options.slides.length);	// Generate random slide number
            }

            // If links should open in new window
            var linkTarget = base.options.new_window ? ' target="_blank"' : '';

            // Set slideshow quality (Supported only in FF and IE, no Webkit)
            if (base.options.performance == 3) {
                base.$el.addClass('speed'); 		// Faster transitions
            } else if ((base.options.performance == 1) || (base.options.performance == 2)) {
                base.$el.addClass('quality');	// Higher image quality
            }

            // Shuffle slide order if needed		
            if (base.options.random) {
                arr = base.options.slides;
                for (var j, x, i = arr.length; i; j = parseInt(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x);	// Fisher-Yates shuffle algorithm (jsfromhell.com/array/shuffle)
                base.options.slides = arr;
            }

            /*-----Load initial set of images-----*/

            if (base.options.slides.length > 1) {
                if (base.options.slides.length > 2) {
                    // Set previous image
                    vars.current_slide - 1 < 0 ? loadPrev = base.options.slides.length - 1 : loadPrev = vars.current_slide - 1;	// If slide is 1, load last slide as previous
                    var imageLink = (base.options.slides[loadPrev].url) ? "href='" + base.options.slides[loadPrev].url + "'" : "";

                    var isLoadingImage = base.options.slides[loadPrev].isLoadingImage;
                    var isLoadingImageHtml = isLoadingImage ? ' isloadingimage="true" ' : '';
                    var imgPrev = $('<img src="' + base.options.slides[loadPrev].image + ' ' + isLoadingImageHtml + '"/>');
                    var slidePrev = base.el + ' li:eq(' + loadPrev + ')';
                    imgPrev.appendTo(slidePrev).wrap('<a ' + imageLink + linkTarget + '></a>').parent().parent().addClass('image-loading prevslide');

                    imgPrev.load(function () {
                        //$(this).data('origWidth', $(this).width()).data('origHeight', $(this).height());
		                //modified by brad to give the right position to the previous slide.
		                base._origDim($(this));
                        base.resizeNow();	// Resize background image
                    });	// End Load
                }
            } else {
                // Slideshow turned off if there is only one slide
                base.options.slideshow = 0;
            }

            var isLoadingImage = base.options.slides[vars.current_slide] && base.options.slides[vars.current_slide].isLoadingImage;
            var isLoadingImageHtml = isLoadingImage ? ' isloadingimage="true" ' : '';
            // Set current image
            imageLink = (api.getField('url')) ? "href='" + api.getField('url') + "'" : "";
            var img = $('<img src="' + api.getField('image') + '" ' + isLoadingImageHtml + '/>');

            var slideCurrent = base.el + ' li:eq(' + vars.current_slide + ')';
            img.appendTo(slideCurrent).wrap('<a ' + imageLink + linkTarget + '></a>').parent().parent().addClass('image-loading activeslide');

            img.load(function () {
                base._origDim($(this));
                base.resizeNow();	// Resize background image
                base.launch();
                if (typeof theme != 'undefined' && typeof theme._init == "function") theme._init();	// Load Theme
            });

            if (base.options.slides.length > 1) {
                // Set next image
                vars.current_slide == base.options.slides.length - 1 ? loadNext = 0 : loadNext = vars.current_slide + 1;	// If slide is last, load first slide as next
                imageLink = (base.options.slides[loadNext].url) ? "href='" + base.options.slides[loadNext].url + "'" : "";

                var imgNext = $('<img src="' + base.options.slides[loadNext].image + '"/>');
                var slideNext = base.el + ' li:eq(' + loadNext + ')';
                imgNext.appendTo(slideNext).wrap('<a ' + imageLink + linkTarget + '></a>').parent().parent().addClass('image-loading');

                imgNext.load(function () {
                    //$(this).data('origWidth', $(this).width()).data('origHeight', $(this).height());
	                //modified by brad to give the right position to the previous slide.
	                base._origDim($(this));
                    base.resizeNow();	// Resize background image
                });	// End Load
            }
            /*-----End load initial images-----*/

            //  Hide elements to be faded in
            base.$el.css('visibility', 'hidden');
            $('.load-item').hide();

        };


        /* Launch Supersized
		----------------------------*/
        base.launch = function () {

            base.$el.css('visibility', 'visible');
            $('#supersized-loader').remove();		//Hide loading animation

            // Call theme function for before slide transition
            if (typeof theme != 'undefined' && typeof theme.beforeAnimation == "function") theme.beforeAnimation('next');
            $('.load-item').show();

            // Keyboard Navigation
            if (base.options.keyboard_nav) {
                $(document.documentElement).keyup(function (event) {

                    if (vars.in_animation) return false;		// Abort if currently animating
                    if ($(document.activeElement).is("input, textarea")) return false; // Abort if active element is an input or a textarea.

                    // Left Arrow or Down Arrow
                    if ((event.keyCode == 37) || (event.keyCode == 40)) {
                        clearInterval(vars.slideshow_interval);	// Stop slideshow, prevent buildup
                        base.prevSlide();

                        // Right Arrow or Up Arrow
                    } else if ((event.keyCode == 39) || (event.keyCode == 38)) {
                        clearInterval(vars.slideshow_interval);	// Stop slideshow, prevent buildup
                        base.nextSlide();

                        // Spacebar	
                    } else if (event.keyCode == 32 && !vars.hover_pause) {
                        clearInterval(vars.slideshow_interval);	// Stop slideshow, prevent buildup
                        base.playToggle();
                    }

                });
            }

            // Pause when hover on image
            if (base.options.slideshow && base.options.pause_hover) {
                $(base.el).hover(function () {
                    if (vars.in_animation) return false;		// Abort if currently animating
                    vars.hover_pause = true;	// Mark slideshow paused from hover
                    if (!vars.is_paused) {
                        vars.hover_pause = 'resume';	// It needs to resume afterwards
                        base.playToggle();
                    }
                }, function () {
                    if (vars.hover_pause == 'resume') {
                        base.playToggle();
                        vars.hover_pause = false;
                    }
                });
            }

            if (base.options.slide_links) {
                // Slide marker clicked
                $(vars.slide_list).on("click", ">li", function () {

                    index = $(vars.slide_list + '> li').index(this);
                    targetSlide = index + 1;

                    base.goTo(targetSlide);
                    return false;

                });
            }

            // Thumb marker clicked
            if (base.options.thumb_links) {
                $(vars.thumb_list).on("click", ">li", function () {

                    index = $(vars.thumb_list + '> li').index(this);
                    targetSlide = index + 1;

                    api.goTo(targetSlide);
                    return false;

                });
            }

            // Start slideshow if enabled
            if (base.options.slideshow && base.options.slides.length > 1) {

                // Start slideshow if autoplay enabled
                if (base.options.autoplay && base.options.slides.length > 1) {
                    vars.slideshow_interval = setInterval(base.nextSlide, base.options.slide_interval);	// Initiate slide interval
                } else {
                    vars.is_paused = true;	// Mark as paused
                }

                //Prevent navigation items from being dragged					
                $('.load-item img').bind("contextmenu mousedown", function () {
                    return false;
                });

            }

            // Adjust image when browser is resized
            $(window).resize(function () {
                base.resizeNow();
            });

        };


        /* Resize Images
		----------------------------*/
        base.resizeNow = function () {

            return base.$el.each(function () {
                //  Resize each image seperately
                $('img', base.el).each(function () {

                    thisSlide = $(this);

                    var ratio = (thisSlide.data('origHeight') / thisSlide.data('origWidth')).toFixed(2);	// Define image ratio

                    // Gather browser size
                    //var browserwidth = base.$el.width(),
                    //    browserheight = base.$el.height(),
                    //changed by brad yang on 2016-4-5, it is used to fix cannot get base.$el size value sometimes.
                    var browserwidth = base.$el.parentcontainer.width(),
                        browserheight = base.$el.parentcontainer.height(),
                        offset;

                    if (!thisSlide.attr("isloadingimage")) {
                        /*-----Resize Functions-----*/

                        function resizeWidth(minimum) {
                            if (minimum) {	// If minimum height needs to be considered
                                if (thisSlide.width() < browserwidth || thisSlide.width() < base.options.min_width) {
                                    if (thisSlide.width() * ratio >= base.options.min_height) {
                                        thisSlide.width(base.options.min_width);
                                        thisSlide.height(thisSlide.width() * ratio);
                                    } else {
                                        resizeHeight();
                                    }
                                }
                            } else {
                                if (base.options.min_height >= browserheight && !base.options.fit_landscape) {	// If minimum height needs to be considered
                                    if (browserwidth * ratio >= base.options.min_height || (browserwidth * ratio >= base.options.min_height && ratio <= 1)) {	// If resizing would push below minimum height or image is a landscape
                                        thisSlide.width(browserwidth);
                                        thisSlide.height(browserwidth * ratio);
                                    } else if (ratio > 1) {		// Else the image is portrait
                                        thisSlide.height(base.options.min_height);
                                        thisSlide.width(thisSlide.height() / ratio);
                                    } else if (thisSlide.width() < browserwidth) {
                                        thisSlide.width(browserwidth);
                                        thisSlide.height(thisSlide.width() * ratio);
                                    }
                                } else {	// Otherwise, resize as normal
                                    thisSlide.width(browserwidth);
                                    thisSlide.height(browserwidth * ratio);
                                }
                            }
                        };

                        function resizeHeight(minimum) {
                            if (minimum) {	// If minimum height needs to be considered
                                if (thisSlide.height() < browserheight) {
                                    if (thisSlide.height() / ratio >= base.options.min_width) {
                                        thisSlide.height(base.options.min_height);
                                        thisSlide.width(thisSlide.height() / ratio);
                                    } else {
                                        resizeWidth(true);
                                    }
                                }
                            } else {	// Otherwise, resized as normal
                                if (base.options.min_width >= browserwidth) {	// If minimum width needs to be considered
                                    if (browserheight / ratio >= base.options.min_width || ratio > 1) {	// If resizing would push below minimum width or image is a portrait
                                        thisSlide.height(browserheight);
                                        thisSlide.width(browserheight / ratio);
                                    } else if (ratio <= 1) {		// Else the image is landscape
                                        thisSlide.width(base.options.min_width);
                                        thisSlide.height(thisSlide.width() * ratio);
                                    }
                                } else {	// Otherwise, resize as normal
                                    thisSlide.height(browserheight);
                                    thisSlide.width(browserheight / ratio);
                                }
                            }
                        };

                    	/*-----End Resize Functions-----*/
                    	
                    	
                        /*-----Resize Image-----*/
                        if (base.options.fit_always) {	// Fit always is enabled
                            if ((browserheight / browserwidth) > ratio) {
                                resizeWidth();
                            } else {
                                resizeHeight();
                            }
                        } else {	// Normal Resize
                            if ((browserheight <= base.options.min_height) && (browserwidth <= base.options.min_width)) {	// If window smaller than minimum width and height

                                if ((browserheight / browserwidth) > ratio) {
                                    base.options.fit_landscape && ratio < 1 ? resizeWidth(true) : resizeHeight(true);	// If landscapes are set to fit
                                } else {
                                    base.options.fit_portrait && ratio >= 1 ? resizeHeight(true) : resizeWidth(true);		// If portraits are set to fit
                                }

                            } else if (browserwidth <= base.options.min_width) {		// If window only smaller than minimum width

                                if ((browserheight / browserwidth) > ratio) {
                                    base.options.fit_landscape && ratio < 1 ? resizeWidth(true) : resizeHeight();	// If landscapes are set to fit
                                } else {
                                    base.options.fit_portrait && ratio >= 1 ? resizeHeight() : resizeWidth(true);		// If portraits are set to fit
                                }

                            } else if (browserheight <= base.options.min_height) {	// If window only smaller than minimum height

                                if ((browserheight / browserwidth) > ratio) {
                                    base.options.fit_landscape && ratio < 1 ? resizeWidth() : resizeHeight(true);	// If landscapes are set to fit
                                } else {
                                    base.options.fit_portrait && ratio >= 1 ? resizeHeight(true) : resizeWidth();		// If portraits are set to fit
                                }

                            } else {	// If larger than minimums

                                if ((browserheight / browserwidth) > ratio) {
                                    base.options.fit_landscape && ratio < 1 ? resizeWidth() : resizeHeight();	// If landscapes are set to fit
                                } else {
                                    base.options.fit_portrait && ratio >= 1 ? resizeHeight() : resizeWidth();		// If portraits are set to fit
                                }

                            }
                        }
                        /*-----End Image Resize-----*/
                    }

                    if (thisSlide.parents('li').hasClass('image-loading')) {
                        $('.image-loading').removeClass('image-loading');
                    }

                    // Horizontally Center
                    if (base.options.horizontal_center) {
                        $(this).css('left', (browserwidth - $(this).width()) / 2);
                    }

                    // Vertically Center
                    if (base.options.vertical_center) {
                        $(this).css('top', (browserheight - $(this).height()) / 2);
                    }

                });

                // Basic image drag and right click protection
                if (base.options.image_protect) {

                    $('img', base.el).bind("contextmenu mousedown", function () {
                        return false;
                    });

                }

                return false;

            });

        };


        /* Next Slide
		----------------------------*/
        base.nextSlide = function () {

            if (vars.current_slide + 1 == base.options.slides.length) return false;

            if (vars.in_animation || !api.options.slideshow) return false;		// Abort if currently animating
            else vars.in_animation = true;		// Otherwise set animation marker

            clearInterval(vars.slideshow_interval);	// Stop slideshow

            var slides = base.options.slides,					// Pull in slides array
				liveslide = base.$el.find('.activeslide');		// Find active slide
            $('.prevslide').removeClass('prevslide');
            liveslide.removeClass('activeslide').addClass('prevslide');	// Remove active class & update previous slide

            // Get the slide number of new slide
            vars.current_slide + 1 == base.options.slides.length ? vars.current_slide = 0 : vars.current_slide++;
            if (window.frames[0].onPlayerGoto) {
                window.frames[0].onPlayerGoto(vars.current_slide);
            }
            var nextslide = $(base.el + ' li:eq(' + vars.current_slide + ')'),
		    	prevslide = base.$el.find('.prevslide');

            // If hybrid mode is on drop quality for transition
            if (base.options.performance == 1) base.$el.removeClass('quality').addClass('speed');


            /*-----Load Image-----*/

            loadSlide = false;

            vars.current_slide == base.options.slides.length - 1 ? loadSlide = 0 : loadSlide = vars.current_slide + 1;	// Determine next slide

            var targetList = base.el + ' li:eq(' + loadSlide + ')';
            if (!$(targetList).html()) {

                // If links should open in new window
                var linkTarget = base.options.new_window ? ' target="_blank"' : '';

                imageLink = (base.options.slides[loadSlide].url) ? "href='" + base.options.slides[loadSlide].url + "'" : "";	// If link exists, build it
                var img = $('<img src="' + base.options.slides[loadSlide].image + '"/>');

                img.appendTo(targetList).wrap('<a ' + imageLink + linkTarget + '></a>').parent().parent().addClass('image-loading').css('visibility', 'hidden');

                img.load(function () {
                    base._origDim($(this));
                    base.resizeNow();
                });	// End Load
            };

            // Update thumbnails (if enabled)
            if (base.options.thumbnail_navigation == 1) {

                // Load previous thumbnail
                vars.current_slide - 1 < 0 ? prevThumb = base.options.slides.length - 1 : prevThumb = vars.current_slide - 1;
                $(vars.prev_thumb).html($("<img/>").attr("src", base.options.slides[prevThumb].image));

                // Load next thumbnail
                nextThumb = loadSlide;
                $(vars.next_thumb).html($("<img/>").attr("src", base.options.slides[nextThumb].image));

            }



            /*-----End Load Image-----*/


            // Call theme function for before slide transition
            if (typeof theme != 'undefined' && typeof theme.beforeAnimation == "function") theme.beforeAnimation('next');

            //Update slide markers
            if (base.options.slide_links) {
                $('.current-slide').removeClass('current-slide');
                $(vars.slide_list + '> li').eq(vars.current_slide).addClass('current-slide');
            }

            nextslide.css('visibility', 'hidden').addClass('activeslide');	// Update active slide

            switch (base.options.transition) {
                case 0: case 'none':	// No transition
                    nextslide.css('visibility', 'visible'); vars.in_animation = false; base.afterAnimation();
                    break;
                case 1: case 'fade':	// Fade
                    nextslide.css({ opacity: 0, 'visibility': 'visible' }).animate({ opacity: 1, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 2: case 'slideTop':	// Slide Top
                    nextslide.css({ top: -base.$el.height(), 'visibility': 'visible' }).animate({ top: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 3: case 'slideRight':	// Slide Right
                    nextslide.css({ left: base.$el.width(), 'visibility': 'visible' }).animate({ left: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 4: case 'slideBottom': // Slide Bottom
                    nextslide.css({ top: base.$el.height(), 'visibility': 'visible' }).animate({ top: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 5: case 'slideLeft':  // Slide Left
                    nextslide.css({ left: -base.$el.width(), 'visibility': 'visible' }).animate({ left: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 6: case 'carouselRight':	// Carousel Right
                    nextslide.css({ left: base.$el.width(), 'visibility': 'visible' }).animate({ left: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    liveslide.animate({ left: -base.$el.width(), avoidTransforms: false }, base.options.transition_speed);
                    break;
                case 7: case 'carouselLeft':   // Carousel Left
                    nextslide.css({ left: -base.$el.width(), 'visibility': 'visible' }).animate({ left: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    liveslide.animate({ left: base.$el.width(), avoidTransforms: false }, base.options.transition_speed);
                    break;
            }
            return false;
        };


        /* Previous Slide
		----------------------------*/
        base.prevSlide = function () {
            if (vars.current_slide == 0) return false;
            if (vars.in_animation || !api.options.slideshow) return false;		// Abort if currently animating
            else vars.in_animation = true;		// Otherwise set animation marker

            clearInterval(vars.slideshow_interval);	// Stop slideshow

            var slides = base.options.slides,					// Pull in slides array
				liveslide = base.$el.find('.activeslide');		// Find active slide
            $('.prevslide').removeClass('prevslide');
            liveslide.removeClass('activeslide').addClass('prevslide');		// Remove active class & update previous slide

            // Get current slide number
            vars.current_slide == 0 ? vars.current_slide = base.options.slides.length - 1 : vars.current_slide--;
            if (window.frames[0].onPlayerGoto) {
                window.frames[0].onPlayerGoto(vars.current_slide);
            }
            var nextslide = $(base.el + ' li:eq(' + vars.current_slide + ')'),
		    	prevslide = base.$el.find('.prevslide');

            // If hybrid mode is on drop quality for transition
            if (base.options.performance == 1) base.$el.removeClass('quality').addClass('speed');


            /*-----Load Image-----*/

            loadSlide = vars.current_slide;

            var targetList = base.el + ' li:eq(' + loadSlide + ')';
            if (!$(targetList).html()) {
                // If links should open in new window
                var linkTarget = base.options.new_window ? ' target="_blank"' : '';
                imageLink = (base.options.slides[loadSlide].url) ? "href='" + base.options.slides[loadSlide].url + "'" : "";	// If link exists, build it
                var img = $('<img src="' + base.options.slides[loadSlide].image + '"/>');

                img.appendTo(targetList).wrap('<a ' + imageLink + linkTarget + '></a>').parent().parent().addClass('image-loading').css('visibility', 'hidden');

                img.load(function () {
                    base._origDim($(this));
                    base.resizeNow();
                });	// End Load
            };

            // Update thumbnails (if enabled)
            if (base.options.thumbnail_navigation == 1) {

                // Load previous thumbnail
                //prevThumb = loadSlide;
                loadSlide == 0 ? prevThumb = base.options.slides.length - 1 : prevThumb = loadSlide - 1;
                $(vars.prev_thumb).html($("<img/>").attr("src", base.options.slides[prevThumb].image));

                // Load next thumbnail
                vars.current_slide == base.options.slides.length - 1 ? nextThumb = 0 : nextThumb = vars.current_slide + 1;
                $(vars.next_thumb).html($("<img/>").attr("src", base.options.slides[nextThumb].image));
            }

            /*-----End Load Image-----*/


            // Call theme function for before slide transition
            if (typeof theme != 'undefined' && typeof theme.beforeAnimation == "function") theme.beforeAnimation('prev');

            //Update slide markers
            if (base.options.slide_links) {
                $('.current-slide').removeClass('current-slide');
                $(vars.slide_list + '> li').eq(vars.current_slide).addClass('current-slide');
            }

            nextslide.css('visibility', 'hidden').addClass('activeslide');	// Update active slide

            switch (base.options.transition) {
                case 0: case 'none':	// No transition
                    nextslide.css('visibility', 'visible'); vars.in_animation = false; base.afterAnimation();
                    break;
                case 1: case 'fade':	// Fade
                    nextslide.css({ opacity: 0, 'visibility': 'visible' }).animate({ opacity: 1, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 2: case 'slideTop':	// Slide Top (reverse)
                    nextslide.css({ top: base.$el.height(), 'visibility': 'visible' }).animate({ top: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 3: case 'slideRight':	// Slide Right (reverse)
                    nextslide.css({ left: -base.$el.width(), 'visibility': 'visible' }).animate({ left: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 4: case 'slideBottom': // Slide Bottom (reverse)
                    nextslide.css({ top: -base.$el.height(), 'visibility': 'visible' }).animate({ top: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 5: case 'slideLeft':  // Slide Left (reverse)
                    nextslide.css({ left: base.$el.width(), 'visibility': 'visible' }).animate({ left: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    break;
                case 6: case 'carouselRight':	// Carousel Right (reverse)
                    nextslide.css({ left: -base.$el.width(), 'visibility': 'visible' }).animate({ left: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    liveslide.css({ left: 0 }).animate({ left: base.$el.width(), avoidTransforms: false }, base.options.transition_speed);
                    break;
                case 7: case 'carouselLeft':   // Carousel Left (reverse)
                    nextslide.css({ left: base.$el.width(), 'visibility': 'visible' }).animate({ left: 0, avoidTransforms: false }, base.options.transition_speed, function () { base.afterAnimation(); });
                    liveslide.css({ left: 0 }).animate({ left: -base.$el.width(), avoidTransforms: false }, base.options.transition_speed);
                    break;
            }
            return false;
        };


        /* Play/Pause Toggle
		----------------------------*/
        base.playToggle = function () {

            if (vars.in_animation || !api.options.slideshow) return false;		// Abort if currently animating

            if (vars.is_paused) {

                vars.is_paused = false;

                // Call theme function for play
                if (typeof theme != 'undefined' && typeof theme.playToggle == "function") theme.playToggle('play');

                // Resume slideshow
                vars.slideshow_interval = setInterval(base.nextSlide, base.options.slide_interval);

            } else {

                vars.is_paused = true;

                // Call theme function for pause
                if (typeof theme != 'undefined' && typeof theme.playToggle == "function") theme.playToggle('pause');

                // Stop slideshow
                clearInterval(vars.slideshow_interval);

            }

            return false;

        };


        /* Go to specific slide
		----------------------------*/
        base.goTo = function (targetSlide) {
            if (vars.in_animation || !api.options.slideshow) return false;		// Abort if currently animating

            var totalSlides = base.options.slides.length;

            // If target outside range
            if (targetSlide < 0) {
                targetSlide = totalSlides;
            } else if (targetSlide > totalSlides) {
                targetSlide = 1;
            }
            targetSlide = totalSlides - targetSlide + 1;

            //if (top.onPlayerGoto)
            //{
            //    top.onPlayerGoto(targetSlide);
            //}
            clearInterval(vars.slideshow_interval);	// Stop slideshow, prevent buildup

            // Call theme function for goTo trigger
            if (typeof theme != 'undefined' && typeof theme.goTo == "function") theme.goTo();

            if (vars.current_slide == totalSlides - targetSlide) {
                if (!(vars.is_paused)) {
                    vars.slideshow_interval = setInterval(base.nextSlide, base.options.slide_interval);
                }
                return false;
            }

            // If ahead of current position
            if (totalSlides - targetSlide > vars.current_slide) {

                // Adjust for new next slide
                vars.current_slide = totalSlides - targetSlide - 1;
                vars.update_images = 'next';
                base._placeSlide(vars.update_images);

                //Otherwise it's before current position
            } else if (totalSlides - targetSlide < vars.current_slide) {

                // Adjust for new prev slide
                vars.current_slide = totalSlides - targetSlide + 1;
                vars.update_images = 'prev';
                base._placeSlide(vars.update_images);

            }

            // set active markers
            if (base.options.slide_links) {
                $(vars.slide_list + '> .current-slide').removeClass('current-slide');
                $(vars.slide_list + '> li').eq((totalSlides - targetSlide)).addClass('current-slide');
            }

            if (base.options.thumb_links) {
                $(vars.thumb_list + '> .current-thumb').removeClass('current-thumb');
                $(vars.thumb_list + '> li').eq((totalSlides - targetSlide)).addClass('current-thumb');
            }

        };


        /* Place Slide
		----------------------------*/
        base._placeSlide = function (place) {

            // If links should open in new window
            var linkTarget = base.options.new_window ? ' target="_blank"' : '';

            loadSlide = false;

            if (place == 'next') {

                vars.current_slide == base.options.slides.length - 1 ? loadSlide = 0 : loadSlide = vars.current_slide + 1;	// Determine next slide

                var targetList = base.el + ' li:eq(' + loadSlide + ')';

                if (!$(targetList).html()) {
                    // If links should open in new window
                    var linkTarget = base.options.new_window ? ' target="_blank"' : '';

                    imageLink = (base.options.slides[loadSlide].url) ? "href='" + base.options.slides[loadSlide].url + "'" : "";	// If link exists, build it
                    var img = $('<img src="' + base.options.slides[loadSlide].image + '"/>');

                    img.appendTo(targetList).wrap('<a ' + imageLink + linkTarget + '></a>').parent().parent().addClass('image-loading').css('visibility', 'hidden');

                    img.load(function () {
                        base._origDim($(this));
                        base.resizeNow();
                    });	// End Load
                };

                base.nextSlide();

            } else if (place == 'prev') {

                vars.current_slide - 1 < 0 ? loadSlide = base.options.slides.length - 1 : loadSlide = vars.current_slide - 1;	// Determine next slide

                var targetList = base.el + ' li:eq(' + loadSlide + ')';

                if (!$(targetList).html()) {
                    // If links should open in new window
                    var linkTarget = base.options.new_window ? ' target="_blank"' : '';

                    imageLink = (base.options.slides[loadSlide].url) ? "href='" + base.options.slides[loadSlide].url + "'" : "";	// If link exists, build it
                    var img = $('<img src="' + base.options.slides[loadSlide].image + '"/>');

                    img.appendTo(targetList).wrap('<a ' + imageLink + linkTarget + '></a>').parent().parent().addClass('image-loading').css('visibility', 'hidden');

                    img.load(function () {
                        base._origDim($(this));
                        base.resizeNow();
                    });	// End Load
                };
                base.prevSlide();
            }

        };


        /* Get Original Dimensions
		----------------------------*/
        base._origDim = function (targetSlide) {
            var targetSlideWidth = targetSlide[0].width;
            var targetSlideHeight = targetSlide[0].height
            //added by brad yang on 2016-4-5, it is used to fix can't get $(XXX).width can not get valid value, but $(XXX)[0].width can work. maybe jquery object delay.
            targetSlide.data('origWidth', targetSlideWidth).data('origHeight', targetSlideHeight);
        };


        /* After Slide Animation
		----------------------------*/
        base.afterAnimation = function () {

            // If hybrid mode is on swap back to higher image quality
            if (base.options.performance == 1) {
                base.$el.removeClass('speed').addClass('quality');
            }

            // Update previous slide
            if (vars.update_images) {
                vars.current_slide - 1 < 0 ? setPrev = base.options.slides.length - 1 : setPrev = vars.current_slide - 1;
                vars.update_images = false;
                $('.prevslide').removeClass('prevslide');
                $(base.el + ' li:eq(' + setPrev + ')').addClass('prevslide');
            }

            vars.in_animation = false;

            // Resume slideshow
            if (!vars.is_paused && base.options.slideshow) {
                vars.slideshow_interval = setInterval(base.nextSlide, base.options.slide_interval);
                if (base.options.stop_loop && vars.current_slide == base.options.slides.length - 1) base.playToggle();
            }

            // Call theme function for after slide transition
            if (typeof theme != 'undefined' && typeof theme.afterAnimation == "function") theme.afterAnimation();

            return false;

        };

        base.getField = function (field) {
            return base.options.slides[vars.current_slide] && base.options.slides[vars.current_slide][field];
        };

        // Make it go!
        base.init();
    };


    /* Global Variables
	----------------------------*/
    $.supersized.vars = {

        // Elements							
        thumb_tray: '#thumb-tray',	// Thumbnail tray
        thumb_list: '#thumb-list',	// Thumbnail list
        slide_list: '#slide-list',	// Slide link list

        // Internal variables
        current_slide: 0,			// Current slide number
        in_animation: false,		// Prevents animations from stacking
        is_paused: true,		// Tracks paused on/off
        hover_pause: false,		// If slideshow is paused from hover
        slideshow_interval: false,		// Stores slideshow timer					
        update_images: false,		// Trigger to update images after slide jump
        options: {}			// Stores assembled options list

    };


    /* Default Options
	----------------------------*/
    $.supersized.defaultOptions = {

        // Functionality
        slideshow: 1,			// Slideshow on/off
        autoplay: 1,			// Slideshow starts playing automatically
        start_slide: 1,			// Start slide (0 is random)
        stop_loop: 0,			// Stops slideshow on last slide
        random: 0,			// Randomize slide order (Ignores start slide)
        slide_interval: 5000,		// Length between transitions
        transition: 1, 			// 0-None, 1-Fade, 2-Slide Top, 3-Slide Right, 4-Slide Bottom, 5-Slide Left, 6-Carousel Right, 7-Carousel Left
        transition_speed: 750,		// Speed of transition
        new_window: 1,			// Image links open in new window/tab
        pause_hover: 0,			// Pause slideshow on hover
        keyboard_nav: 1,			// Keyboard navigation on/off
        performance: 1,			// 0-Normal, 1-Hybrid speed/quality, 2-Optimizes image quality, 3-Optimizes transition speed //  (Only works for Firefox/IE, not Webkit)
        image_protect: 1,			// Disables image dragging and right click with Javascript

        // Size & Position
        fit_always: 0,			// Image will never exceed browser width or height (Ignores min. dimensions)
        fit_landscape: 0,			// Landscape images will not exceed browser width
        fit_portrait: 1,			// Portrait images will not exceed browser height  			   
        min_width: 0,			// Min width allowed (in pixels)
        min_height: 0,			// Min height allowed (in pixels)
        horizontal_center: 1,			// Horizontally center background
        vertical_center: 1,			// Vertically center background


        // Components							
        slide_links: 1,			// Individual links for each slide (Options: false, 'num', 'name', 'blank')
        thumb_links: 1,			// Individual thumb links for each slide
        thumbnail_navigation: 0			// Thumbnail navigation

    };

    $.fn.supersized = function (options) {
        return this.each(function () {
            (new $.supersized(options));
        });
    };

})(jQuery);
 
 /*

	Supersized - Fullscreen Slideshow jQuery Plugin
	Version : 3.2.7
	Theme 	: Shutter 1.1
	
	Site	: www.buildinternet.com/project/supersized
	Author	: Sam Dunn
	Company : One Mighty Roar (www.onemightyroar.com)
	License : MIT License / GPL License

*/
var _isThubTrayOpen = true;

(function ($) {
    theme = {
	 	
	 	/* Initial Placement
		----------------------------*/
	 	_init : function(){
	 		
	 		// Center Slide Links
	 		if (api.options.slide_links) $(vars.slide_list).css('margin-left', -$(vars.slide_list).width()/2);
	 		
			// Start progressbar if autoplay enabled
    		if (api.options.autoplay){
    			if (api.options.progress_bar) theme.progressBar();
			}else{
				if ($(vars.play_button).attr('src')) $(vars.play_button).attr("src", vars.image_path + "play.png");	// If pause play button is image, swap src
				if (api.options.progress_bar) $(vars.progress_bar).stop().css({left : -$(window).width()});	//  Place progress bar
			}
						
			$("#supersized").click(function () {
			    if (_isThubTrayOpen) {
			        $(vars.thumb_tray).stop().animate({ bottom: -$(vars.thumb_tray).height(), avoidTransforms: true }, 300);
			        _isThubTrayOpen = false;
			    }
			    else {
			        $(vars.thumb_tray).stop().animate({ bottom: 0, avoidTransforms: true }, 300);
			        _isThubTrayOpen = true;
			    }
			});
			
			// Make thumb tray proper size
			$(vars.thumb_list).width($('> li', vars.thumb_list).length * $('> li', vars.thumb_list).outerWidth(true));	//Adjust to true width of thumb markers
			// Display total slides
			if ($(vars.slide_total).length){
				$(vars.slide_total).html(api.options.slides.length);
			}
			
			/* Thumbnail Tray Navigation
			----------------------------*/	
			if (api.options.thumb_links){
				//Hide thumb arrows if not needed
				if ($(vars.thumb_list).width() <= $(vars.thumb_tray).width()){
					$(vars.thumb_back +','+vars.thumb_forward).fadeOut(0);
				}
				
				// Thumb Intervals
        		vars.thumb_interval = Math.floor($(vars.thumb_tray).width() / $('> li', vars.thumb_list).outerWidth(true)) * $('> li', vars.thumb_list).outerWidth(true);
        		vars.thumb_page = 0;
        		
        		// Cycle thumbs forward
        		$(vars.thumb_forward).click(function(){
        			if (vars.thumb_page - vars.thumb_interval <= -$(vars.thumb_list).width()){
        				vars.thumb_page = 0;
        				$(vars.thumb_list).stop().animate({'left': vars.thumb_page}, {duration:500, easing:'easeOutExpo'});
        			}else{
        				vars.thumb_page = vars.thumb_page - vars.thumb_interval;
        				$(vars.thumb_list).stop().animate({'left': vars.thumb_page}, {duration:500, easing:'easeOutExpo'});
        			}
        		});
        		
        		// Cycle thumbs backwards
        		$(vars.thumb_back).click(function(){
        			if (vars.thumb_page + vars.thumb_interval > 0){
        				vars.thumb_page = Math.floor($(vars.thumb_list).width() / vars.thumb_interval) * -vars.thumb_interval;
        				if ($(vars.thumb_list).width() <= -vars.thumb_page) vars.thumb_page = vars.thumb_page + vars.thumb_interval;
        				$(vars.thumb_list).stop().animate({'left': vars.thumb_page}, {duration:500, easing:'easeOutExpo'});
					}else{
        				vars.thumb_page = vars.thumb_page + vars.thumb_interval;
        				$(vars.thumb_list).stop().animate({'left': vars.thumb_page}, {duration:500, easing:'easeOutExpo'});
        			}
        		});
				
			}

			
			
			/* Navigation Items
			----------------------------*/
		    $(vars.next_slide).click(function() {
		    	api.nextSlide();
		    });
		    
		    $(vars.prev_slide).click(function() {
		    	api.prevSlide();
		    });
		    
		    	// Full Opacity on Hover
		    	if(jQuery.support.opacity){
			    	$(vars.prev_slide +','+vars.next_slide).mouseover(function() {
					   $(this).stop().animate({opacity:1},100);
					}).mouseout(function(){
					   $(this).stop().animate({opacity:0.6},100);
					});
				}
			
			if (api.options.thumbnail_navigation){
				// Next thumbnail clicked
				$(vars.next_thumb).click(function() {
			    	api.nextSlide();
			    });
			    // Previous thumbnail clicked
			    $(vars.prev_thumb).click(function() {
			    	api.prevSlide();
			    });
			}
			
		    $(vars.play_button).click(function() {
				api.playToggle();						    
		    });
			
			
			/* Thumbnail Mouse Scrub
			----------------------------*/
    		if (api.options.mouse_scrub){
				$(vars.thumb_tray).mousemove(function(e) {
					var containerWidth = $(vars.thumb_tray).width(),
						listWidth = $(vars.thumb_list).width();
					if (listWidth > containerWidth){
						var mousePos = 1,
							diff = e.pageX - mousePos;
						if (diff > 10 || diff < -10) { 
						    mousePos = e.pageX; 
						    newX = (containerWidth - listWidth) * (e.pageX/containerWidth);
						    diff = parseInt(Math.abs(parseInt($(vars.thumb_list).css('left'))-newX )).toFixed(0);
						    $(vars.thumb_list).stop().animate({'left':newX}, {duration:diff*3, easing:'easeOutExpo'});
						}
					}
				});
			}
			
			
			/* Window Resize
			----------------------------*/
			$(window).resize(function(){
				
				// Delay progress bar on resize
				if (api.options.progress_bar && !vars.in_animation){
					if (vars.slideshow_interval) clearInterval(vars.slideshow_interval);
					if (api.options.slides.length - 1 > 0) clearInterval(vars.slideshow_interval);
					
					$(vars.progress_bar).stop().css({left : -$(window).width()});
					
					if (!vars.progressDelay && api.options.slideshow){
						// Delay slideshow from resuming so Chrome can refocus images
						vars.progressDelay = setTimeout(function() {
								if (!vars.is_paused){
									theme.progressBar();
									vars.slideshow_interval = setInterval(api.nextSlide, api.options.slide_interval);
								}
								vars.progressDelay = false;
						}, 1000);
					}
				}
				
				// Thumb Links
				if (api.options.thumb_links && vars.thumb_tray.length){
					// Update Thumb Interval & Page
					vars.thumb_page = 0;	
					vars.thumb_interval = Math.floor($(vars.thumb_tray).width() / $('> li', vars.thumb_list).outerWidth(true)) * $('> li', vars.thumb_list).outerWidth(true);
					
					// Adjust thumbnail markers
					if ($(vars.thumb_list).width() > $(vars.thumb_tray).width()){
						$(vars.thumb_back +','+vars.thumb_forward).fadeIn('fast');
						$(vars.thumb_list).stop().animate({'left':0}, 200);
					}else{
						$(vars.thumb_back +','+vars.thumb_forward).fadeOut('fast');
					}
					
				}
			});	
								
	 	},
	 	
	 	
	 	/* Go To Slide
		----------------------------*/
	 	goTo : function(){
	 		if (api.options.progress_bar && !vars.is_paused){
				$(vars.progress_bar).stop().css({left : -$(window).width()});
				theme.progressBar();
			}
		},
	 	
	 	/* Play & Pause Toggle
		----------------------------*/
	 	playToggle : function(state){
	 		
	 		if (state =='play'){
	 			// If image, swap to pause
	 			if ($(vars.play_button).attr('src')) $(vars.play_button).attr("src", vars.image_path + "pause.png");
				if (api.options.progress_bar && !vars.is_paused) theme.progressBar();
	 		}else if (state == 'pause'){
	 			// If image, swap to play
	 			if ($(vars.play_button).attr('src')) $(vars.play_button).attr("src", vars.image_path + "play.png");
        		if (api.options.progress_bar && vars.is_paused)$(vars.progress_bar).stop().css({left : -$(window).width()});
	 		}
	 		
	 	},
	 	
	 	
	 	/* Before Slide Transition
		----------------------------*/
	 	beforeAnimation : function(direction){
		    if (api.options.progress_bar && !vars.is_paused) $(vars.progress_bar).stop().css({left : -$(window).width()});
		  	
		  	/* Update Fields
		  	----------------------------*/
		  	// Update slide caption
		   	if ($(vars.slide_caption).length){
		   		(api.getField('title')) ? $(vars.slide_caption).html(api.getField('title')) : $(vars.slide_caption).html('');
		   	}
		    // Update slide number
			if (vars.slide_current.length){
			    $(vars.slide_current).html(vars.current_slide + 1);
			}
		    
		    
		    // Highlight current thumbnail and adjust row position
		    if (api.options.thumb_links){
		    
				$('.current-thumb').removeClass('current-thumb');
				$('li', vars.thumb_list).eq(vars.current_slide).addClass('current-thumb');
				
				// If thumb out of view
				if ($(vars.thumb_list).width() > $(vars.thumb_tray).width()){
				    // If next slide direction

					if (direction == 'next'){
						if (vars.current_slide == 0){
							vars.thumb_page = 0;
							$(vars.thumb_list).stop().animate({'left': vars.thumb_page}, {duration:500, easing:'easeOutExpo'});
						} else if ($('.current-thumb').offset().left - $(vars.thumb_tray).offset().left >= vars.thumb_interval){
	        				vars.thumb_page = vars.thumb_page - vars.thumb_interval;
	        				$(vars.thumb_list).stop().animate({'left': vars.thumb_page}, {duration:500, easing:'easeOutExpo'});
						}
					// If previous slide direction
					}else if(direction == 'prev'){
						if (vars.current_slide == api.options.slides.length - 1){
							vars.thumb_page = Math.floor($(vars.thumb_list).width() / vars.thumb_interval) * -vars.thumb_interval;
							if ($(vars.thumb_list).width() <= -vars.thumb_page) vars.thumb_page = vars.thumb_page + vars.thumb_interval;
							$(vars.thumb_list).stop().animate({'left': vars.thumb_page}, {duration:500, easing:'easeOutExpo'});
						} else if ($('.current-thumb').offset().left - $(vars.thumb_tray).offset().left < 0){
							if (vars.thumb_page + vars.thumb_interval > 0) return false;
	        				vars.thumb_page = vars.thumb_page + vars.thumb_interval;
	        				$(vars.thumb_list).stop().animate({'left': vars.thumb_page}, {duration:500, easing:'easeOutExpo'});
						}
					}
				}
				
				
			}
		    
	 	},
	 	
	 	
	 	/* After Slide Transition
		----------------------------*/
	 	afterAnimation : function(){
	 	    if (api.options.progress_bar && !vars.is_paused) theme.progressBar();	//  Start progress bar
	 	},
	 	
	 	
	 	/* Progress Bar
		----------------------------*/
		progressBar : function(){
    		$(vars.progress_bar).stop().css({left : -$(window).width()}).animate({ left:0 }, api.options.slide_interval);
		}


	 	
	 
	 };
	 
	 
	 /* Theme Specific Variables
	 ----------------------------*/
	 $.supersized.themeVars = {
	 	
	 	// Internal Variables
		progress_delay		:	false,				// Delay after resize before resuming slideshow
		thumb_page 			: 	false,				// Thumbnail page
		thumb_interval 		: 	false,				// Thumbnail interval
		image_path			:	'img/',				// Default image path
													
		// General Elements							
		play_button			:	'#pauseplay',		// Play/Pause button
		next_slide			:	'#nextslide',		// Next slide button
		prev_slide			:	'#prevslide',		// Prev slide button
		next_thumb			:	'#nextthumb',		// Next slide thumb button
		prev_thumb			:	'#prevthumb',		// Prev slide thumb button
		
		slide_caption		:	'#slidecaption',	// Slide caption
		slide_current		:	'.slidenumber',		// Current slide number
		slide_total			:	'.totalslides',		// Total Slides
		slide_list			:	'#slide-list',		// Slide jump list							
		
		thumb_tray			:	'#thumb-tray',		// Thumbnail tray
		thumb_list			:	'#thumb-list',		// Thumbnail list
		thumb_forward		:	'#thumb-forward',	// Cycles forward through thumbnail list
		thumb_back			:	'#thumb-back',		// Cycles backwards through thumbnail list
		tray_arrow			:	'#tray-arrow',		// Thumbnail tray button arrow
		tray_button			:	'#tray-button',		// Thumbnail tray button
		
		progress_bar		:	'#progress-bar'		// Progress bar
	 												
	 };												
	
	 /* Theme Specific Options
	 ----------------------------*/												
	 $.supersized.themeOptions = {					
	 						   
		progress_bar		:	1,		// Timer for each slide											
		mouse_scrub			:	0		// Thumbnails move with mouse
		
	 };
	
})(jQuery);

/*! ngstorage 0.3.4 | Copyright (c) 2015 Gias Kay Lee | MIT License */
!function(a,b){"use strict";return"function"==typeof define&&define.amd?void define("ngStorage",["angular"],function(a){return b(a)}):b(a)}("undefined"==typeof angular?null:angular,function(a){"use strict";function b(b){return["$rootScope","$window","$log","$timeout",function(c,d,e,f){function g(a){var b=d[a];if(b&&"localStorage"===a){var c="__"+Math.round(1e7*Math.random());try{localStorage.setItem(c,c),localStorage.removeItem(c)}catch(e){b=!1}}return b}var h,i,j=g(b)||(e.warn("This browser does not support Web Storage!"),{setItem:function(){},getItem:function(){}}),k={$default:function(b){for(var c in b)a.isDefined(k[c])||(k[c]=b[c]);return k},$reset:function(a){for(var b in k)"$"===b[0]||delete k[b];return k.$default(a)}};try{j=d[b],j.length}catch(l){e.warn("This browser does not support Web Storage!"),j={}}for(var m,n=0,o=j.length;o>n;n++)(m=j.key(n))&&"ngStorage-"===m.slice(0,10)&&(k[m.slice(10)]=a.fromJson(j.getItem(m)));return h=a.copy(k),c.$watch(function(){var b;i||(i=f(function(){if(i=null,!a.equals(k,h)){b=a.copy(h),a.forEach(k,function(c,d){a.isDefined(c)&&"$"!==d[0]&&j.setItem("ngStorage-"+d,a.toJson(c)),delete b[d]});for(var c in b)j.removeItem("ngStorage-"+c);h=a.copy(k)}},100,!1))}),"localStorage"===b&&d.addEventListener&&d.addEventListener("storage",function(b){"ngStorage-"===b.key.slice(0,10)&&(b.newValue?k[b.key.slice(10)]=a.fromJson(b.newValue):delete k[b.key.slice(10)],h=a.copy(k),c.$apply())}),k}]}a.module("ngStorage",[]).factory("$localStorage",b("localStorage")).factory("$sessionStorage",b("sessionStorage"))});

/*
salesforce-metadata.js v0.1.0
Copyright (c) 2012 Yuta Minowa
Licensed under the MIT license
https://github.com/mino0123/salesforce-metadata.js/LICENSE
*/
/*jslint nomen: true */
/*global sforce */
(function () {
    "use strict";

    if (typeof sforce === "undefined" || !sforce.Connection) {
        throw new Error("connection.js not loaded.");
    }

    sforce.MetadataConnection = function () {};

    sforce.MetadataConnection.prototype = new sforce.Connection();

    sforce.MetadataConnection.prototype.metadataNs = "http://soap.sforce.com/2006/04/metadata";
    sforce.MetadataConnection.prototype.metadataNsPrefix = "m";
    sforce.MetadataConnection.prototype.xsiNs = "http://www.w3.org/2001/XMLSchema-instance";

    sforce.MetadataConnection.prototype.create = function (metadataArray, callback) {
        var arg = new sforce.internal.Parameter("metadata", metadataArray, true);
        return this._invoke("create", [arg], true, callback);
    };

    sforce.MetadataConnection.prototype.update = function (metadataArray, callback) {
        var arg = new sforce.internal.Parameter("updateMetadata", metadataArray, true);
        return this._invoke("update", [arg], true, callback);
    };

    sforce.MetadataConnection.prototype.deleteMetadata = function (metadataArray, callback) {
        var arg = new sforce.internal.Parameter("metadata", metadataArray, true);
        return this._invoke("delete", [arg], true, callback);
    };

    sforce.MetadataConnection.prototype.checkStatus = function (asyncIds, callback) {
        var arg = new sforce.internal.Parameter("asyncProcessId", asyncIds, true);
        return this._invoke("checkStatus", [arg], true, callback);
    };

    sforce.MetadataConnection.prototype.describeMetadata = function (version, callback) {
        var arg = new sforce.internal.Parameter("asOfVersion", version, false);
        return this._invoke("describeMetadata", [arg], false, callback);
    };

    sforce.MetadataConnection.prototype.listMetadata = function (request, callback) {
        var args, queries, asOfVersion;
        args = [];
        queries = request.queries.map(function (q) {
            var xml = new sforce.Xml();
            xml._xsiType = "queries";
            xml.type = q.type;
            xml.folder = q.folder;
            return xml;
        });
        args.push(new sforce.internal.Parameter("queries", queries, true));
        asOfVersion = request.asOfVersion;
        if (typeof asOfVersion === "number") {
            args.push(new sforce.internal.Parameter("asOfVersion", asOfVersion, false));
        }
        return this._invoke("listMetadata", args, true, callback);
    };

    sforce.MetadataConnection.prototype.retrieve = function (req, callback) {
        var arg = new sforce.internal.Parameter("retrieveRequest", req, false);
        return this._invoke("retrieve", [arg], false, callback);
    };

    sforce.MetadataConnection.prototype.checkRetrieveStatus = function (asyncId, callback) {
        var arg = new sforce.internal.Parameter("asyncProcessId", asyncId, false);
        return this._invoke("checkRetrieveStatus", [arg], false, callback);
    };

    sforce.MetadataConnection.prototype.deploy = function (req, callback) {
        var args = [];
        args.push(new sforce.internal.Parameter("zipFile", req.zipFile, false));
        if (req.deployOptions) {
            args.push(new sforce.internal.Parameter("deployOptions", req.deployOptions, false));
        }
        return this._invoke("deploy", args, false, callback);
    };

    sforce.MetadataConnection.prototype.checkDeployStatus = function (asyncId, callback) {
        var arg = new sforce.internal.Parameter("asyncProcessId", asyncId, false);
        return this._invoke("checkDeployStatus", [arg], false, callback);
    };

    sforce.MetadataConnection.prototype.startEnvelope = function (w) {
        w.startEnvelope();
        w.writeNamespace(this.xsiNs, "xsi");
        w.writeNamespace(this.metadataNs, this.metadataNsPrefix);
        w.writeNamespace(this.sforceNs, "p");
    };

    sforce.MetadataConnection.prototype.writeHeader = function (w, ns) {
        var soapNS = sforce.XmlWriter.prototype.soapNS;
        w.writeStartElement("Header", soapNS);
        w.writeStartElement("SessionHeader", this.metadataNs);
        w.writeStartElement("sessionId", this.sforceNs);
        w.writeText(this.sessionId);
        w.writeEndElement("sessionId", this.sforceNs);
        w.writeEndElement("SessionHeader", this.metadataNs);
        w.writeEndElement("Header", soapNS);
    };

    sforce.MetadataConnection.prototype._invoke = function (method, args, isArray, callback) {
        this.validateCallback(callback);

        var writer = new sforce.XmlWriter(),
            transport;
        this.startEnvelope(writer);
        this.writeHeader(writer, this.metadataNs);

        writer.startBody();
        writer.writeStartElement(method, this.metadataNs);

        this.validateArgs(args);
        this.writeArguments(writer, args, this.metadataNs);

        writer.writeEndElement(method, this.metadataNs);
        writer.endBody();
        writer.endEnvelope();

        transport = new sforce.SoapTransport();
        return transport.send(this.serverUrl, writer, isArray, callback);
    };

    sforce.MetadataConnection.prototype.validateCallback = function (callback) {
        if (callback) {
            if (typeof callback !== "function") {
                if (!callback.onSuccess) {
                    throw new Error("onSuccess not defined in the callback");
                }
                if (!callback.onFailure) {
                    throw new Error("onFailure not defined in the callback");
                }
            }
        }
    };

    sforce.MetadataConnection.prototype.validateArgs = function (args) {
        var i,
            len = args.length,
            arg,
            isArray,
            name,
            value,
            valueIsArray;
        for (i = 0; i < len; i += 1) {
            arg = args[i];
            isArray = arg.isArray;
            name = arg.name;
            value = arg.value;
            valueIsArray = Array.isArray(value);
            if (value !== null) {
                if (isArray && !valueIsArray) {
                    throw new Error("arg " + i + " '" + name + "' is an array. But passed in value is not an array");
                }
                if (!isArray && valueIsArray) {
                    throw new Error("arg " + i + " '" + name + "' is not an array. But passed in value is an array");
                }
            }
        }
    };

    sforce.MetadataConnection.prototype.writeArguments = function (writer, args, namespace) {
        var i, len, arg, name, value;
        len = args.length;
        for (i = 0; i < len; i += 1) {
            arg = args[i];
            name = arg.name;
            value = arg.value;
            if (value === null) {
                this.writeOne(writer, name, null, namespace);
            } else if (Array.isArray(value)) {
                this.writeArrayArgument(writer, name, value, namespace);
            } else {
                this.writeOne(writer, name, value, namespace);
            }
        }
    };

    sforce.MetadataConnection.prototype.writeArrayArgument = function (writer, name, arr, namespace) {
        var i, len, obj;
        len = arr.length;
        for (i = 0; i < len; i += 1) {
            obj = arr[i];
            if (!obj) {
                throw new Error("Array element at " + i + " is null.");
            }
            this.writeOne(writer, name, obj, namespace);
        }
    };


    sforce.Metadata = function (type) {
        this._xsiType = type;
    };

    sforce.Metadata.prototype = new sforce.Xml();

    sforce.Metadata.prototype.toXml = function (sobjectNs, name, writer) {
        writer.writeStartElement(name, sobjectNs);
        if (this._xsiType) {
            writer.writeXsiType(sforce.MetadataConnection.prototype.metadataNsPrefix + ":" + this._xsiType);
        }
        this.writeObject(null, this, writer);
        writer.writeEndElement(name, sobjectNs);
    };

    sforce.Metadata.prototype.writeValue = function (name, obj, writer) {
        if (obj === null) {
            writer.writeNameValueNode(name, null);
        } else if (obj instanceof sforce.Base64Binary) {
            this.writeString(name, obj.toString(), writer);
        } else if (Array.isArray(obj)) {
            this.writeArray(name, obj, writer);
        } else if (typeof obj === "object") {
            this.writeObject(name, obj, writer);
        } else {
            this.writeString(name, obj, writer);
        }
    };

    sforce.Metadata.prototype.writeObject = function (name, obj, writer) {
        var keys, len, i, k, v;
        keys = this.getKeys(obj);
        len = keys.length;
        if (name) {
            writer.writeStartElement(name);
        }
        for (i = 0; i < len; i += 1) {
            k = keys[i];
            v = obj[k];
            this.writeValue(k, v, writer);
        }
        if (name) {
            writer.writeEndElement(name);
        }
    };

    sforce.Metadata.prototype.writeArray = function (name, arr, writer) {
        var len, i;
        len = arr.length;
        for (i = 0; i < len; i += 1) {
            this.writeValue(name, arr[i], writer);
        }
    };

    sforce.Metadata.prototype.writeString = function (name, value, writer) {
        writer.writeStartElement(name);
        writer.writeText(value);
        writer.writeEndElement(name);
    };

    sforce.Metadata.prototype.getKeys = function (obj) {
        function isNotMetaProperty(name) {
            return name.indexOf("_") !== 0;
        }
        function isNotFunction(name) {
            return typeof obj[name] !== "function";
        }
        var keys = Object.keys(obj);
        return keys.filter(isNotMetaProperty).filter(isNotFunction);
    };


    sforce.UpdateMetadata = function (metadata) {
        this.metadata = metadata;
    };
    sforce.UpdateMetadata.prototype = new sforce.Xml();
    sforce.UpdateMetadata.prototype._xsiType = "UpdateMetadata";

    sforce.RetrieveRequest = function () {};
    sforce.RetrieveRequest.prototype = new sforce.Metadata("RetrieveRequest");

    sforce.DeployRequest = function () {};
    sforce.DeployRequest.prototype = new sforce.Metadata("DeployRequest");


    sforce.Package = function (opt_obj) {
        opt_obj = opt_obj || {};
        this.types = opt_obj.types || [];
        this.version = opt_obj.version || null;
    };
    sforce.Package.prototype = new sforce.Metadata();
    sforce.Package.prototype._toXml = sforce.Package.prototype.toXml;
    sforce.Package.prototype.toXml = function () {
        var w;
        w = new sforce.XmlWriter();
        this._toXml(null, "Package", w);
        return w.toString();
    };
    sforce.Package.toXml = function (obj) {
        return new sforce.Package(obj).toXml();
    };

    sforce.MetaXml = function (_metadataType) {
        this._metadataType = _metadataType;
    };
    sforce.MetaXml.prototype = new sforce.Metadata();
    sforce.MetaXml.prototype._toXml = sforce.MetaXml.prototype.toXml;
    sforce.MetaXml.prototype.toXml = function () {
        var w;
        w = new sforce.XmlWriter();
        this._toXml(null, this._metadataType, w);
        return w.toString();
    };
    sforce.MetaXml.getKeys = sforce.MetaXml.prototype.getKeys;
    sforce.MetaXml.toXml = function (obj) {
        var m, keys, i, len, k;
        m = new sforce.MetaXml(obj._metadataType);
        keys = this.getKeys(obj);
        len = keys.length;
        for (i = 0; i < len; i += 1) {
            k = keys[i];
            m[k] = obj[k];
        }
        return m.toXml();
    };


    sforce.metadata = new sforce.MetadataConnection();
    sforce.metadata.serverUrl = "/services/Soap/m/27.0";
    sforce.metadata.sessionId = sforce.connection.sessionId;


}());




/**

JSZip - A Javascript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2012 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See LICENSE.markdown.

Usage:
   zip = new JSZip();
   zip.file("hello.txt", "Hello, World!").add("tempfile", "nothing");
   zip.folder("images").file("smile.gif", base64Data, {base64: true});
   zip.file("Xmas.txt", "Ho ho ho !", {date : new Date("December 25, 2007 00:00:01")});
   zip.remove("tempfile");

   base64zip = zip.generate();

**/

/**
 * Representation a of zip file in js
 * @constructor
 * @param {String=} data the data to load, if any (optional).
 * @param {Object=} options the options for creating this objects (optional).
 */
var JSZip = function(data, options) {
   // object containing the files :
   // {
   //   "folder/" : {...},
   //   "folder/data.txt" : {...}
   // }
   this.files = {};

   // Where we are in the hierarchy
   this.root = "";

   if(data) {
      this.load(data, options);
   }
};

JSZip.signature = {
   LOCAL_FILE_HEADER : "\x50\x4b\x03\x04",
   CENTRAL_FILE_HEADER : "\x50\x4b\x01\x02",
   CENTRAL_DIRECTORY_END : "\x50\x4b\x05\x06",
   ZIP64_CENTRAL_DIRECTORY_LOCATOR : "\x50\x4b\x06\x07",
   ZIP64_CENTRAL_DIRECTORY_END : "\x50\x4b\x06\x06",
   DATA_DESCRIPTOR : "\x50\x4b\x07\x08"
};

// Default properties for a new file
JSZip.defaults = {
   base64: false,
   binary: false,
   dir: false,
   date: null
};


JSZip.prototype = (function ()
{
   /**
    * A simple object representing a file in the zip file.
    * @constructor
    * @param {string} name the name of the file
    * @param {string} data the data
    * @param {Object} options the options of the file
    */
   var ZipObject = function (name, data, options) {
      this.name = name;
      this.data = data;
      this.options = options;
   };

   ZipObject.prototype = {
      /**
       * Return the content as UTF8 string.
       * @return {string} the UTF8 string.
       */
      asText : function ()
      {
         return this.options.binary ? JSZip.prototype.utf8decode(this.data) : this.data;
      },
      /**
       * Returns the binary content.
       * @return {string} the content as binary.
       */
      asBinary : function ()
      {
         return this.options.binary ? this.data : JSZip.prototype.utf8encode(this.data);
      }
   };

   /**
    * Transform an integer into a string in hexadecimal.
    * @private
    * @param {number} dec the number to convert.
    * @param {number} bytes the number of bytes to generate.
    * @returns {string} the result.
    */
   var decToHex = function(dec, bytes) {
      var hex = "", i;
      for(i = 0; i < bytes; i++)
      {
         hex += String.fromCharCode(dec&0xff);
         dec=dec>>>8;
      }
      return hex;
   };

   /**
    * Merge the objects passed as parameters into a new one.
    * @private
    * @param {...Object} var_args All objects to merge.
    * @return {Object} a new object with the data of the others.
    */
   var extend = function () {
      var result = {}, i, attr;
      for (i = 0; i < arguments.length; i++) // arguments is not enumerable in some browsers
      {
         for (attr in arguments[i])
         {
            if(typeof result[attr] === "undefined")
            {
               result[attr] = arguments[i][attr];
            }
         }
      }
      return result;
   };

   /**
    * Transforms the (incomplete) options from the user into the complete
    * set of options to create a file.
    * @private
    * @param {Object} o the options from the user.
    * @return {Object} the complete set of options.
    */
   var prepareFileAttrs = function (o) {
      o = o || {};
      if (o.base64 === true && o.binary == null) {
         o.binary = true;
      }
      o = extend(o, JSZip.defaults);
      o.date = o.date || new Date();

      return o;
   };

  /**
   * Add a file in the current folder.
   * @private
   * @param {string} name the name of the file
   * @param {string} data the data of the file
   * @param {Object} o the options of the file
   * @return {Object} the new file.
   */
   var fileAdd = function (name, data, o) {
      // be sure sub folders exist
      var parent = parentFolder(name);
      if (parent) {
         folderAdd.call(this, parent);
      }

      o = prepareFileAttrs(o);

      return this.files[name] = {name: name, data: data, options:o};
   };


   /**
    * Find the parent folder of the path.
    * @private
    * @param {string} path the path to use
    * @return {string} the parent folder, or ""
    */
   var parentFolder = function (path) {
      if (path.slice(-1) == '/')
      {
         path = path.substring(0, path.length - 1);
      }
      var lastSlash = path.lastIndexOf('/');
      return (lastSlash > 0) ? path.substring(0, lastSlash) : "";
   };

   /**
    * Add a (sub) folder in the current folder.
    * @private
    * @param {string} name the folder's name
    * @return {Object} the new folder.
    */
   var folderAdd = function (name) {
      // Check the name ends with a /
      if (name.slice(-1) != "/") {
         name += "/"; // IE doesn't like substr(-1)
      }

      // Does this folder already exist?
      if (!this.files[name])
      {
         // be sure sub folders exist
         var parent = parentFolder(name);
         if (parent) {
            folderAdd.call(this, parent);
         }

         fileAdd.call(this, name, '', {dir:true});
      }
      return this.files[name];
   };

   /**
    * Generate the data found in the local header of a zip file.
    * Do not create it now, as some parts are re-used later.
    * @private
    * @param {Object} file the file to use.
    * @param {string} utfEncodedFileName the file name, utf8 encoded.
    * @param {string} compressionType the compression to use.
    * @return {Object} an object containing header and compressedData.
    */
   var prepareLocalHeaderData = function(file, utfEncodedFileName, compressionType) {
      var useUTF8 = utfEncodedFileName !== file.name,
          data    = file.data,
          o       = file.options,
          dosTime,
          dosDate;

      // date
      // @see http://www.delorie.com/djgpp/doc/rbinter/it/52/13.html
      // @see http://www.delorie.com/djgpp/doc/rbinter/it/65/16.html
      // @see http://www.delorie.com/djgpp/doc/rbinter/it/66/16.html

      dosTime = o.date.getHours();
      dosTime = dosTime << 6;
      dosTime = dosTime | o.date.getMinutes();
      dosTime = dosTime << 5;
      dosTime = dosTime | o.date.getSeconds() / 2;

      dosDate = o.date.getFullYear() - 1980;
      dosDate = dosDate << 4;
      dosDate = dosDate | (o.date.getMonth() + 1);
      dosDate = dosDate << 5;
      dosDate = dosDate | o.date.getDate();

      if (o.base64 === true) {
         data = JSZipBase64.decode(data);
      }
      // decode UTF-8 strings if we are dealing with text data
      if(o.binary === false) {
         data = this.utf8encode(data);
      }


      var compression    = JSZip.compressions[compressionType];
      var compressedData = compression.compress(data);

      var header = "";

      // version needed to extract
      header += "\x0A\x00";
      // general purpose bit flag
      // set bit 11 if utf8
      header += useUTF8 ? "\x00\x08" : "\x00\x00";
      // compression method
      header += compression.magic;
      // last mod file time
      header += decToHex(dosTime, 2);
      // last mod file date
      header += decToHex(dosDate, 2);
      // crc-32
      header += decToHex(this.crc32(data), 4);
      // compressed size
      header += decToHex(compressedData.length, 4);
      // uncompressed size
      header += decToHex(data.length, 4);
      // file name length
      header += decToHex(utfEncodedFileName.length, 2);
      // extra field length
      header += "\x00\x00";

      return {
         header:header,
         compressedData:compressedData
      };
   };


   // return the actual prototype of JSZip
   return {
      /**
       * Read an existing zip and merge the data in the current JSZip object.
       * The implementation is in jszip-load.js, don't forget to include it.
       * @param {string} stream  The stream to load
       * @param {Object} options Options for loading the stream.
       *  options.base64 : is the stream in base64 ? default : false
       * @return {JSZip} the current JSZip object
       */
      load : function (stream, options)
      {
         throw new Error("Load method is not defined. Is the file jszip-load.js included ?");
      },

      /**
       * Filter nested files/folders with the specified function.
       * @param {Function} search the predicate to use :
       * function (relativePath, file) {...}
       * It takes 2 arguments : the relative path and the file.
       * @return {Array} An array of matching elements.
       */
      filter : function (search)
      {
         var result = [], filename, relativePath, file, fileClone;
         for (filename in this.files)
         {
            file = this.files[filename];
            // return a new object, don't let the user mess with our internal objects :)
            fileClone = new ZipObject(file.name, file.data, extend(file.options));
            relativePath = filename.slice(this.root.length, filename.length);
            if (filename.slice(0, this.root.length) === this.root && // the file is in the current root
                search(relativePath, fileClone)) // and the file matches the function
            {
               result.push(fileClone);
            }
         }
         return result;
      },

      /**
       * Add a file to the zip file, or search a file.
       * @param   {string|RegExp} name The name of the file to add (if data is defined),
       * the name of the file to find (if no data) or a regex to match files.
       * @param   {string} data  The file data, either raw or base64 encoded
       * @param   {Object} o     File options
       * @return  {JSZip|Object|Array} this JSZip object (when adding a file),
       * a file (when searching by string) or an array of files (when searching by regex).
       */
      file : function(name, data, o)
      {
         if (arguments.length === 1)
         {
            if (name instanceof RegExp)
            {
               var regexp = name;
               return this.filter(function(relativePath, file) {
                  return !file.options.dir && regexp.test(relativePath);
               });
            }
            else // text
            {
               return this.filter(function (relativePath, file) {
                  return !file.options.dir && relativePath === name;
               })[0]||null;
            }
         }
         else // more than one argument : we have data !
         {
            name = this.root+name;
            fileAdd.call(this, name, data, o);
         }
         return this;
      },

      /**
       * Add a directory to the zip file, or search.
       * @param   {String|RegExp} arg The name of the directory to add, or a regex to search folders.
       * @return  {JSZip} an object with the new directory as the root, or an array containing matching folders.
       */
      folder : function(arg)
      {
         if (!arg)
         {
            throw new Error("folder : wrong argument");
         }

         if (arg instanceof RegExp)
         {
            return this.filter(function(relativePath, file) {
               return file.options.dir && arg.test(relativePath);
            });
         }

         // else, name is a new folder
         var name = this.root + arg;
         var newFolder = folderAdd.call(this, name);

         // Allow chaining by returning a new object with this folder as the root
         var ret = this.clone();
         ret.root = newFolder.name;
         return ret;
      },

      /**
       * Delete a file, or a directory and all sub-files, from the zip
       * @param {string} name the name of the file to delete
       * @return {JSZip} this JSZip object
       */
      remove : function(name)
      {
         name = this.root + name;
         var file = this.files[name];
         if (!file)
         {
            // Look for any folders
            if (name.slice(-1) != "/") {
               name += "/";
            }
            file = this.files[name];
         }

         if (file)
         {
            if (!file.options.dir)
            {
               // file
               delete this.files[name];
            }
            else
            {
               // folder
               var kids = this.filter(function (relativePath, file) {
                  return file.name.slice(0, name.length) === name;
               });
               for (var i = 0; i < kids.length; i++)
               {
                  delete this.files[kids[i].name];
               }
            }
         }

         return this;
      },

      /**
       * Generate the complete zip file
       * @param {Object} options the options to generate the zip file :
       * - base64, true to generate base64.
       * - compression, "STORE" by default.
       * @return {string} the zip file
       */
      generate : function(options)
      {
         options = extend(options || {}, {
            base64 : true,
            compression : "STORE"
         });
         var compression = options.compression.toUpperCase();

         // The central directory, and files data
         var directory = [], files = [], fileOffset = 0;

         if (!JSZip.compressions[compression]) {
            throw compression + " is not a valid compression method !";
         }

         for (var name in this.files)
         {
            if( !this.files.hasOwnProperty(name) ) { continue; }

            var file = this.files[name];

            var utfEncodedFileName = this.utf8encode(file.name);

            var fileRecord = "",
            dirRecord = "",
            data = prepareLocalHeaderData.call(this, file, utfEncodedFileName, compression);
            fileRecord = JSZip.signature.LOCAL_FILE_HEADER + data.header + utfEncodedFileName + data.compressedData;

            dirRecord = JSZip.signature.CENTRAL_FILE_HEADER +
            // version made by (00: DOS)
            "\x14\x00" +
            // file header (common to file and central directory)
            data.header +
            // file comment length
            "\x00\x00" +
            // disk number start
            "\x00\x00" +
            // internal file attributes TODO
            "\x00\x00" +
            // external file attributes
            (this.files[name].dir===true?"\x10\x00\x00\x00":"\x00\x00\x00\x00")+
            // relative offset of local header
            decToHex(fileOffset, 4) +
            // file name
            utfEncodedFileName;

            fileOffset += fileRecord.length;

            files.push(fileRecord);
            directory.push(dirRecord);
         }

         var fileData = files.join("");
         var dirData = directory.join("");

         var dirEnd = "";

         // end of central dir signature
         dirEnd = JSZip.signature.CENTRAL_DIRECTORY_END +
         // number of this disk
         "\x00\x00" +
         // number of the disk with the start of the central directory
         "\x00\x00" +
         // total number of entries in the central directory on this disk
         decToHex(files.length, 2) +
         // total number of entries in the central directory
         decToHex(files.length, 2) +
         // size of the central directory   4 bytes
         decToHex(dirData.length, 4) +
         // offset of start of central directory with respect to the starting disk number
         decToHex(fileData.length, 4) +
         // .ZIP file comment length
         "\x00\x00";

         var zip = fileData + dirData + dirEnd;
         return (options.base64) ? JSZipBase64.encode(zip) : zip;
      },

      /**
       *
       *  Javascript crc32
       *  http://www.webtoolkit.info/
       *
       */
      crc32 : function(str, crc)
      {

         if (str === "" || typeof str === "undefined") {
            return 0;
         }

         var table = "00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";

         if (typeof(crc) == "undefined") { crc = 0; }
         var x = 0;
         var y = 0;

         crc = crc ^ (-1);
         for( var i = 0, iTop = str.length; i < iTop; i++ ) {
            y = ( crc ^ str.charCodeAt( i ) ) & 0xFF;
            x = "0x" + table.substr( y * 9, 8 );
            crc = ( crc >>> 8 ) ^ x;
         }

         return crc ^ (-1);

      },

      // Inspired by http://my.opera.com/GreyWyvern/blog/show.dml/1725165
      clone : function()
      {
         var newObj = new JSZip();
         for (var i in this)
         {
            if (typeof this[i] !== "function")
            {
               newObj[i] = this[i];
            }
         }
         return newObj;
      },


      /**
       * http://www.webtoolkit.info/javascript-utf8.html
       */
      utf8encode : function (string) {
         string = string.replace(/\r\n/g,"\n");
         var utftext = "";

         for (var n = 0; n < string.length; n++) {

            var c = string.charCodeAt(n);

            if (c < 128) {
               utftext += String.fromCharCode(c);
            }
            else if((c > 127) && (c < 2048)) {
               utftext += String.fromCharCode((c >> 6) | 192);
               utftext += String.fromCharCode((c & 63) | 128);
            }
            else {
               utftext += String.fromCharCode((c >> 12) | 224);
               utftext += String.fromCharCode(((c >> 6) & 63) | 128);
               utftext += String.fromCharCode((c & 63) | 128);
            }

         }

         return utftext;
      },

      /**
       * http://www.webtoolkit.info/javascript-utf8.html
       */
      utf8decode : function (utftext) {
         var string = "";
         var i = 0;
         var c = 0, c1 = 0, c2 = 0, c3 = 0;

         while ( i < utftext.length ) {

            c = utftext.charCodeAt(i);

            if (c < 128) {
               string += String.fromCharCode(c);
               i++;
            }
            else if((c > 191) && (c < 224)) {
               c2 = utftext.charCodeAt(i+1);
               string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
               i += 2;
            }
            else {
               c2 = utftext.charCodeAt(i+1);
               c3 = utftext.charCodeAt(i+2);
               string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
               i += 3;
            }

         }

         return string;
      }
   };
}());

/*
 * Compression methods
 * This object is filled in as follow :
 * name : {
 *    magic // the 2 bytes indentifying the compression method
 *    compress // function, take the uncompressed content and return it compressed.
 *    uncompress // function, take the compressed content and return it uncompressed.
 * }
 *
 * STORE is the default compression method, so it's included in this file.
 * Other methods should go to separated files : the user wants modularity.
 */
JSZip.compressions = {
   "STORE" : {
      magic : "\x00\x00",
      compress : function (content)
      {
         return content; // no compression
      },
      uncompress : function (content)
      {
         return content; // no compression
      }
   }
};

/**
 *
 *  Base64 encode / decode
 *  http://www.webtoolkit.info/
 *
 *  Hacked so that it doesn't utf8 en/decode everything
 **/
var JSZipBase64 = (function() {
   // private property
   var _keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

   return {
      // public method for encoding
      encode : function(input, utf8) {
         var output = "";
         var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
         var i = 0;

         while (i < input.length) {

            chr1 = input.charCodeAt(i++);
            chr2 = input.charCodeAt(i++);
            chr3 = input.charCodeAt(i++);

            enc1 = chr1 >> 2;
            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
            enc4 = chr3 & 63;

            if (isNaN(chr2)) {
               enc3 = enc4 = 64;
            } else if (isNaN(chr3)) {
               enc4 = 64;
            }

            output = output +
               _keyStr.charAt(enc1) + _keyStr.charAt(enc2) +
               _keyStr.charAt(enc3) + _keyStr.charAt(enc4);

         }

         return output;
      },

      // public method for decoding
      decode : function(input, utf8) {
         var output = "";
         var chr1, chr2, chr3;
         var enc1, enc2, enc3, enc4;
         var i = 0;

         input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");

         while (i < input.length) {

            enc1 = _keyStr.indexOf(input.charAt(i++));
            enc2 = _keyStr.indexOf(input.charAt(i++));
            enc3 = _keyStr.indexOf(input.charAt(i++));
            enc4 = _keyStr.indexOf(input.charAt(i++));

            chr1 = (enc1 << 2) | (enc2 >> 4);
            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
            chr3 = ((enc3 & 3) << 6) | enc4;

            output = output + String.fromCharCode(chr1);

            if (enc3 != 64) {
               output = output + String.fromCharCode(chr2);
            }
            if (enc4 != 64) {
               output = output + String.fromCharCode(chr3);
            }

         }

         return output;

      }
   };
}());

// enforcing Stuk's coding style
// vim: set shiftwidth=3 softtabstop=3:


/**

JSZip - A Javascript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2011 David Duponchel <d.duponchel@gmail.com>
Dual licenced under the MIT license or GPLv3. See LICENSE.markdown.

**/
/*global JSZip,JSZipBase64 */
(function () {

   /**
    * Prettify a string read as binary.
    * @param {string} str the string to prettify.
    * @return {string} a pretty string.
    */
   var pretty = function (str) {
      var res = '', code, i;
      for (i = 0; i < str.length; i++)
      {
         code = str.charCodeAt(i);
         res += '\\x' + (code < 10 ? "0" : "") + code.toString(16);
      }
      return res;
   };

   /**
    * Find a compression registered in JSZip.
    * @param {string} compressionMethod the method magic to find.
    * @return {Object|null} the JSZip compression object, null if none found.
    */
   var findCompression = function (compressionMethod) {
      for (var method in JSZip.compressions)
      {
         if (JSZip.compressions[method].magic === compressionMethod)
         {
            return JSZip.compressions[method];
         }
      }
      return null;
   };

   // class StreamReader {{{
   /**
    * Read bytes from a stream.
    * @constructor
    * @param {string} stream the stream to read.
    */
   function StreamReader(stream) {
      this.stream = stream;
      this.index = 0;
   }
   StreamReader.prototype = {
      /**
       * Check that the offset will not go too far.
       * @param {string} offset the additional offset to check.
       * @throws {Error} an Error if the offset is out of bounds.
       */
      checkOffset : function (offset)
      {
         this.checkIndex(this.index + offset);
      },
      /**
       * Check that the specifed index will not be too far.
       * @param {string} newIndex the index to check.
       * @throws {Error} an Error if the index is out of bounds.
       */
      checkIndex : function (newIndex)
      {
         if (this.stream.length < newIndex || newIndex < 0)
         {
            throw new Error("End of stream reached (stream length = " +
                            this.stream.length + ", asked index = " +
                            (newIndex) + "). Corrupted zip ?");
         }
      },
      /**
       * Change the index.
       * @param {number} newIndex The new index.
       * @throws {Error} if the new index is out of the stream.
       */
      setIndex : function (newIndex)
      {
         this.checkIndex(newIndex);
         this.index = newIndex;
      },
      /**
       * Check if the end of the file has been reached.
       * @return {boolean} true if it is the case, false otherwise.
       */
      eof : function ()
      {
         return this.index >= this.stream.length;
      },
      /**
       * Get the byte at the specified index.
       * @param {number} i the index to use.
       * @return {number} a byte.
       */
      byteAt : function(i)
      {
         return this.stream.charCodeAt(i) & 0xff;
      },
      /**
       * Get the next byte of this stream.
       * @return {string} the next byte.
       */
      readByte : function ()
      {
         this.checkOffset(1);
         return this.byteAt(1 + this.index++);
      },
      /**
       * Get the next number with a given byte size.
       * @param {number} size the number of bytes to read.
       * @return {number} the corresponding number.
       */
      readInt : function (size)
      {
         var result = 0, i;
         this.checkOffset(size);
         for(i = size - 1; i >= 0; i--)
         {
            result = (result << 8) + this.byteAt(this.index + i);
         }
         this.index += size;
         return result;
      },
      /**
       * Get the next string with a given byte size.
       * @param {number} size the number of bytes to read.
       * @return {string} the corresponding string.
       */
      readString : function (size)
      {
         var result = "", i, code;
         this.checkOffset(size);
         for(i = 0; i < size; i++)
         {
            code = this.byteAt(this.index + i);
            result += String.fromCharCode(code);
         }
         this.index += size;
         return result;
      },
      /**
       * Get the next date.
       * @return {Date} the date.
       */
      readDate : function ()
      {
         var dostime = this.readInt(4);
         return new Date(
            ((dostime >> 25) & 0x7f) + 1980, // year
            ((dostime >> 21) & 0x0f) - 1, // month
            (dostime >> 16) & 0x1f, // day
            (dostime >> 11) & 0x1f, // hour
            (dostime >> 5) & 0x3f, // minute
            (dostime & 0x1f) << 1); // second
      }
   };
   // }}} end of StreamReader

   // class ZipEntry {{{
   /**
    * An entry in the zip file.
    * @constructor
    * @param {Object} options Options of the current file.
    * @param {Object} loadOptions Options for loading the stream.
    */
   function ZipEntry(options, loadOptions) {
      this.options = options;
      this.loadOptions = loadOptions;
   }
   ZipEntry.prototype = {
      /**
       * say if the file is encrypted.
       * @return {boolean} true if the file is encrypted, false otherwise.
       */
      isEncrypted : function ()
      {
         // bit 1 is set
         return (this.bitFlag & 0x0001) === 0x0001;
      },
      /**
       * say if the file has a data decriptor.
       * @return {boolean} true if the file has a data descriptor, false otherwise.
       */
      hasDataDescriptor : function ()
      {
         // bit 3 is set
         return (this.bitFlag & 0x0008) === 0x0008;
      },
      /**
       * say if the file has utf-8 filename/comment.
       * @return {boolean} true if the filename/comment is in utf-8, false otherwise.
       */
      useUTF8 : function ()
      {
         // bit 11 is set
         return (this.bitFlag & 0x0800) === 0x0800;
      },
      /**
       * say if the file is a zip64 file.
       * @return {boolean} true if the file is zip64, false otherwise.
       */
      isZIP64 : function ()
      {
         return this.options.zip64;
      },
      /**
       * Read the local part header of a zip file and add the info in this object.
       * @param {StreamReader} reader the reader to use.
       */
      readLocalPartHeader : function(reader)
      {
         // the signature has already been consumed
         this.versionNeeded     = reader.readInt(2);
         this.bitFlag           = reader.readInt(2);
         this.compressionMethod = reader.readString(2);
         this.date              = reader.readDate();
         this.crc32             = reader.readInt(4);
         this.compressedSize    = reader.readInt(4);
         this.uncompressedSize  = reader.readInt(4);
         this.fileNameLength    = reader.readInt(2);
         this.extraFieldsLength = reader.readInt(2);

         if (this.isEncrypted())
         {
            throw new Error("Encrypted zip are not supported");
         }
      },
      /**
       * Read the local part of a zip file and add the info in this object.
       * @param {StreamReader} reader the reader to use.
       */
      readLocalPart : function(reader)
      {
         var compression;

         this.readLocalPartHeader(reader);

         this.fileName = reader.readString(this.fileNameLength);
         this.readExtraFields(reader);

         if (!this.hasDataDescriptor())
         {
            // easy : we know the file length
            this.compressedFileData = reader.readString(this.compressedSize);
         }
         else
         {
            // hard way : find the data descriptor manually
            this.compressedFileData = this.findDataUntilDataDescriptor(reader);
            this.crc32              = reader.readInt(4);
            this.compressedSize     = reader.readInt(this.isZIP64() ? 8 : 4);
            this.uncompressedSize   = reader.readInt(this.isZIP64() ? 8 : 4);

            if (this.compressedFileData.length !== this.compressedSize)
            {
               throw new Error("Bug : data descriptor incorrectly read (size mismatch)");
            }
         }
         this.uncompressedFileData = null;

         compression = findCompression(this.compressionMethod);
         if (compression === null) // no compression found
         {
            throw new Error("Corrupted zip : compression " + pretty(this.compressionMethod) +
                            " unknown (inner file : " + this.fileName + ")");
         }
         this.uncompressedFileData = compression.uncompress(this.compressedFileData);

         if (this.loadOptions.checkCRC32 && JSZip.prototype.crc32(this.uncompressedFileData) !== this.crc32)
         {
            throw new Error("Corrupted zip : CRC32 mismatch");
         }

         if (this.useUTF8())
         {
            this.fileName = JSZip.prototype.utf8decode(this.fileName);
         }
      },

      /**
       * Read data until a data descriptor signature is found.
       * @param {StreamReader} reader the reader to use.
       */
      findDataUntilDataDescriptor : function(reader)
      {
         var data = "",
         buffer = reader.readString(4),
         aByte;

         while(buffer !== JSZip.signature.DATA_DESCRIPTOR)
         {
            aByte = reader.readString(1);
            data += buffer.slice(0, 1);
            buffer = (buffer + aByte).slice(-4);
         }
         return data;
      },
      /**
       * Read the central part of a zip file and add the info in this object.
       * @param {StreamReader} reader the reader to use.
       */
      readCentralPart : function(reader)
      {
         this.versionMadeBy = reader.readString(2);

         this.readLocalPartHeader(reader);

         this.fileCommentLength      = reader.readInt(2);
         this.diskNumberStart        = reader.readInt(2);
         this.internalFileAttributes = reader.readInt(2);
         this.externalFileAttributes = reader.readInt(4);
         this.localHeaderOffset      = reader.readInt(4);

         this.fileName = reader.readString(this.fileNameLength);
         this.readExtraFields(reader);
         this.fileComment = reader.readString(this.fileCommentLength);
         if (this.useUTF8())
         {
            this.fileName    = JSZip.prototype.utf8decode(this.fileName);
            this.fileComment = JSZip.prototype.utf8decode(this.fileComment);
         }

         // warning, this is true only for zip with madeBy == DOS (plateform dependent feature)
         this.dir = this.externalFileAttributes & 0x00000010 ? true : false;
      },
      /**
       * Parse the ZIP64 extra field and merge the info in the current ZipEntry.
       * @param {StreamReader} reader the reader to use.
       */
      parseZIP64ExtraField : function(reader)
      {
         // should be something, preparing the extra reader
         var extraReader = new StreamReader(this.extraFields[0x0001].value);
         if(this.uncompressedSize === -1)
         {
            this.uncompressedSize = extraReader.readInt(8);
         }
         if(this.compressedSize === -1)
         {
            this.compressedSize = extraReader.readInt(8);
         }
         if(this.localHeaderOffset === -1)
         {
            this.localHeaderOffset = extraReader.readInt(8);
         }
         if(this.diskNumberStart === -1)
         {
            this.diskNumberStart = extraReader.readInt(4);
         }
      },
      /**
       * Read the central part of a zip file and add the info in this object.
       * @param {StreamReader} reader the reader to use.
       */
      readExtraFields : function(reader)
      {
         var start = reader.index,
             extraFieldId,
             extraFieldLength,
             extraFieldValue;

         this.extraFields = this.extraFields || {};

         while (reader.index < start + this.extraFieldsLength)
         {
            extraFieldId     = reader.readInt(2);
            extraFieldLength = reader.readInt(2);
            extraFieldValue  = reader.readString(extraFieldLength);

            this.extraFields[extraFieldId] = {
               id:     extraFieldId,
               length: extraFieldLength,
               value:  extraFieldValue
            };
         }

         if(this.isZIP64() && this.extraFields[0x0001])
         {
            this.parseZIP64ExtraField(reader);
         }
      }
   };
   // }}} end of ZipEntry

   //  class ZipEntries {{{
   /**
    * All the entries in the zip file.
    * @constructor
    * @param {string} data the binary stream to load.
    * @param {Object} loadOptions Options for loading the stream.
    */
   function ZipEntries(data, loadOptions) {
      this.files = [];
      this.loadOptions = loadOptions;
      if (data) {
         this.load(data);
      }
   }
   ZipEntries.prototype = {
      /**
       * Check that the reader is on the speficied signature.
       * @param {string} expectedSignature the expected signature.
       * @throws {Error} if it is an other signature.
       */
      checkSignature : function(expectedSignature)
      {
         var signature = this.reader.readString(4);
         if (signature !== expectedSignature)
         {
            throw new Error("Corrupted zip or bug : unexpected signature " +
                            "(" + pretty(signature) + ", expected " + pretty(expectedSignature) + ")");
         }
      },
      /**
       * Read the end of the central directory.
       */
      readBlockEndOfCentral : function ()
      {
         this.diskNumber                  = this.reader.readInt(2);
         this.diskWithCentralDirStart     = this.reader.readInt(2);
         this.centralDirRecordsOnThisDisk = this.reader.readInt(2);
         this.centralDirRecords           = this.reader.readInt(2);
         this.centralDirSize              = this.reader.readInt(4);
         this.centralDirOffset            = this.reader.readInt(4);

         this.zipCommentLength            = this.reader.readInt(2);
         this.zipComment                  = this.reader.readString(this.zipCommentLength);
      },
      /**
       * Read the end of the Zip 64 central directory.
       * Not merged with the method readEndOfCentral :
       * The end of central can coexist with its Zip64 brother,
       * I don't want to read the wrong number of bytes !
       */
      readBlockZip64EndOfCentral : function ()
      {
         this.zip64EndOfCentralSize       = this.reader.readInt(8);
         this.versionMadeBy               = this.reader.readString(2);
         this.versionNeeded               = this.reader.readInt(2);
         this.diskNumber                  = this.reader.readInt(4);
         this.diskWithCentralDirStart     = this.reader.readInt(4);
         this.centralDirRecordsOnThisDisk = this.reader.readInt(8);
         this.centralDirRecords           = this.reader.readInt(8);
         this.centralDirSize              = this.reader.readInt(8);
         this.centralDirOffset            = this.reader.readInt(8);

         this.zip64ExtensibleData = {};
         var extraDataSize = this.zip64EndOfCentralSize - 44,
         index = 0,
         extraFieldId,
         extraFieldLength,
         extraFieldValue;
         while(index < extraDataSize)
         {
            extraFieldId     = this.reader.readInt(2);
            extraFieldLength = this.reader.readInt(4);
            extraFieldValue  = this.reader.readString(extraFieldLength);
            this.zip64ExtensibleData[extraFieldId] = {
               id:     extraFieldId,
               length: extraFieldLength,
               value:  extraFieldValue
            };
         }
      },
      /**
       * Read the end of the Zip 64 central directory locator.
       */
      readBlockZip64EndOfCentralLocator : function ()
      {
         this.diskWithZip64CentralDirStart       = this.reader.readInt(4);
         this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8);
         this.disksCount                         = this.reader.readInt(4);
         if (this.disksCount > 1)
         {
            throw new Error("Multi-volumes zip are not supported");
         }
      },
      /**
       * Read the local files, based on the offset read in the central part.
       */
      readLocalFiles : function()
      {
         var i, file;
         for(i = 0; i < this.files.length; i++)
         {
            file = this.files[i];
            this.reader.setIndex(file.localHeaderOffset);
            this.checkSignature(JSZip.signature.LOCAL_FILE_HEADER);
            file.readLocalPart(this.reader);
         }
      },
      /**
       * Read the central directory.
       */
      readCentralDir : function()
      {
         var file;

         this.reader.setIndex(this.centralDirOffset);
         while(this.reader.readString(4) === JSZip.signature.CENTRAL_FILE_HEADER)
         {
            file = new ZipEntry({
               zip64: this.zip64
            }, this.loadOptions);
            file.readCentralPart(this.reader);
            this.files.push(file);
         }
      },
      /**
       * Read the end of central directory.
       */
      readEndOfCentral : function()
      {
         // zip 64 ?
         var offset = this.reader.stream.lastIndexOf(JSZip.signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR);
         if (offset === -1) // nope
         {
            this.zip64 = false;
            offset = this.reader.stream.lastIndexOf(JSZip.signature.CENTRAL_DIRECTORY_END);
            if (offset === -1)
            {
               throw new Error("Corrupted zip : can't find end of central directory");
            }

            this.reader.setIndex(offset);
            this.checkSignature(JSZip.signature.CENTRAL_DIRECTORY_END);
            this.readBlockEndOfCentral();
         }
         else // zip 64 !
         {
            this.zip64 = true;
            this.reader.setIndex(offset);
            this.checkSignature(JSZip.signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR);
            this.readBlockZip64EndOfCentralLocator();

            this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);
            this.checkSignature(JSZip.signature.ZIP64_CENTRAL_DIRECTORY_END);
            this.readBlockZip64EndOfCentral();
         }
      },
      /**
       * Read a zip file and create ZipEntries.
       * @param {string} data the binary string representing a zip file.
       */
      load : function(data)
      {
         this.reader = new StreamReader(data);

         this.readEndOfCentral();
         this.readCentralDir();
         this.readLocalFiles();
      }
   };
   // }}} end of ZipEntries

   /**
    * Implementation of the load method of JSZip.
    * It uses the above classes to decode a zip file, and load every files.
    * @param {string} data the data to load.
    * @param {Object} options Options for loading the stream.
    *  options.base64 : is the stream in base64 ? default : false
    */
   JSZip.prototype.load = function(data, options) {
      var files, zipEntries, i, input;
      options = options || {};
      if(options.base64)
      {
         data = JSZipBase64.decode(data);
      }

      zipEntries = new ZipEntries(data, options);
      files = zipEntries.files;
      for (i in files)
      {
         input = files[i];
         this.file(input.fileName, input.uncompressedFileData, {
            binary:true,
            date:input.date,
            dir:input.dir
         });
      }

      return this;
   };

}());
// enforcing Stuk's coding style
// vim: set shiftwidth=3 softtabstop=3 foldmethod=marker:


/*
 * Port of a script by Masanao Izumo.
 *
 * Only changes : wrap all the variables in a function and add the 
 * main function to JSZip (DEFLATE compression method).
 * Everything else was written by M. Izumo.
 *
 * Original code can be found here: http://www.onicos.com/staff/iz/amuse/javascript/expert/deflate.txt
 */

if(!JSZip)
{
   throw "JSZip not defined";
}

/*
 * Original:
 *   http://www.onicos.com/staff/iz/amuse/javascript/expert/deflate.txt
 */

(function(){

/* Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp>
 * Version: 1.0.1
 * LastModified: Dec 25 1999
 */

/* Interface:
 * data = zip_deflate(src);
 */

/* constant parameters */
var zip_WSIZE = 32768;		// Sliding Window size
var zip_STORED_BLOCK = 0;
var zip_STATIC_TREES = 1;
var zip_DYN_TREES    = 2;

/* for deflate */
var zip_DEFAULT_LEVEL = 6;
var zip_FULL_SEARCH = true;
var zip_INBUFSIZ = 32768;	// Input buffer size
var zip_INBUF_EXTRA = 64;	// Extra buffer
var zip_OUTBUFSIZ = 1024 * 8;
var zip_window_size = 2 * zip_WSIZE;
var zip_MIN_MATCH = 3;
var zip_MAX_MATCH = 258;
var zip_BITS = 16;
// for SMALL_MEM
var zip_LIT_BUFSIZE = 0x2000;
var zip_HASH_BITS = 13;
// for MEDIUM_MEM
// var zip_LIT_BUFSIZE = 0x4000;
// var zip_HASH_BITS = 14;
// for BIG_MEM
// var zip_LIT_BUFSIZE = 0x8000;
// var zip_HASH_BITS = 15;
if(zip_LIT_BUFSIZE > zip_INBUFSIZ)
    alert("error: zip_INBUFSIZ is too small");
if((zip_WSIZE<<1) > (1<<zip_BITS))
    alert("error: zip_WSIZE is too large");
if(zip_HASH_BITS > zip_BITS-1)
    alert("error: zip_HASH_BITS is too large");
if(zip_HASH_BITS < 8 || zip_MAX_MATCH != 258)
    alert("error: Code too clever");
var zip_DIST_BUFSIZE = zip_LIT_BUFSIZE;
var zip_HASH_SIZE = 1 << zip_HASH_BITS;
var zip_HASH_MASK = zip_HASH_SIZE - 1;
var zip_WMASK = zip_WSIZE - 1;
var zip_NIL = 0; // Tail of hash chains
var zip_TOO_FAR = 4096;
var zip_MIN_LOOKAHEAD = zip_MAX_MATCH + zip_MIN_MATCH + 1;
var zip_MAX_DIST = zip_WSIZE - zip_MIN_LOOKAHEAD;
var zip_SMALLEST = 1;
var zip_MAX_BITS = 15;
var zip_MAX_BL_BITS = 7;
var zip_LENGTH_CODES = 29;
var zip_LITERALS =256;
var zip_END_BLOCK = 256;
var zip_L_CODES = zip_LITERALS + 1 + zip_LENGTH_CODES;
var zip_D_CODES = 30;
var zip_BL_CODES = 19;
var zip_REP_3_6 = 16;
var zip_REPZ_3_10 = 17;
var zip_REPZ_11_138 = 18;
var zip_HEAP_SIZE = 2 * zip_L_CODES + 1;
var zip_H_SHIFT = parseInt((zip_HASH_BITS + zip_MIN_MATCH - 1) /
			   zip_MIN_MATCH);

/* variables */
var zip_free_queue;
var zip_qhead, zip_qtail;
var zip_initflag;
var zip_outbuf = null;
var zip_outcnt, zip_outoff;
var zip_complete;
var zip_window;
var zip_d_buf;
var zip_l_buf;
var zip_prev;
var zip_bi_buf;
var zip_bi_valid;
var zip_block_start;
var zip_ins_h;
var zip_hash_head;
var zip_prev_match;
var zip_match_available;
var zip_match_length;
var zip_prev_length;
var zip_strstart;
var zip_match_start;
var zip_eofile;
var zip_lookahead;
var zip_max_chain_length;
var zip_max_lazy_match;
var zip_compr_level;
var zip_good_match;
var zip_nice_match;
var zip_dyn_ltree;
var zip_dyn_dtree;
var zip_static_ltree;
var zip_static_dtree;
var zip_bl_tree;
var zip_l_desc;
var zip_d_desc;
var zip_bl_desc;
var zip_bl_count;
var zip_heap;
var zip_heap_len;
var zip_heap_max;
var zip_depth;
var zip_length_code;
var zip_dist_code;
var zip_base_length;
var zip_base_dist;
var zip_flag_buf;
var zip_last_lit;
var zip_last_dist;
var zip_last_flags;
var zip_flags;
var zip_flag_bit;
var zip_opt_len;
var zip_static_len;
var zip_deflate_data;
var zip_deflate_pos;

/* objects (deflate) */

var zip_DeflateCT = function() {
    this.fc = 0; // frequency count or bit string
    this.dl = 0; // father node in Huffman tree or length of bit string
}

var zip_DeflateTreeDesc = function() {
    this.dyn_tree = null;	// the dynamic tree
    this.static_tree = null;	// corresponding static tree or NULL
    this.extra_bits = null;	// extra bits for each code or NULL
    this.extra_base = 0;	// base index for extra_bits
    this.elems = 0;		// max number of elements in the tree
    this.max_length = 0;	// max bit length for the codes
    this.max_code = 0;		// largest code with non zero frequency
}

/* Values for max_lazy_match, good_match and max_chain_length, depending on
 * the desired pack level (0..9). The values given below have been tuned to
 * exclude worst case performance for pathological files. Better values may be
 * found for specific files.
 */
var zip_DeflateConfiguration = function(a, b, c, d) {
    this.good_length = a; // reduce lazy search above this match length
    this.max_lazy = b;    // do not perform lazy search above this match length
    this.nice_length = c; // quit search above this match length
    this.max_chain = d;
}

var zip_DeflateBuffer = function() {
    this.next = null;
    this.len = 0;
    this.ptr = new Array(zip_OUTBUFSIZ);
    this.off = 0;
}

/* constant tables */
var zip_extra_lbits = new Array(
    0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0);
var zip_extra_dbits = new Array(
    0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13);
var zip_extra_blbits = new Array(
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7);
var zip_bl_order = new Array(
    16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15);
var zip_configuration_table = new Array(
	new zip_DeflateConfiguration(0,    0,   0,    0),
	new zip_DeflateConfiguration(4,    4,   8,    4),
	new zip_DeflateConfiguration(4,    5,  16,    8),
	new zip_DeflateConfiguration(4,    6,  32,   32),
	new zip_DeflateConfiguration(4,    4,  16,   16),
	new zip_DeflateConfiguration(8,   16,  32,   32),
	new zip_DeflateConfiguration(8,   16, 128,  128),
	new zip_DeflateConfiguration(8,   32, 128,  256),
	new zip_DeflateConfiguration(32, 128, 258, 1024),
	new zip_DeflateConfiguration(32, 258, 258, 4096));


/* routines (deflate) */

var zip_deflate_start = function(level) {
    var i;

    if(!level)
	level = zip_DEFAULT_LEVEL;
    else if(level < 1)
	level = 1;
    else if(level > 9)
	level = 9;

    zip_compr_level = level;
    zip_initflag = false;
    zip_eofile = false;
    if(zip_outbuf != null)
	return;

    zip_free_queue = zip_qhead = zip_qtail = null;
    zip_outbuf = new Array(zip_OUTBUFSIZ);
    zip_window = new Array(zip_window_size);
    zip_d_buf = new Array(zip_DIST_BUFSIZE);
    zip_l_buf = new Array(zip_INBUFSIZ + zip_INBUF_EXTRA);
    zip_prev = new Array(1 << zip_BITS);
    zip_dyn_ltree = new Array(zip_HEAP_SIZE);
    for(i = 0; i < zip_HEAP_SIZE; i++)
	zip_dyn_ltree[i] = new zip_DeflateCT();
    zip_dyn_dtree = new Array(2*zip_D_CODES+1);
    for(i = 0; i < 2*zip_D_CODES+1; i++)
	zip_dyn_dtree[i] = new zip_DeflateCT();
    zip_static_ltree = new Array(zip_L_CODES+2);
    for(i = 0; i < zip_L_CODES+2; i++)
	zip_static_ltree[i] = new zip_DeflateCT();
    zip_static_dtree = new Array(zip_D_CODES);
    for(i = 0; i < zip_D_CODES; i++)
	zip_static_dtree[i] = new zip_DeflateCT();
    zip_bl_tree = new Array(2*zip_BL_CODES+1);
    for(i = 0; i < 2*zip_BL_CODES+1; i++)
	zip_bl_tree[i] = new zip_DeflateCT();
    zip_l_desc = new zip_DeflateTreeDesc();
    zip_d_desc = new zip_DeflateTreeDesc();
    zip_bl_desc = new zip_DeflateTreeDesc();
    zip_bl_count = new Array(zip_MAX_BITS+1);
    zip_heap = new Array(2*zip_L_CODES+1);
    zip_depth = new Array(2*zip_L_CODES+1);
    zip_length_code = new Array(zip_MAX_MATCH-zip_MIN_MATCH+1);
    zip_dist_code = new Array(512);
    zip_base_length = new Array(zip_LENGTH_CODES);
    zip_base_dist = new Array(zip_D_CODES);
    zip_flag_buf = new Array(parseInt(zip_LIT_BUFSIZE / 8));
}

var zip_deflate_end = function() {
    zip_free_queue = zip_qhead = zip_qtail = null;
    zip_outbuf = null;
    zip_window = null;
    zip_d_buf = null;
    zip_l_buf = null;
    zip_prev = null;
    zip_dyn_ltree = null;
    zip_dyn_dtree = null;
    zip_static_ltree = null;
    zip_static_dtree = null;
    zip_bl_tree = null;
    zip_l_desc = null;
    zip_d_desc = null;
    zip_bl_desc = null;
    zip_bl_count = null;
    zip_heap = null;
    zip_depth = null;
    zip_length_code = null;
    zip_dist_code = null;
    zip_base_length = null;
    zip_base_dist = null;
    zip_flag_buf = null;
}

var zip_reuse_queue = function(p) {
    p.next = zip_free_queue;
    zip_free_queue = p;
}

var zip_new_queue = function() {
    var p;

    if(zip_free_queue != null)
    {
	p = zip_free_queue;
	zip_free_queue = zip_free_queue.next;
    }
    else
	p = new zip_DeflateBuffer();
    p.next = null;
    p.len = p.off = 0;

    return p;
}

var zip_head1 = function(i) {
    return zip_prev[zip_WSIZE + i];
}

var zip_head2 = function(i, val) {
    return zip_prev[zip_WSIZE + i] = val;
}

/* put_byte is used for the compressed output, put_ubyte for the
 * uncompressed output. However unlzw() uses window for its
 * suffix table instead of its output buffer, so it does not use put_ubyte
 * (to be cleaned up).
 */
var zip_put_byte = function(c) {
    zip_outbuf[zip_outoff + zip_outcnt++] = c;
    if(zip_outoff + zip_outcnt == zip_OUTBUFSIZ)
	zip_qoutbuf();
}

/* Output a 16 bit value, lsb first */
var zip_put_short = function(w) {
    w &= 0xffff;
    if(zip_outoff + zip_outcnt < zip_OUTBUFSIZ - 2) {
	zip_outbuf[zip_outoff + zip_outcnt++] = (w & 0xff);
	zip_outbuf[zip_outoff + zip_outcnt++] = (w >>> 8);
    } else {
	zip_put_byte(w & 0xff);
	zip_put_byte(w >>> 8);
    }
}

/* ==========================================================================
 * Insert string s in the dictionary and set match_head to the previous head
 * of the hash chain (the most recent string with same hash key). Return
 * the previous length of the hash chain.
 * IN  assertion: all calls to to INSERT_STRING are made with consecutive
 *    input characters and the first MIN_MATCH bytes of s are valid
 *    (except for the last MIN_MATCH-1 bytes of the input file).
 */
var zip_INSERT_STRING = function() {
    zip_ins_h = ((zip_ins_h << zip_H_SHIFT)
		 ^ (zip_window[zip_strstart + zip_MIN_MATCH - 1] & 0xff))
	& zip_HASH_MASK;
    zip_hash_head = zip_head1(zip_ins_h);
    zip_prev[zip_strstart & zip_WMASK] = zip_hash_head;
    zip_head2(zip_ins_h, zip_strstart);
}

/* Send a code of the given tree. c and tree must not have side effects */
var zip_SEND_CODE = function(c, tree) {
    zip_send_bits(tree[c].fc, tree[c].dl);
}

/* Mapping from a distance to a distance code. dist is the distance - 1 and
 * must not have side effects. dist_code[256] and dist_code[257] are never
 * used.
 */
var zip_D_CODE = function(dist) {
    return (dist < 256 ? zip_dist_code[dist]
	    : zip_dist_code[256 + (dist>>7)]) & 0xff;
}

/* ==========================================================================
 * Compares to subtrees, using the tree depth as tie breaker when
 * the subtrees have equal frequency. This minimizes the worst case length.
 */
var zip_SMALLER = function(tree, n, m) {
    return tree[n].fc < tree[m].fc ||
      (tree[n].fc == tree[m].fc && zip_depth[n] <= zip_depth[m]);
}

/* ==========================================================================
 * read string data
 */
var zip_read_buff = function(buff, offset, n) {
    var i;
    for(i = 0; i < n && zip_deflate_pos < zip_deflate_data.length; i++)
	buff[offset + i] =
	    zip_deflate_data.charCodeAt(zip_deflate_pos++) & 0xff;
    return i;
}

/* ==========================================================================
 * Initialize the "longest match" routines for a new file
 */
var zip_lm_init = function() {
    var j;

    /* Initialize the hash table. */
    for(j = 0; j < zip_HASH_SIZE; j++)
//	zip_head2(j, zip_NIL);
	zip_prev[zip_WSIZE + j] = 0;
    /* prev will be initialized on the fly */

    /* Set the default configuration parameters:
     */
    zip_max_lazy_match = zip_configuration_table[zip_compr_level].max_lazy;
    zip_good_match     = zip_configuration_table[zip_compr_level].good_length;
    if(!zip_FULL_SEARCH)
	zip_nice_match = zip_configuration_table[zip_compr_level].nice_length;
    zip_max_chain_length = zip_configuration_table[zip_compr_level].max_chain;

    zip_strstart = 0;
    zip_block_start = 0;

    zip_lookahead = zip_read_buff(zip_window, 0, 2 * zip_WSIZE);
    if(zip_lookahead <= 0) {
	zip_eofile = true;
	zip_lookahead = 0;
	return;
    }
    zip_eofile = false;
    /* Make sure that we always have enough lookahead. This is important
     * if input comes from a device such as a tty.
     */
    while(zip_lookahead < zip_MIN_LOOKAHEAD && !zip_eofile)
	zip_fill_window();

    /* If lookahead < MIN_MATCH, ins_h is garbage, but this is
     * not important since only literal bytes will be emitted.
     */
    zip_ins_h = 0;
    for(j = 0; j < zip_MIN_MATCH - 1; j++) {
//      UPDATE_HASH(ins_h, window[j]);
	zip_ins_h = ((zip_ins_h << zip_H_SHIFT) ^ (zip_window[j] & 0xff)) & zip_HASH_MASK;
    }
}

/* ==========================================================================
 * Set match_start to the longest match starting at the given string and
 * return its length. Matches shorter or equal to prev_length are discarded,
 * in which case the result is equal to prev_length and match_start is
 * garbage.
 * IN assertions: cur_match is the head of the hash chain for the current
 *   string (strstart) and its distance is <= MAX_DIST, and prev_length >= 1
 */
var zip_longest_match = function(cur_match) {
    var chain_length = zip_max_chain_length; // max hash chain length
    var scanp = zip_strstart; // current string
    var matchp;		// matched string
    var len;		// length of current match
    var best_len = zip_prev_length;	// best match length so far

    /* Stop when cur_match becomes <= limit. To simplify the code,
     * we prevent matches with the string of window index 0.
     */
    var limit = (zip_strstart > zip_MAX_DIST ? zip_strstart - zip_MAX_DIST : zip_NIL);

    var strendp = zip_strstart + zip_MAX_MATCH;
    var scan_end1 = zip_window[scanp + best_len - 1];
    var scan_end  = zip_window[scanp + best_len];

    /* Do not waste too much time if we already have a good match: */
    if(zip_prev_length >= zip_good_match)
	chain_length >>= 2;

//  Assert(encoder->strstart <= window_size-MIN_LOOKAHEAD, "insufficient lookahead");

    do {
//    Assert(cur_match < encoder->strstart, "no future");
	matchp = cur_match;

	/* Skip to next match if the match length cannot increase
	    * or if the match length is less than 2:
	*/
	if(zip_window[matchp + best_len]	!= scan_end  ||
	   zip_window[matchp + best_len - 1]	!= scan_end1 ||
	   zip_window[matchp]			!= zip_window[scanp] ||
	   zip_window[++matchp]			!= zip_window[scanp + 1]) {
	    continue;
	}

	/* The check at best_len-1 can be removed because it will be made
         * again later. (This heuristic is not always a win.)
         * It is not necessary to compare scan[2] and match[2] since they
         * are always equal when the other bytes match, given that
         * the hash keys are equal and that HASH_BITS >= 8.
         */
	scanp += 2;
	matchp++;

	/* We check for insufficient lookahead only every 8th comparison;
         * the 256th check will be made at strstart+258.
         */
	do {
	} while(zip_window[++scanp] == zip_window[++matchp] &&
		zip_window[++scanp] == zip_window[++matchp] &&
		zip_window[++scanp] == zip_window[++matchp] &&
		zip_window[++scanp] == zip_window[++matchp] &&
		zip_window[++scanp] == zip_window[++matchp] &&
		zip_window[++scanp] == zip_window[++matchp] &&
		zip_window[++scanp] == zip_window[++matchp] &&
		zip_window[++scanp] == zip_window[++matchp] &&
		scanp < strendp);

      len = zip_MAX_MATCH - (strendp - scanp);
      scanp = strendp - zip_MAX_MATCH;

      if(len > best_len) {
	  zip_match_start = cur_match;
	  best_len = len;
	  if(zip_FULL_SEARCH) {
	      if(len >= zip_MAX_MATCH) break;
	  } else {
	      if(len >= zip_nice_match) break;
	  }

	  scan_end1  = zip_window[scanp + best_len-1];
	  scan_end   = zip_window[scanp + best_len];
      }
    } while((cur_match = zip_prev[cur_match & zip_WMASK]) > limit
	    && --chain_length != 0);

    return best_len;
}

/* ==========================================================================
 * Fill the window when the lookahead becomes insufficient.
 * Updates strstart and lookahead, and sets eofile if end of input file.
 * IN assertion: lookahead < MIN_LOOKAHEAD && strstart + lookahead > 0
 * OUT assertions: at least one byte has been read, or eofile is set;
 *    file reads are performed for at least two bytes (required for the
 *    translate_eol option).
 */
var zip_fill_window = function() {
    var n, m;

    // Amount of free space at the end of the window.
    var more = zip_window_size - zip_lookahead - zip_strstart;

    /* If the window is almost full and there is insufficient lookahead,
     * move the upper half to the lower one to make room in the upper half.
     */
    if(more == -1) {
	/* Very unlikely, but possible on 16 bit machine if strstart == 0
         * and lookahead == 1 (input done one byte at time)
         */
	more--;
    } else if(zip_strstart >= zip_WSIZE + zip_MAX_DIST) {
	/* By the IN assertion, the window is not empty so we can't confuse
         * more == 0 with more == 64K on a 16 bit machine.
         */
//	Assert(window_size == (ulg)2*WSIZE, "no sliding with BIG_MEM");

//	System.arraycopy(window, WSIZE, window, 0, WSIZE);
	for(n = 0; n < zip_WSIZE; n++)
	    zip_window[n] = zip_window[n + zip_WSIZE];
      
	zip_match_start -= zip_WSIZE;
	zip_strstart    -= zip_WSIZE; /* we now have strstart >= MAX_DIST: */
	zip_block_start -= zip_WSIZE;

	for(n = 0; n < zip_HASH_SIZE; n++) {
	    m = zip_head1(n);
	    zip_head2(n, m >= zip_WSIZE ? m - zip_WSIZE : zip_NIL);
	}
	for(n = 0; n < zip_WSIZE; n++) {
	    /* If n is not on any hash chain, prev[n] is garbage but
	     * its value will never be used.
	     */
	    m = zip_prev[n];
	    zip_prev[n] = (m >= zip_WSIZE ? m - zip_WSIZE : zip_NIL);
	}
	more += zip_WSIZE;
    }
    // At this point, more >= 2
    if(!zip_eofile) {
	n = zip_read_buff(zip_window, zip_strstart + zip_lookahead, more);
	if(n <= 0)
	    zip_eofile = true;
	else
	    zip_lookahead += n;
    }
}

/* ==========================================================================
 * Processes a new input file and return its compressed length. This
 * function does not perform lazy evaluationof matches and inserts
 * new strings in the dictionary only for unmatched strings or for short
 * matches. It is used only for the fast compression options.
 */
var zip_deflate_fast = function() {
    while(zip_lookahead != 0 && zip_qhead == null) {
	var flush; // set if current block must be flushed

	/* Insert the string window[strstart .. strstart+2] in the
	 * dictionary, and set hash_head to the head of the hash chain:
	 */
	zip_INSERT_STRING();

	/* Find the longest match, discarding those <= prev_length.
	 * At this point we have always match_length < MIN_MATCH
	 */
	if(zip_hash_head != zip_NIL &&
	   zip_strstart - zip_hash_head <= zip_MAX_DIST) {
	    /* To simplify the code, we prevent matches with the string
	     * of window index 0 (in particular we have to avoid a match
	     * of the string with itself at the start of the input file).
	     */
	    zip_match_length = zip_longest_match(zip_hash_head);
	    /* longest_match() sets match_start */
	    if(zip_match_length > zip_lookahead)
		zip_match_length = zip_lookahead;
	}
	if(zip_match_length >= zip_MIN_MATCH) {
//	    check_match(strstart, match_start, match_length);

	    flush = zip_ct_tally(zip_strstart - zip_match_start,
				 zip_match_length - zip_MIN_MATCH);
	    zip_lookahead -= zip_match_length;

	    /* Insert new strings in the hash table only if the match length
	     * is not too large. This saves time but degrades compression.
	     */
	    if(zip_match_length <= zip_max_lazy_match) {
		zip_match_length--; // string at strstart already in hash table
		do {
		    zip_strstart++;
		    zip_INSERT_STRING();
		    /* strstart never exceeds WSIZE-MAX_MATCH, so there are
		     * always MIN_MATCH bytes ahead. If lookahead < MIN_MATCH
		     * these bytes are garbage, but it does not matter since
		     * the next lookahead bytes will be emitted as literals.
		     */
		} while(--zip_match_length != 0);
		zip_strstart++;
	    } else {
		zip_strstart += zip_match_length;
		zip_match_length = 0;
		zip_ins_h = zip_window[zip_strstart] & 0xff;
//		UPDATE_HASH(ins_h, window[strstart + 1]);
		zip_ins_h = ((zip_ins_h<<zip_H_SHIFT) ^ (zip_window[zip_strstart + 1] & 0xff)) & zip_HASH_MASK;

//#if MIN_MATCH != 3
//		Call UPDATE_HASH() MIN_MATCH-3 more times
//#endif

	    }
	} else {
	    /* No match, output a literal byte */
	    flush = zip_ct_tally(0, zip_window[zip_strstart] & 0xff);
	    zip_lookahead--;
	    zip_strstart++;
	}
	if(flush) {
	    zip_flush_block(0);
	    zip_block_start = zip_strstart;
	}

	/* Make sure that we always have enough lookahead, except
	 * at the end of the input file. We need MAX_MATCH bytes
	 * for the next match, plus MIN_MATCH bytes to insert the
	 * string following the next match.
	 */
	while(zip_lookahead < zip_MIN_LOOKAHEAD && !zip_eofile)
	    zip_fill_window();
    }
}

var zip_deflate_better = function() {
    /* Process the input block. */
    while(zip_lookahead != 0 && zip_qhead == null) {
	/* Insert the string window[strstart .. strstart+2] in the
	 * dictionary, and set hash_head to the head of the hash chain:
	 */
	zip_INSERT_STRING();

	/* Find the longest match, discarding those <= prev_length.
	 */
	zip_prev_length = zip_match_length;
	zip_prev_match = zip_match_start;
	zip_match_length = zip_MIN_MATCH - 1;

	if(zip_hash_head != zip_NIL &&
	   zip_prev_length < zip_max_lazy_match &&
	   zip_strstart - zip_hash_head <= zip_MAX_DIST) {
	    /* To simplify the code, we prevent matches with the string
	     * of window index 0 (in particular we have to avoid a match
	     * of the string with itself at the start of the input file).
	     */
	    zip_match_length = zip_longest_match(zip_hash_head);
	    /* longest_match() sets match_start */
	    if(zip_match_length > zip_lookahead)
		zip_match_length = zip_lookahead;

	    /* Ignore a length 3 match if it is too distant: */
	    if(zip_match_length == zip_MIN_MATCH &&
	       zip_strstart - zip_match_start > zip_TOO_FAR) {
		/* If prev_match is also MIN_MATCH, match_start is garbage
		 * but we will ignore the current match anyway.
		 */
		zip_match_length--;
	    }
	}
	/* If there was a match at the previous step and the current
	 * match is not better, output the previous match:
	 */
	if(zip_prev_length >= zip_MIN_MATCH &&
	   zip_match_length <= zip_prev_length) {
	    var flush; // set if current block must be flushed

//	    check_match(strstart - 1, prev_match, prev_length);
	    flush = zip_ct_tally(zip_strstart - 1 - zip_prev_match,
				 zip_prev_length - zip_MIN_MATCH);

	    /* Insert in hash table all strings up to the end of the match.
	     * strstart-1 and strstart are already inserted.
	     */
	    zip_lookahead -= zip_prev_length - 1;
	    zip_prev_length -= 2;
	    do {
		zip_strstart++;
		zip_INSERT_STRING();
		/* strstart never exceeds WSIZE-MAX_MATCH, so there are
		 * always MIN_MATCH bytes ahead. If lookahead < MIN_MATCH
		 * these bytes are garbage, but it does not matter since the
		 * next lookahead bytes will always be emitted as literals.
		 */
	    } while(--zip_prev_length != 0);
	    zip_match_available = 0;
	    zip_match_length = zip_MIN_MATCH - 1;
	    zip_strstart++;
	    if(flush) {
		zip_flush_block(0);
		zip_block_start = zip_strstart;
	    }
	} else if(zip_match_available != 0) {
	    /* If there was no match at the previous position, output a
	     * single literal. If there was a match but the current match
	     * is longer, truncate the previous match to a single literal.
	     */
	    if(zip_ct_tally(0, zip_window[zip_strstart - 1] & 0xff)) {
		zip_flush_block(0);
		zip_block_start = zip_strstart;
	    }
	    zip_strstart++;
	    zip_lookahead--;
	} else {
	    /* There is no previous match to compare with, wait for
	     * the next step to decide.
	     */
	    zip_match_available = 1;
	    zip_strstart++;
	    zip_lookahead--;
	}

	/* Make sure that we always have enough lookahead, except
	 * at the end of the input file. We need MAX_MATCH bytes
	 * for the next match, plus MIN_MATCH bytes to insert the
	 * string following the next match.
	 */
	while(zip_lookahead < zip_MIN_LOOKAHEAD && !zip_eofile)
	    zip_fill_window();
    }
}

var zip_init_deflate = function() {
    if(zip_eofile)
	return;
    zip_bi_buf = 0;
    zip_bi_valid = 0;
    zip_ct_init();
    zip_lm_init();

    zip_qhead = null;
    zip_outcnt = 0;
    zip_outoff = 0;

    if(zip_compr_level <= 3)
    {
	zip_prev_length = zip_MIN_MATCH - 1;
	zip_match_length = 0;
    }
    else
    {
	zip_match_length = zip_MIN_MATCH - 1;
	zip_match_available = 0;
    }

    zip_complete = false;
}

/* ==========================================================================
 * Same as above, but achieves better compression. We use a lazy
 * evaluation for matches: a match is finally adopted only if there is
 * no better match at the next window position.
 */
var zip_deflate_internal = function(buff, off, buff_size) {
    var n;

    if(!zip_initflag)
    {
	zip_init_deflate();
	zip_initflag = true;
	if(zip_lookahead == 0) { // empty
	    zip_complete = true;
	    return 0;
	}
    }

    if((n = zip_qcopy(buff, off, buff_size)) == buff_size)
	return buff_size;

    if(zip_complete)
	return n;

    if(zip_compr_level <= 3) // optimized for speed
	zip_deflate_fast();
    else
	zip_deflate_better();
    if(zip_lookahead == 0) {
	if(zip_match_available != 0)
	    zip_ct_tally(0, zip_window[zip_strstart - 1] & 0xff);
	zip_flush_block(1);
	zip_complete = true;
    }
    return n + zip_qcopy(buff, n + off, buff_size - n);
}

var zip_qcopy = function(buff, off, buff_size) {
    var n, i, j;

    n = 0;
    while(zip_qhead != null && n < buff_size)
    {
	i = buff_size - n;
	if(i > zip_qhead.len)
	    i = zip_qhead.len;
//      System.arraycopy(qhead.ptr, qhead.off, buff, off + n, i);
	for(j = 0; j < i; j++)
	    buff[off + n + j] = zip_qhead.ptr[zip_qhead.off + j];
	
	zip_qhead.off += i;
	zip_qhead.len -= i;
	n += i;
	if(zip_qhead.len == 0) {
	    var p;
	    p = zip_qhead;
	    zip_qhead = zip_qhead.next;
	    zip_reuse_queue(p);
	}
    }

    if(n == buff_size)
	return n;

    if(zip_outoff < zip_outcnt) {
	i = buff_size - n;
	if(i > zip_outcnt - zip_outoff)
	    i = zip_outcnt - zip_outoff;
	// System.arraycopy(outbuf, outoff, buff, off + n, i);
	for(j = 0; j < i; j++)
	    buff[off + n + j] = zip_outbuf[zip_outoff + j];
	zip_outoff += i;
	n += i;
	if(zip_outcnt == zip_outoff)
	    zip_outcnt = zip_outoff = 0;
    }
    return n;
}

/* ==========================================================================
 * Allocate the match buffer, initialize the various tables and save the
 * location of the internal file attribute (ascii/binary) and method
 * (DEFLATE/STORE).
 */
var zip_ct_init = function() {
    var n;	// iterates over tree elements
    var bits;	// bit counter
    var length;	// length value
    var code;	// code value
    var dist;	// distance index

    if(zip_static_dtree[0].dl != 0) return; // ct_init already called

    zip_l_desc.dyn_tree		= zip_dyn_ltree;
    zip_l_desc.static_tree	= zip_static_ltree;
    zip_l_desc.extra_bits	= zip_extra_lbits;
    zip_l_desc.extra_base	= zip_LITERALS + 1;
    zip_l_desc.elems		= zip_L_CODES;
    zip_l_desc.max_length	= zip_MAX_BITS;
    zip_l_desc.max_code		= 0;

    zip_d_desc.dyn_tree		= zip_dyn_dtree;
    zip_d_desc.static_tree	= zip_static_dtree;
    zip_d_desc.extra_bits	= zip_extra_dbits;
    zip_d_desc.extra_base	= 0;
    zip_d_desc.elems		= zip_D_CODES;
    zip_d_desc.max_length	= zip_MAX_BITS;
    zip_d_desc.max_code		= 0;

    zip_bl_desc.dyn_tree	= zip_bl_tree;
    zip_bl_desc.static_tree	= null;
    zip_bl_desc.extra_bits	= zip_extra_blbits;
    zip_bl_desc.extra_base	= 0;
    zip_bl_desc.elems		= zip_BL_CODES;
    zip_bl_desc.max_length	= zip_MAX_BL_BITS;
    zip_bl_desc.max_code	= 0;

    // Initialize the mapping length (0..255) -> length code (0..28)
    length = 0;
    for(code = 0; code < zip_LENGTH_CODES-1; code++) {
	zip_base_length[code] = length;
	for(n = 0; n < (1<<zip_extra_lbits[code]); n++)
	    zip_length_code[length++] = code;
    }
    // Assert (length == 256, "ct_init: length != 256");

    /* Note that the length 255 (match length 258) can be represented
     * in two different ways: code 284 + 5 bits or code 285, so we
     * overwrite length_code[255] to use the best encoding:
     */
    zip_length_code[length-1] = code;

    /* Initialize the mapping dist (0..32K) -> dist code (0..29) */
    dist = 0;
    for(code = 0 ; code < 16; code++) {
	zip_base_dist[code] = dist;
	for(n = 0; n < (1<<zip_extra_dbits[code]); n++) {
	    zip_dist_code[dist++] = code;
	}
    }
    // Assert (dist == 256, "ct_init: dist != 256");
    dist >>= 7; // from now on, all distances are divided by 128
    for( ; code < zip_D_CODES; code++) {
	zip_base_dist[code] = dist << 7;
	for(n = 0; n < (1<<(zip_extra_dbits[code]-7)); n++)
	    zip_dist_code[256 + dist++] = code;
    }
    // Assert (dist == 256, "ct_init: 256+dist != 512");

    // Construct the codes of the static literal tree
    for(bits = 0; bits <= zip_MAX_BITS; bits++)
	zip_bl_count[bits] = 0;
    n = 0;
    while(n <= 143) { zip_static_ltree[n++].dl = 8; zip_bl_count[8]++; }
    while(n <= 255) { zip_static_ltree[n++].dl = 9; zip_bl_count[9]++; }
    while(n <= 279) { zip_static_ltree[n++].dl = 7; zip_bl_count[7]++; }
    while(n <= 287) { zip_static_ltree[n++].dl = 8; zip_bl_count[8]++; }
    /* Codes 286 and 287 do not exist, but we must include them in the
     * tree construction to get a canonical Huffman tree (longest code
     * all ones)
     */
    zip_gen_codes(zip_static_ltree, zip_L_CODES + 1);

    /* The static distance tree is trivial: */
    for(n = 0; n < zip_D_CODES; n++) {
	zip_static_dtree[n].dl = 5;
	zip_static_dtree[n].fc = zip_bi_reverse(n, 5);
    }

    // Initialize the first block of the first file:
    zip_init_block();
}

/* ==========================================================================
 * Initialize a new block.
 */
var zip_init_block = function() {
    var n; // iterates over tree elements

    // Initialize the trees.
    for(n = 0; n < zip_L_CODES;  n++) zip_dyn_ltree[n].fc = 0;
    for(n = 0; n < zip_D_CODES;  n++) zip_dyn_dtree[n].fc = 0;
    for(n = 0; n < zip_BL_CODES; n++) zip_bl_tree[n].fc = 0;

    zip_dyn_ltree[zip_END_BLOCK].fc = 1;
    zip_opt_len = zip_static_len = 0;
    zip_last_lit = zip_last_dist = zip_last_flags = 0;
    zip_flags = 0;
    zip_flag_bit = 1;
}

/* ==========================================================================
 * Restore the heap property by moving down the tree starting at node k,
 * exchanging a node with the smallest of its two sons if necessary, stopping
 * when the heap property is re-established (each father smaller than its
 * two sons).
 */
var zip_pqdownheap = function(
    tree,	// the tree to restore
    k) {	// node to move down
    var v = zip_heap[k];
    var j = k << 1;	// left son of k

    while(j <= zip_heap_len) {
	// Set j to the smallest of the two sons:
	if(j < zip_heap_len &&
	   zip_SMALLER(tree, zip_heap[j + 1], zip_heap[j]))
	    j++;

	// Exit if v is smaller than both sons
	if(zip_SMALLER(tree, v, zip_heap[j]))
	    break;

	// Exchange v with the smallest son
	zip_heap[k] = zip_heap[j];
	k = j;

	// And continue down the tree, setting j to the left son of k
	j <<= 1;
    }
    zip_heap[k] = v;
}

/* ==========================================================================
 * Compute the optimal bit lengths for a tree and update the total bit length
 * for the current block.
 * IN assertion: the fields freq and dad are set, heap[heap_max] and
 *    above are the tree nodes sorted by increasing frequency.
 * OUT assertions: the field len is set to the optimal bit length, the
 *     array bl_count contains the frequencies for each bit length.
 *     The length opt_len is updated; static_len is also updated if stree is
 *     not null.
 */
var zip_gen_bitlen = function(desc) { // the tree descriptor
    var tree		= desc.dyn_tree;
    var extra		= desc.extra_bits;
    var base		= desc.extra_base;
    var max_code	= desc.max_code;
    var max_length	= desc.max_length;
    var stree		= desc.static_tree;
    var h;		// heap index
    var n, m;		// iterate over the tree elements
    var bits;		// bit length
    var xbits;		// extra bits
    var f;		// frequency
    var overflow = 0;	// number of elements with bit length too large

    for(bits = 0; bits <= zip_MAX_BITS; bits++)
	zip_bl_count[bits] = 0;

    /* In a first pass, compute the optimal bit lengths (which may
     * overflow in the case of the bit length tree).
     */
    tree[zip_heap[zip_heap_max]].dl = 0; // root of the heap

    for(h = zip_heap_max + 1; h < zip_HEAP_SIZE; h++) {
	n = zip_heap[h];
	bits = tree[tree[n].dl].dl + 1;
	if(bits > max_length) {
	    bits = max_length;
	    overflow++;
	}
	tree[n].dl = bits;
	// We overwrite tree[n].dl which is no longer needed

	if(n > max_code)
	    continue; // not a leaf node

	zip_bl_count[bits]++;
	xbits = 0;
	if(n >= base)
	    xbits = extra[n - base];
	f = tree[n].fc;
	zip_opt_len += f * (bits + xbits);
	if(stree != null)
	    zip_static_len += f * (stree[n].dl + xbits);
    }
    if(overflow == 0)
	return;

    // This happens for example on obj2 and pic of the Calgary corpus

    // Find the first bit length which could increase:
    do {
	bits = max_length - 1;
	while(zip_bl_count[bits] == 0)
	    bits--;
	zip_bl_count[bits]--;		// move one leaf down the tree
	zip_bl_count[bits + 1] += 2;	// move one overflow item as its brother
	zip_bl_count[max_length]--;
	/* The brother of the overflow item also moves one step up,
	 * but this does not affect bl_count[max_length]
	 */
	overflow -= 2;
    } while(overflow > 0);

    /* Now recompute all bit lengths, scanning in increasing frequency.
     * h is still equal to HEAP_SIZE. (It is simpler to reconstruct all
     * lengths instead of fixing only the wrong ones. This idea is taken
     * from 'ar' written by Haruhiko Okumura.)
     */
    for(bits = max_length; bits != 0; bits--) {
	n = zip_bl_count[bits];
	while(n != 0) {
	    m = zip_heap[--h];
	    if(m > max_code)
		continue;
	    if(tree[m].dl != bits) {
		zip_opt_len += (bits - tree[m].dl) * tree[m].fc;
		tree[m].fc = bits;
	    }
	    n--;
	}
    }
}

  /* ==========================================================================
   * Generate the codes for a given tree and bit counts (which need not be
   * optimal).
   * IN assertion: the array bl_count contains the bit length statistics for
   * the given tree and the field len is set for all tree elements.
   * OUT assertion: the field code is set for all tree elements of non
   *     zero code length.
   */
var zip_gen_codes = function(tree,	// the tree to decorate
		   max_code) {	// largest code with non zero frequency
    var next_code = new Array(zip_MAX_BITS+1); // next code value for each bit length
    var code = 0;		// running code value
    var bits;			// bit index
    var n;			// code index

    /* The distribution counts are first used to generate the code values
     * without bit reversal.
     */
    for(bits = 1; bits <= zip_MAX_BITS; bits++) {
	code = ((code + zip_bl_count[bits-1]) << 1);
	next_code[bits] = code;
    }

    /* Check that the bit counts in bl_count are consistent. The last code
     * must be all ones.
     */
//    Assert (code + encoder->bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,
//	    "inconsistent bit counts");
//    Tracev((stderr,"\ngen_codes: max_code %d ", max_code));

    for(n = 0; n <= max_code; n++) {
	var len = tree[n].dl;
	if(len == 0)
	    continue;
	// Now reverse the bits
	tree[n].fc = zip_bi_reverse(next_code[len]++, len);

//      Tracec(tree != static_ltree, (stderr,"\nn %3d %c l %2d c %4x (%x) ",
//	  n, (isgraph(n) ? n : ' '), len, tree[n].fc, next_code[len]-1));
    }
}

/* ==========================================================================
 * Construct one Huffman tree and assigns the code bit strings and lengths.
 * Update the total bit length for the current block.
 * IN assertion: the field freq is set for all tree elements.
 * OUT assertions: the fields len and code are set to the optimal bit length
 *     and corresponding code. The length opt_len is updated; static_len is
 *     also updated if stree is not null. The field max_code is set.
 */
var zip_build_tree = function(desc) { // the tree descriptor
    var tree	= desc.dyn_tree;
    var stree	= desc.static_tree;
    var elems	= desc.elems;
    var n, m;		// iterate over heap elements
    var max_code = -1;	// largest code with non zero frequency
    var node = elems;	// next internal node of the tree

    /* Construct the initial heap, with least frequent element in
     * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n+1].
     * heap[0] is not used.
     */
    zip_heap_len = 0;
    zip_heap_max = zip_HEAP_SIZE;

    for(n = 0; n < elems; n++) {
	if(tree[n].fc != 0) {
	    zip_heap[++zip_heap_len] = max_code = n;
	    zip_depth[n] = 0;
	} else
	    tree[n].dl = 0;
    }

    /* The pkzip format requires that at least one distance code exists,
     * and that at least one bit should be sent even if there is only one
     * possible code. So to avoid special checks later on we force at least
     * two codes of non zero frequency.
     */
    while(zip_heap_len < 2) {
	var xnew = zip_heap[++zip_heap_len] = (max_code < 2 ? ++max_code : 0);
	tree[xnew].fc = 1;
	zip_depth[xnew] = 0;
	zip_opt_len--;
	if(stree != null)
	    zip_static_len -= stree[xnew].dl;
	// new is 0 or 1 so it does not have extra bits
    }
    desc.max_code = max_code;

    /* The elements heap[heap_len/2+1 .. heap_len] are leaves of the tree,
     * establish sub-heaps of increasing lengths:
     */
    for(n = zip_heap_len >> 1; n >= 1; n--)
	zip_pqdownheap(tree, n);

    /* Construct the Huffman tree by repeatedly combining the least two
     * frequent nodes.
     */
    do {
	n = zip_heap[zip_SMALLEST];
	zip_heap[zip_SMALLEST] = zip_heap[zip_heap_len--];
	zip_pqdownheap(tree, zip_SMALLEST);

	m = zip_heap[zip_SMALLEST];  // m = node of next least frequency

	// keep the nodes sorted by frequency
	zip_heap[--zip_heap_max] = n;
	zip_heap[--zip_heap_max] = m;

	// Create a new node father of n and m
	tree[node].fc = tree[n].fc + tree[m].fc;
//	depth[node] = (char)(MAX(depth[n], depth[m]) + 1);
	if(zip_depth[n] > zip_depth[m] + 1)
	    zip_depth[node] = zip_depth[n];
	else
	    zip_depth[node] = zip_depth[m] + 1;
	tree[n].dl = tree[m].dl = node;

	// and insert the new node in the heap
	zip_heap[zip_SMALLEST] = node++;
	zip_pqdownheap(tree, zip_SMALLEST);

    } while(zip_heap_len >= 2);

    zip_heap[--zip_heap_max] = zip_heap[zip_SMALLEST];

    /* At this point, the fields freq and dad are set. We can now
     * generate the bit lengths.
     */
    zip_gen_bitlen(desc);

    // The field len is now set, we can generate the bit codes
    zip_gen_codes(tree, max_code);
}

/* ==========================================================================
 * Scan a literal or distance tree to determine the frequencies of the codes
 * in the bit length tree. Updates opt_len to take into account the repeat
 * counts. (The contribution of the bit length codes will be added later
 * during the construction of bl_tree.)
 */
var zip_scan_tree = function(tree,// the tree to be scanned
		       max_code) {  // and its largest code of non zero frequency
    var n;			// iterates over all tree elements
    var prevlen = -1;		// last emitted length
    var curlen;			// length of current code
    var nextlen = tree[0].dl;	// length of next code
    var count = 0;		// repeat count of the current code
    var max_count = 7;		// max repeat count
    var min_count = 4;		// min repeat count

    if(nextlen == 0) {
	max_count = 138;
	min_count = 3;
    }
    tree[max_code + 1].dl = 0xffff; // guard

    for(n = 0; n <= max_code; n++) {
	curlen = nextlen;
	nextlen = tree[n + 1].dl;
	if(++count < max_count && curlen == nextlen)
	    continue;
	else if(count < min_count)
	    zip_bl_tree[curlen].fc += count;
	else if(curlen != 0) {
	    if(curlen != prevlen)
		zip_bl_tree[curlen].fc++;
	    zip_bl_tree[zip_REP_3_6].fc++;
	} else if(count <= 10)
	    zip_bl_tree[zip_REPZ_3_10].fc++;
	else
	    zip_bl_tree[zip_REPZ_11_138].fc++;
	count = 0; prevlen = curlen;
	if(nextlen == 0) {
	    max_count = 138;
	    min_count = 3;
	} else if(curlen == nextlen) {
	    max_count = 6;
	    min_count = 3;
	} else {
	    max_count = 7;
	    min_count = 4;
	}
    }
}

  /* ==========================================================================
   * Send a literal or distance tree in compressed form, using the codes in
   * bl_tree.
   */
var zip_send_tree = function(tree, // the tree to be scanned
		   max_code) { // and its largest code of non zero frequency
    var n;			// iterates over all tree elements
    var prevlen = -1;		// last emitted length
    var curlen;			// length of current code
    var nextlen = tree[0].dl;	// length of next code
    var count = 0;		// repeat count of the current code
    var max_count = 7;		// max repeat count
    var min_count = 4;		// min repeat count

    /* tree[max_code+1].dl = -1; */  /* guard already set */
    if(nextlen == 0) {
      max_count = 138;
      min_count = 3;
    }

    for(n = 0; n <= max_code; n++) {
	curlen = nextlen;
	nextlen = tree[n+1].dl;
	if(++count < max_count && curlen == nextlen) {
	    continue;
	} else if(count < min_count) {
	    do { zip_SEND_CODE(curlen, zip_bl_tree); } while(--count != 0);
	} else if(curlen != 0) {
	    if(curlen != prevlen) {
		zip_SEND_CODE(curlen, zip_bl_tree);
		count--;
	    }
	    // Assert(count >= 3 && count <= 6, " 3_6?");
	    zip_SEND_CODE(zip_REP_3_6, zip_bl_tree);
	    zip_send_bits(count - 3, 2);
	} else if(count <= 10) {
	    zip_SEND_CODE(zip_REPZ_3_10, zip_bl_tree);
	    zip_send_bits(count-3, 3);
	} else {
	    zip_SEND_CODE(zip_REPZ_11_138, zip_bl_tree);
	    zip_send_bits(count-11, 7);
	}
	count = 0;
	prevlen = curlen;
	if(nextlen == 0) {
	    max_count = 138;
	    min_count = 3;
	} else if(curlen == nextlen) {
	    max_count = 6;
	    min_count = 3;
	} else {
	    max_count = 7;
	    min_count = 4;
	}
    }
}

/* ==========================================================================
 * Construct the Huffman tree for the bit lengths and return the index in
 * bl_order of the last bit length code to send.
 */
var zip_build_bl_tree = function() {
    var max_blindex;  // index of last bit length code of non zero freq

    // Determine the bit length frequencies for literal and distance trees
    zip_scan_tree(zip_dyn_ltree, zip_l_desc.max_code);
    zip_scan_tree(zip_dyn_dtree, zip_d_desc.max_code);

    // Build the bit length tree:
    zip_build_tree(zip_bl_desc);
    /* opt_len now includes the length of the tree representations, except
     * the lengths of the bit lengths codes and the 5+5+4 bits for the counts.
     */

    /* Determine the number of bit length codes to send. The pkzip format
     * requires that at least 4 bit length codes be sent. (appnote.txt says
     * 3 but the actual value used is 4.)
     */
    for(max_blindex = zip_BL_CODES-1; max_blindex >= 3; max_blindex--) {
	if(zip_bl_tree[zip_bl_order[max_blindex]].dl != 0) break;
    }
    /* Update opt_len to include the bit length tree and counts */
    zip_opt_len += 3*(max_blindex+1) + 5+5+4;
//    Tracev((stderr, "\ndyn trees: dyn %ld, stat %ld",
//	    encoder->opt_len, encoder->static_len));

    return max_blindex;
}

/* ==========================================================================
 * Send the header for a block using dynamic Huffman trees: the counts, the
 * lengths of the bit length codes, the literal tree and the distance tree.
 * IN assertion: lcodes >= 257, dcodes >= 1, blcodes >= 4.
 */
var zip_send_all_trees = function(lcodes, dcodes, blcodes) { // number of codes for each tree
    var rank; // index in bl_order

//    Assert (lcodes >= 257 && dcodes >= 1 && blcodes >= 4, "not enough codes");
//    Assert (lcodes <= L_CODES && dcodes <= D_CODES && blcodes <= BL_CODES,
//	    "too many codes");
//    Tracev((stderr, "\nbl counts: "));
    zip_send_bits(lcodes-257, 5); // not +255 as stated in appnote.txt
    zip_send_bits(dcodes-1,   5);
    zip_send_bits(blcodes-4,  4); // not -3 as stated in appnote.txt
    for(rank = 0; rank < blcodes; rank++) {
//      Tracev((stderr, "\nbl code %2d ", bl_order[rank]));
	zip_send_bits(zip_bl_tree[zip_bl_order[rank]].dl, 3);
    }

    // send the literal tree
    zip_send_tree(zip_dyn_ltree,lcodes-1);

    // send the distance tree
    zip_send_tree(zip_dyn_dtree,dcodes-1);
}

/* ==========================================================================
 * Determine the best encoding for the current block: dynamic trees, static
 * trees or store, and output the encoded block to the zip file.
 */
var zip_flush_block = function(eof) { // true if this is the last block for a file
    var opt_lenb, static_lenb; // opt_len and static_len in bytes
    var max_blindex;	// index of last bit length code of non zero freq
    var stored_len;	// length of input block

    stored_len = zip_strstart - zip_block_start;
    zip_flag_buf[zip_last_flags] = zip_flags; // Save the flags for the last 8 items

    // Construct the literal and distance trees
    zip_build_tree(zip_l_desc);
//    Tracev((stderr, "\nlit data: dyn %ld, stat %ld",
//	    encoder->opt_len, encoder->static_len));

    zip_build_tree(zip_d_desc);
//    Tracev((stderr, "\ndist data: dyn %ld, stat %ld",
//	    encoder->opt_len, encoder->static_len));
    /* At this point, opt_len and static_len are the total bit lengths of
     * the compressed block data, excluding the tree representations.
     */

    /* Build the bit length tree for the above two trees, and get the index
     * in bl_order of the last bit length code to send.
     */
    max_blindex = zip_build_bl_tree();

    // Determine the best encoding. Compute first the block length in bytes
    opt_lenb	= (zip_opt_len   +3+7)>>3;
    static_lenb = (zip_static_len+3+7)>>3;

//    Trace((stderr, "\nopt %lu(%lu) stat %lu(%lu) stored %lu lit %u dist %u ",
//	   opt_lenb, encoder->opt_len,
//	   static_lenb, encoder->static_len, stored_len,
//	   encoder->last_lit, encoder->last_dist));

    if(static_lenb <= opt_lenb)
	opt_lenb = static_lenb;
    if(stored_len + 4 <= opt_lenb // 4: two words for the lengths
       && zip_block_start >= 0) {
	var i;

	/* The test buf != NULL is only necessary if LIT_BUFSIZE > WSIZE.
	 * Otherwise we can't have processed more than WSIZE input bytes since
	 * the last block flush, because compression would have been
	 * successful. If LIT_BUFSIZE <= WSIZE, it is never too late to
	 * transform a block into a stored block.
	 */
	zip_send_bits((zip_STORED_BLOCK<<1)+eof, 3);  /* send block type */
	zip_bi_windup();		 /* align on byte boundary */
	zip_put_short(stored_len);
	zip_put_short(~stored_len);

      // copy block
/*
      p = &window[block_start];
      for(i = 0; i < stored_len; i++)
	put_byte(p[i]);
*/
	for(i = 0; i < stored_len; i++)
	    zip_put_byte(zip_window[zip_block_start + i]);

    } else if(static_lenb == opt_lenb) {
	zip_send_bits((zip_STATIC_TREES<<1)+eof, 3);
	zip_compress_block(zip_static_ltree, zip_static_dtree);
    } else {
	zip_send_bits((zip_DYN_TREES<<1)+eof, 3);
	zip_send_all_trees(zip_l_desc.max_code+1,
			   zip_d_desc.max_code+1,
			   max_blindex+1);
	zip_compress_block(zip_dyn_ltree, zip_dyn_dtree);
    }

    zip_init_block();

    if(eof != 0)
	zip_bi_windup();
}

/* ==========================================================================
 * Save the match info and tally the frequency counts. Return true if
 * the current block must be flushed.
 */
var zip_ct_tally = function(
	dist, // distance of matched string
	lc) { // match length-MIN_MATCH or unmatched char (if dist==0)
    zip_l_buf[zip_last_lit++] = lc;
    if(dist == 0) {
	// lc is the unmatched char
	zip_dyn_ltree[lc].fc++;
    } else {
	// Here, lc is the match length - MIN_MATCH
	dist--;		    // dist = match distance - 1
//      Assert((ush)dist < (ush)MAX_DIST &&
//	     (ush)lc <= (ush)(MAX_MATCH-MIN_MATCH) &&
//	     (ush)D_CODE(dist) < (ush)D_CODES,  "ct_tally: bad match");

	zip_dyn_ltree[zip_length_code[lc]+zip_LITERALS+1].fc++;
	zip_dyn_dtree[zip_D_CODE(dist)].fc++;

	zip_d_buf[zip_last_dist++] = dist;
	zip_flags |= zip_flag_bit;
    }
    zip_flag_bit <<= 1;

    // Output the flags if they fill a byte
    if((zip_last_lit & 7) == 0) {
	zip_flag_buf[zip_last_flags++] = zip_flags;
	zip_flags = 0;
	zip_flag_bit = 1;
    }
    // Try to guess if it is profitable to stop the current block here
    if(zip_compr_level > 2 && (zip_last_lit & 0xfff) == 0) {
	// Compute an upper bound for the compressed length
	var out_length = zip_last_lit * 8;
	var in_length = zip_strstart - zip_block_start;
	var dcode;

	for(dcode = 0; dcode < zip_D_CODES; dcode++) {
	    out_length += zip_dyn_dtree[dcode].fc * (5 + zip_extra_dbits[dcode]);
	}
	out_length >>= 3;
//      Trace((stderr,"\nlast_lit %u, last_dist %u, in %ld, out ~%ld(%ld%%) ",
//	     encoder->last_lit, encoder->last_dist, in_length, out_length,
//	     100L - out_length*100L/in_length));
	if(zip_last_dist < parseInt(zip_last_lit/2) &&
	   out_length < parseInt(in_length/2))
	    return true;
    }
    return (zip_last_lit == zip_LIT_BUFSIZE-1 ||
	    zip_last_dist == zip_DIST_BUFSIZE);
    /* We avoid equality with LIT_BUFSIZE because of wraparound at 64K
     * on 16 bit machines and because stored blocks are restricted to
     * 64K-1 bytes.
     */
}

  /* ==========================================================================
   * Send the block data compressed using the given Huffman trees
   */
var zip_compress_block = function(
	ltree,	// literal tree
	dtree) {	// distance tree
    var dist;		// distance of matched string
    var lc;		// match length or unmatched char (if dist == 0)
    var lx = 0;		// running index in l_buf
    var dx = 0;		// running index in d_buf
    var fx = 0;		// running index in flag_buf
    var flag = 0;	// current flags
    var code;		// the code to send
    var extra;		// number of extra bits to send

    if(zip_last_lit != 0) do {
	if((lx & 7) == 0)
	    flag = zip_flag_buf[fx++];
	lc = zip_l_buf[lx++] & 0xff;
	if((flag & 1) == 0) {
	    zip_SEND_CODE(lc, ltree); /* send a literal byte */
//	Tracecv(isgraph(lc), (stderr," '%c' ", lc));
	} else {
	    // Here, lc is the match length - MIN_MATCH
	    code = zip_length_code[lc];
	    zip_SEND_CODE(code+zip_LITERALS+1, ltree); // send the length code
	    extra = zip_extra_lbits[code];
	    if(extra != 0) {
		lc -= zip_base_length[code];
		zip_send_bits(lc, extra); // send the extra length bits
	    }
	    dist = zip_d_buf[dx++];
	    // Here, dist is the match distance - 1
	    code = zip_D_CODE(dist);
//	Assert (code < D_CODES, "bad d_code");

	    zip_SEND_CODE(code, dtree);	  // send the distance code
	    extra = zip_extra_dbits[code];
	    if(extra != 0) {
		dist -= zip_base_dist[code];
		zip_send_bits(dist, extra);   // send the extra distance bits
	    }
	} // literal or match pair ?
	flag >>= 1;
    } while(lx < zip_last_lit);

    zip_SEND_CODE(zip_END_BLOCK, ltree);
}

/* ==========================================================================
 * Send a value on a given number of bits.
 * IN assertion: length <= 16 and value fits in length bits.
 */
var zip_Buf_size = 16; // bit size of bi_buf
var zip_send_bits = function(
	value,	// value to send
	length) {	// number of bits
    /* If not enough room in bi_buf, use (valid) bits from bi_buf and
     * (16 - bi_valid) bits from value, leaving (width - (16-bi_valid))
     * unused bits in value.
     */
    if(zip_bi_valid > zip_Buf_size - length) {
	zip_bi_buf |= (value << zip_bi_valid);
	zip_put_short(zip_bi_buf);
	zip_bi_buf = (value >> (zip_Buf_size - zip_bi_valid));
	zip_bi_valid += length - zip_Buf_size;
    } else {
	zip_bi_buf |= value << zip_bi_valid;
	zip_bi_valid += length;
    }
}

/* ==========================================================================
 * Reverse the first len bits of a code, using straightforward code (a faster
 * method would use a table)
 * IN assertion: 1 <= len <= 15
 */
var zip_bi_reverse = function(
	code,	// the value to invert
	len) {	// its bit length
    var res = 0;
    do {
	res |= code & 1;
	code >>= 1;
	res <<= 1;
    } while(--len > 0);
    return res >> 1;
}

/* ==========================================================================
 * Write out any remaining bits in an incomplete byte.
 */
var zip_bi_windup = function() {
    if(zip_bi_valid > 8) {
	zip_put_short(zip_bi_buf);
    } else if(zip_bi_valid > 0) {
	zip_put_byte(zip_bi_buf);
    }
    zip_bi_buf = 0;
    zip_bi_valid = 0;
}

var zip_qoutbuf = function() {
    if(zip_outcnt != 0) {
	var q, i;
	q = zip_new_queue();
	if(zip_qhead == null)
	    zip_qhead = zip_qtail = q;
	else
	    zip_qtail = zip_qtail.next = q;
	q.len = zip_outcnt - zip_outoff;
//      System.arraycopy(zip_outbuf, zip_outoff, q.ptr, 0, q.len);
	for(i = 0; i < q.len; i++)
	    q.ptr[i] = zip_outbuf[zip_outoff + i];
	zip_outcnt = zip_outoff = 0;
    }
}

var zip_deflate = function(str, level) {
    var i, j;

    zip_deflate_data = str;
    zip_deflate_pos = 0;
    if(typeof level == "undefined")
	level = zip_DEFAULT_LEVEL;
    zip_deflate_start(level);

    var buff = new Array(1024);
    var aout = [];
    while((i = zip_deflate_internal(buff, 0, buff.length)) > 0) {
	var cbuf = new Array(i);
	for(j = 0; j < i; j++){
	    cbuf[j] = String.fromCharCode(buff[j]);
	}
	aout[aout.length] = cbuf.join("");
    }
    zip_deflate_data = null; // G.C.
    return aout.join("");
}

//
// end of the script of Masanao Izumo.
//

// we add the compression method for JSZip
if(!JSZip.compressions["DEFLATE"]) {
  JSZip.compressions["DEFLATE"] = {
    magic : "\x08\x00",
    compress : zip_deflate
  }
} else {
  JSZip.compressions["DEFLATE"].compress = zip_deflate;
}

})();


/*
 * Port of a script by Masanao Izumo.
 *
 * Only changes : wrap all the variables in a function and add the 
 * main function to JSZip (DEFLATE compression method).
 * Everything else was written by M. Izumo.
 *
 * Original code can be found here: http://www.onicos.com/staff/iz/amuse/javascript/expert/inflate.txt
 */

if(!JSZip)
{
   throw "JSZip not defined";
}

/*
 * Original:
 *   http://www.onicos.com/staff/iz/amuse/javascript/expert/inflate.txt
 */

(function(){
  // the original implementation leaks a global variable.
  // Defining the variable here doesn't break anything.
  var zip_fixed_bd;

/* Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp>
 * Version: 1.0.0.1
 * LastModified: Dec 25 1999
 */

/* Interface:
 * data = zip_inflate(src);
 */

/* constant parameters */
var zip_WSIZE = 32768;		// Sliding Window size
var zip_STORED_BLOCK = 0;
var zip_STATIC_TREES = 1;
var zip_DYN_TREES    = 2;

/* for inflate */
var zip_lbits = 9; 		// bits in base literal/length lookup table
var zip_dbits = 6; 		// bits in base distance lookup table
var zip_INBUFSIZ = 32768;	// Input buffer size
var zip_INBUF_EXTRA = 64;	// Extra buffer

/* variables (inflate) */
var zip_slide;
var zip_wp;			// current position in slide
var zip_fixed_tl = null;	// inflate static
var zip_fixed_td;		// inflate static
var zip_fixed_bl, fixed_bd;	// inflate static
var zip_bit_buf;		// bit buffer
var zip_bit_len;		// bits in bit buffer
var zip_method;
var zip_eof;
var zip_copy_leng;
var zip_copy_dist;
var zip_tl, zip_td;	// literal/length and distance decoder tables
var zip_bl, zip_bd;	// number of bits decoded by tl and td

var zip_inflate_data;
var zip_inflate_pos;


/* constant tables (inflate) */
var zip_MASK_BITS = new Array(
    0x0000,
    0x0001, 0x0003, 0x0007, 0x000f, 0x001f, 0x003f, 0x007f, 0x00ff,
    0x01ff, 0x03ff, 0x07ff, 0x0fff, 0x1fff, 0x3fff, 0x7fff, 0xffff);
// Tables for deflate from PKZIP's appnote.txt.
var zip_cplens = new Array( // Copy lengths for literal codes 257..285
    3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,
    35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0);
/* note: see note #13 above about the 258 in this list. */
var zip_cplext = new Array( // Extra bits for literal codes 257..285
    0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2,
    3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 99, 99); // 99==invalid
var zip_cpdist = new Array( // Copy offsets for distance codes 0..29
    1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
    257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,
    8193, 12289, 16385, 24577);
var zip_cpdext = new Array( // Extra bits for distance codes
    0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6,
    7, 7, 8, 8, 9, 9, 10, 10, 11, 11,
    12, 12, 13, 13);
var zip_border = new Array(  // Order of the bit length code lengths
    16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15);
/* objects (inflate) */

function zip_HuftList() {
    this.next = null;
    this.list = null;
}

function zip_HuftNode() {
    this.e = 0; // number of extra bits or operation
    this.b = 0; // number of bits in this code or subcode

    // union
    this.n = 0; // literal, length base, or distance base
    this.t = null; // (zip_HuftNode) pointer to next level of table
}

function zip_HuftBuild(b,	// code lengths in bits (all assumed <= BMAX)
		       n,	// number of codes (assumed <= N_MAX)
		       s,	// number of simple-valued codes (0..s-1)
		       d,	// list of base values for non-simple codes
		       e,	// list of extra bits for non-simple codes
		       mm	// maximum lookup bits
		   ) {
    this.BMAX = 16;   // maximum bit length of any code
    this.N_MAX = 288; // maximum number of codes in any set
    this.status = 0;	// 0: success, 1: incomplete table, 2: bad input
    this.root = null;	// (zip_HuftList) starting table
    this.m = 0;		// maximum lookup bits, returns actual

/* Given a list of code lengths and a maximum table size, make a set of
   tables to decode that set of codes.	Return zero on success, one if
   the given code set is incomplete (the tables are still built in this
   case), two if the input is invalid (all zero length codes or an
   oversubscribed set of lengths), and three if not enough memory.
   The code with value 256 is special, and the tables are constructed
   so that no bits beyond that code are fetched when that code is
   decoded. */
    {
	var a;			// counter for codes of length k
	var c = new Array(this.BMAX+1);	// bit length count table
	var el;			// length of EOB code (value 256)
	var f;			// i repeats in table every f entries
	var g;			// maximum code length
	var h;			// table level
	var i;			// counter, current code
	var j;			// counter
	var k;			// number of bits in current code
	var lx = new Array(this.BMAX+1);	// stack of bits per table
	var p;			// pointer into c[], b[], or v[]
	var pidx;		// index of p
	var q;			// (zip_HuftNode) points to current table
	var r = new zip_HuftNode(); // table entry for structure assignment
	var u = new Array(this.BMAX); // zip_HuftNode[BMAX][]  table stack
	var v = new Array(this.N_MAX); // values in order of bit length
	var w;
	var x = new Array(this.BMAX+1);// bit offsets, then code stack
	var xp;			// pointer into x or c
	var y;			// number of dummy codes added
	var z;			// number of entries in current table
	var o;
	var tail;		// (zip_HuftList)

	tail = this.root = null;
	for(i = 0; i < c.length; i++)
	    c[i] = 0;
	for(i = 0; i < lx.length; i++)
	    lx[i] = 0;
	for(i = 0; i < u.length; i++)
	    u[i] = null;
	for(i = 0; i < v.length; i++)
	    v[i] = 0;
	for(i = 0; i < x.length; i++)
	    x[i] = 0;

	// Generate counts for each bit length
	el = n > 256 ? b[256] : this.BMAX; // set length of EOB code, if any
	p = b; pidx = 0;
	i = n;
	do {
	    c[p[pidx]]++;	// assume all entries <= BMAX
	    pidx++;
	} while(--i > 0);
	if(c[0] == n) {	// null input--all zero length codes
	    this.root = null;
	    this.m = 0;
	    this.status = 0;
	    return;
	}

	// Find minimum and maximum length, bound *m by those
	for(j = 1; j <= this.BMAX; j++)
	    if(c[j] != 0)
		break;
	k = j;			// minimum code length
	if(mm < j)
	    mm = j;
	for(i = this.BMAX; i != 0; i--)
	    if(c[i] != 0)
		break;
	g = i;			// maximum code length
	if(mm > i)
	    mm = i;

	// Adjust last length count to fill out codes, if needed
	for(y = 1 << j; j < i; j++, y <<= 1)
	    if((y -= c[j]) < 0) {
		this.status = 2;	// bad input: more codes than bits
		this.m = mm;
		return;
	    }
	if((y -= c[i]) < 0) {
	    this.status = 2;
	    this.m = mm;
	    return;
	}
	c[i] += y;

	// Generate starting offsets into the value table for each length
	x[1] = j = 0;
	p = c;
	pidx = 1;
	xp = 2;
	while(--i > 0)		// note that i == g from above
	    x[xp++] = (j += p[pidx++]);

	// Make a table of values in order of bit lengths
	p = b; pidx = 0;
	i = 0;
	do {
	    if((j = p[pidx++]) != 0)
		v[x[j]++] = i;
	} while(++i < n);
	n = x[g];			// set n to length of v

	// Generate the Huffman codes and for each, make the table entries
	x[0] = i = 0;		// first Huffman code is zero
	p = v; pidx = 0;		// grab values in bit order
	h = -1;			// no tables yet--level -1
	w = lx[0] = 0;		// no bits decoded yet
	q = null;			// ditto
	z = 0;			// ditto

	// go through the bit lengths (k already is bits in shortest code)
	for(; k <= g; k++) {
	    a = c[k];
	    while(a-- > 0) {
		// here i is the Huffman code of length k bits for value p[pidx]
		// make tables up to required level
		while(k > w + lx[1 + h]) {
		    w += lx[1 + h]; // add bits already decoded
		    h++;

		    // compute minimum size table less than or equal to *m bits
		    z = (z = g - w) > mm ? mm : z; // upper limit
		    if((f = 1 << (j = k - w)) > a + 1) { // try a k-w bit table
			// too few codes for k-w bit table
			f -= a + 1;	// deduct codes from patterns left
			xp = k;
			while(++j < z) { // try smaller tables up to z bits
			    if((f <<= 1) <= c[++xp])
				break;	// enough codes to use up j bits
			    f -= c[xp];	// else deduct codes from patterns
			}
		    }
		    if(w + j > el && w < el)
			j = el - w;	// make EOB code end at table
		    z = 1 << j;	// table entries for j-bit table
		    lx[1 + h] = j; // set table size in stack

		    // allocate and link in new table
		    q = new Array(z);
		    for(o = 0; o < z; o++) {
			q[o] = new zip_HuftNode();
		    }

		    if(tail == null)
			tail = this.root = new zip_HuftList();
		    else
			tail = tail.next = new zip_HuftList();
		    tail.next = null;
		    tail.list = q;
		    u[h] = q;	// table starts after link

		    /* connect to last table, if there is one */
		    if(h > 0) {
			x[h] = i;		// save pattern for backing up
			r.b = lx[h];	// bits to dump before this table
			r.e = 16 + j;	// bits in this table
			r.t = q;		// pointer to this table
			j = (i & ((1 << w) - 1)) >> (w - lx[h]);
			u[h-1][j].e = r.e;
			u[h-1][j].b = r.b;
			u[h-1][j].n = r.n;
			u[h-1][j].t = r.t;
		    }
		}

		// set up table entry in r
		r.b = k - w;
		if(pidx >= n)
		    r.e = 99;		// out of values--invalid code
		else if(p[pidx] < s) {
		    r.e = (p[pidx] < 256 ? 16 : 15); // 256 is end-of-block code
		    r.n = p[pidx++];	// simple code is just the value
		} else {
		    r.e = e[p[pidx] - s];	// non-simple--look up in lists
		    r.n = d[p[pidx++] - s];
		}

		// fill code-like entries with r //
		f = 1 << (k - w);
		for(j = i >> w; j < z; j += f) {
		    q[j].e = r.e;
		    q[j].b = r.b;
		    q[j].n = r.n;
		    q[j].t = r.t;
		}

		// backwards increment the k-bit code i
		for(j = 1 << (k - 1); (i & j) != 0; j >>= 1)
		    i ^= j;
		i ^= j;

		// backup over finished tables
		while((i & ((1 << w) - 1)) != x[h]) {
		    w -= lx[h];		// don't need to update q
		    h--;
		}
	    }
	}

	/* return actual size of base table */
	this.m = lx[1];

	/* Return true (1) if we were given an incomplete table */
	this.status = ((y != 0 && g != 1) ? 1 : 0);
    } /* end of constructor */
}


/* routines (inflate) */

function zip_GET_BYTE() {
    if(zip_inflate_data.length == zip_inflate_pos)
	return -1;
    return zip_inflate_data.charCodeAt(zip_inflate_pos++) & 0xff;
}

function zip_NEEDBITS(n) {
    while(zip_bit_len < n) {
	zip_bit_buf |= zip_GET_BYTE() << zip_bit_len;
	zip_bit_len += 8;
    }
}

function zip_GETBITS(n) {
    return zip_bit_buf & zip_MASK_BITS[n];
}

function zip_DUMPBITS(n) {
    zip_bit_buf >>= n;
    zip_bit_len -= n;
}

function zip_inflate_codes(buff, off, size) {
    /* inflate (decompress) the codes in a deflated (compressed) block.
       Return an error code or zero if it all goes ok. */
    var e;		// table entry flag/number of extra bits
    var t;		// (zip_HuftNode) pointer to table entry
    var n;

    if(size == 0)
      return 0;

    // inflate the coded data
    n = 0;
    for(;;) {			// do until end of block
	zip_NEEDBITS(zip_bl);
	t = zip_tl.list[zip_GETBITS(zip_bl)];
	e = t.e;
	while(e > 16) {
	    if(e == 99)
		return -1;
	    zip_DUMPBITS(t.b);
	    e -= 16;
	    zip_NEEDBITS(e);
	    t = t.t[zip_GETBITS(e)];
	    e = t.e;
	}
	zip_DUMPBITS(t.b);

	if(e == 16) {		// then it's a literal
	    zip_wp &= zip_WSIZE - 1;
	    buff[off + n++] = zip_slide[zip_wp++] = t.n;
	    if(n == size)
		return size;
	    continue;
	}

	// exit if end of block
	if(e == 15)
	    break;

	// it's an EOB or a length

	// get length of block to copy
	zip_NEEDBITS(e);
	zip_copy_leng = t.n + zip_GETBITS(e);
	zip_DUMPBITS(e);

	// decode distance of block to copy
	zip_NEEDBITS(zip_bd);
	t = zip_td.list[zip_GETBITS(zip_bd)];
	e = t.e;

	while(e > 16) {
	    if(e == 99)
		return -1;
	    zip_DUMPBITS(t.b);
	    e -= 16;
	    zip_NEEDBITS(e);
	    t = t.t[zip_GETBITS(e)];
	    e = t.e;
	}
	zip_DUMPBITS(t.b);
	zip_NEEDBITS(e);
	zip_copy_dist = zip_wp - t.n - zip_GETBITS(e);
	zip_DUMPBITS(e);

	// do the copy
	while(zip_copy_leng > 0 && n < size) {
	    zip_copy_leng--;
	    zip_copy_dist &= zip_WSIZE - 1;
	    zip_wp &= zip_WSIZE - 1;
	    buff[off + n++] = zip_slide[zip_wp++]
		= zip_slide[zip_copy_dist++];
	}

	if(n == size)
	    return size;
    }

    zip_method = -1; // done
    return n;
}

function zip_inflate_stored(buff, off, size) {
    /* "decompress" an inflated type 0 (stored) block. */
    var n;

    // go to byte boundary
    n = zip_bit_len & 7;
    zip_DUMPBITS(n);

    // get the length and its complement
    zip_NEEDBITS(16);
    n = zip_GETBITS(16);
    zip_DUMPBITS(16);
    zip_NEEDBITS(16);
    if(n != ((~zip_bit_buf) & 0xffff))
	return -1;			// error in compressed data
    zip_DUMPBITS(16);

    // read and output the compressed data
    zip_copy_leng = n;

    n = 0;
    while(zip_copy_leng > 0 && n < size) {
	zip_copy_leng--;
	zip_wp &= zip_WSIZE - 1;
	zip_NEEDBITS(8);
	buff[off + n++] = zip_slide[zip_wp++] =
	    zip_GETBITS(8);
	zip_DUMPBITS(8);
    }

    if(zip_copy_leng == 0)
      zip_method = -1; // done
    return n;
}

function zip_inflate_fixed(buff, off, size) {
    /* decompress an inflated type 1 (fixed Huffman codes) block.  We should
       either replace this with a custom decoder, or at least precompute the
       Huffman tables. */

    // if first time, set up tables for fixed blocks
    if(zip_fixed_tl == null) {
	var i;			// temporary variable
	var l = new Array(288);	// length list for huft_build
	var h;	// zip_HuftBuild

	// literal table
	for(i = 0; i < 144; i++)
	    l[i] = 8;
	for(; i < 256; i++)
	    l[i] = 9;
	for(; i < 280; i++)
	    l[i] = 7;
	for(; i < 288; i++)	// make a complete, but wrong code set
	    l[i] = 8;
	zip_fixed_bl = 7;

	h = new zip_HuftBuild(l, 288, 257, zip_cplens, zip_cplext,
			      zip_fixed_bl);
	if(h.status != 0) {
	    alert("HufBuild error: "+h.status);
	    return -1;
	}
	zip_fixed_tl = h.root;
	zip_fixed_bl = h.m;

	// distance table
	for(i = 0; i < 30; i++)	// make an incomplete code set
	    l[i] = 5;
	zip_fixed_bd = 5;

	h = new zip_HuftBuild(l, 30, 0, zip_cpdist, zip_cpdext, zip_fixed_bd);
	if(h.status > 1) {
	    zip_fixed_tl = null;
	    alert("HufBuild error: "+h.status);
	    return -1;
	}
	zip_fixed_td = h.root;
	zip_fixed_bd = h.m;
    }

    zip_tl = zip_fixed_tl;
    zip_td = zip_fixed_td;
    zip_bl = zip_fixed_bl;
    zip_bd = zip_fixed_bd;
    return zip_inflate_codes(buff, off, size);
}

function zip_inflate_dynamic(buff, off, size) {
    // decompress an inflated type 2 (dynamic Huffman codes) block.
    var i;		// temporary variables
    var j;
    var l;		// last length
    var n;		// number of lengths to get
    var t;		// (zip_HuftNode) literal/length code table
    var nb;		// number of bit length codes
    var nl;		// number of literal/length codes
    var nd;		// number of distance codes
    var ll = new Array(286+30); // literal/length and distance code lengths
    var h;		// (zip_HuftBuild)

    for(i = 0; i < ll.length; i++)
	ll[i] = 0;

    // read in table lengths
    zip_NEEDBITS(5);
    nl = 257 + zip_GETBITS(5);	// number of literal/length codes
    zip_DUMPBITS(5);
    zip_NEEDBITS(5);
    nd = 1 + zip_GETBITS(5);	// number of distance codes
    zip_DUMPBITS(5);
    zip_NEEDBITS(4);
    nb = 4 + zip_GETBITS(4);	// number of bit length codes
    zip_DUMPBITS(4);
    if(nl > 286 || nd > 30)
      return -1;		// bad lengths

    // read in bit-length-code lengths
    for(j = 0; j < nb; j++)
    {
	zip_NEEDBITS(3);
	ll[zip_border[j]] = zip_GETBITS(3);
	zip_DUMPBITS(3);
    }
    for(; j < 19; j++)
	ll[zip_border[j]] = 0;

    // build decoding table for trees--single level, 7 bit lookup
    zip_bl = 7;
    h = new zip_HuftBuild(ll, 19, 19, null, null, zip_bl);
    if(h.status != 0)
	return -1;	// incomplete code set

    zip_tl = h.root;
    zip_bl = h.m;

    // read in literal and distance code lengths
    n = nl + nd;
    i = l = 0;
    while(i < n) {
	zip_NEEDBITS(zip_bl);
	t = zip_tl.list[zip_GETBITS(zip_bl)];
	j = t.b;
	zip_DUMPBITS(j);
	j = t.n;
	if(j < 16)		// length of code in bits (0..15)
	    ll[i++] = l = j;	// save last length in l
	else if(j == 16) {	// repeat last length 3 to 6 times
	    zip_NEEDBITS(2);
	    j = 3 + zip_GETBITS(2);
	    zip_DUMPBITS(2);
	    if(i + j > n)
		return -1;
	    while(j-- > 0)
		ll[i++] = l;
	} else if(j == 17) {	// 3 to 10 zero length codes
	    zip_NEEDBITS(3);
	    j = 3 + zip_GETBITS(3);
	    zip_DUMPBITS(3);
	    if(i + j > n)
		return -1;
	    while(j-- > 0)
		ll[i++] = 0;
	    l = 0;
	} else {		// j == 18: 11 to 138 zero length codes
	    zip_NEEDBITS(7);
	    j = 11 + zip_GETBITS(7);
	    zip_DUMPBITS(7);
	    if(i + j > n)
		return -1;
	    while(j-- > 0)
		ll[i++] = 0;
	    l = 0;
	}
    }

    // build the decoding tables for literal/length and distance codes
    zip_bl = zip_lbits;
    h = new zip_HuftBuild(ll, nl, 257, zip_cplens, zip_cplext, zip_bl);
    if(zip_bl == 0)	// no literals or lengths
	h.status = 1;
    if(h.status != 0) {
	if(h.status == 1)
	    ;// **incomplete literal tree**
	return -1;		// incomplete code set
    }
    zip_tl = h.root;
    zip_bl = h.m;

    for(i = 0; i < nd; i++)
	ll[i] = ll[i + nl];
    zip_bd = zip_dbits;
    h = new zip_HuftBuild(ll, nd, 0, zip_cpdist, zip_cpdext, zip_bd);
    zip_td = h.root;
    zip_bd = h.m;

    if(zip_bd == 0 && nl > 257) {   // lengths but no distances
	// **incomplete distance tree**
	return -1;
    }

    if(h.status == 1) {
	;// **incomplete distance tree**
    }
    if(h.status != 0)
	return -1;

    // decompress until an end-of-block code
    return zip_inflate_codes(buff, off, size);
}

function zip_inflate_start() {
    var i;

    if(zip_slide == null)
	zip_slide = new Array(2 * zip_WSIZE);
    zip_wp = 0;
    zip_bit_buf = 0;
    zip_bit_len = 0;
    zip_method = -1;
    zip_eof = false;
    zip_copy_leng = zip_copy_dist = 0;
    zip_tl = null;
}

function zip_inflate_internal(buff, off, size) {
    // decompress an inflated entry
    var n, i;

    n = 0;
    while(n < size) {
	if(zip_eof && zip_method == -1)
	    return n;

	if(zip_copy_leng > 0) {
	    if(zip_method != zip_STORED_BLOCK) {
		// STATIC_TREES or DYN_TREES
		while(zip_copy_leng > 0 && n < size) {
		    zip_copy_leng--;
		    zip_copy_dist &= zip_WSIZE - 1;
		    zip_wp &= zip_WSIZE - 1;
		    buff[off + n++] = zip_slide[zip_wp++] =
			zip_slide[zip_copy_dist++];
		}
	    } else {
		while(zip_copy_leng > 0 && n < size) {
		    zip_copy_leng--;
		    zip_wp &= zip_WSIZE - 1;
		    zip_NEEDBITS(8);
		    buff[off + n++] = zip_slide[zip_wp++] = zip_GETBITS(8);
		    zip_DUMPBITS(8);
		}
		if(zip_copy_leng == 0)
		    zip_method = -1; // done
	    }
	    if(n == size)
		return n;
	}

	if(zip_method == -1) {
	    if(zip_eof)
		break;

	    // read in last block bit
	    zip_NEEDBITS(1);
	    if(zip_GETBITS(1) != 0)
		zip_eof = true;
	    zip_DUMPBITS(1);

	    // read in block type
	    zip_NEEDBITS(2);
	    zip_method = zip_GETBITS(2);
	    zip_DUMPBITS(2);
	    zip_tl = null;
	    zip_copy_leng = 0;
	}

	switch(zip_method) {
	  case 0: // zip_STORED_BLOCK
	    i = zip_inflate_stored(buff, off + n, size - n);
	    break;

	  case 1: // zip_STATIC_TREES
	    if(zip_tl != null)
		i = zip_inflate_codes(buff, off + n, size - n);
	    else
		i = zip_inflate_fixed(buff, off + n, size - n);
	    break;

	  case 2: // zip_DYN_TREES
	    if(zip_tl != null)
		i = zip_inflate_codes(buff, off + n, size - n);
	    else
		i = zip_inflate_dynamic(buff, off + n, size - n);
	    break;

	  default: // error
	    i = -1;
	    break;
	}

	if(i == -1) {
	    if(zip_eof)
		return 0;
	    return -1;
	}
	n += i;
    }
    return n;
}

function zip_inflate(str) {
    var out, buff;
    var i, j;

    zip_inflate_start();
    zip_inflate_data = str;
    zip_inflate_pos = 0;

    buff = new Array(1024);
    out = "";
    while((i = zip_inflate_internal(buff, 0, buff.length)) > 0) {
	for(j = 0; j < i; j++)
	    out += String.fromCharCode(buff[j]);
    }
    zip_inflate_data = null; // G.C.
    return out;
}

//
// end of the script of Masanao Izumo.
//

// we add the compression method for JSZip
if(!JSZip.compressions["DEFLATE"]) {
  JSZip.compressions["DEFLATE"] = {
    magic : "\x08\x00",
    uncompress : zip_inflate
  }
} else {
  JSZip.compressions["DEFLATE"].uncompress = zip_inflate;
}

})();